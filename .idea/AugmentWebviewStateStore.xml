<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiJjYWI4MjAyZS00ODFlLTRkOWQtOTNkYy1iZTc5ZDc3MGYzMzIiLCJjb252ZXJzYXRpb25zIjp7IjNjYjFmNzJiLWNjZDYtNDJkMS04MWQyLTIwMmNmZGJjOTYwZSI6eyJpZCI6IjNjYjFmNzJiLWNjZDYtNDJkMS04MWQyLTIwMmNmZGJjOTYwZSIsIm5hbWUiOiJXZWxjb21lIHRvIHRoZSBBdWdtZW50IEFnZW50IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNS0xMVQwOTozMToyNC44ODlaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDUtMTNUMDE6MTc6NDkuMzI3WiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiMjg4YmI2YzktNjlhNi00MTg5LTgxNWEtYjlhYjE5MzgzODNiIiwidXVpZCI6IjM5OGYyNTQzLTg0MzQtNDZhMy04NTNhLTE0M2ZjMzc0ZTJlMCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDY5NTU4ODQ4OTEsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImExZjZhMGYzLWY5NWMtNDBmMC1hMTM5LWI0ZjBmYmFkMWRkOCIsInJlcXVlc3RfbWVzc2FnZSI6ImZpeCBlcnJvcjogcnVuOlxyXG5qYXZhLnNxbC5TUUxJbnRlZ3JpdHlDb25zdHJhaW50VmlvbGF0aW9uRXhjZXB0aW9uOiBDYW5ub3QgYWRkIG9yIHVwZGF0ZSBhIGNoaWxkIHJvdzogYSBmb3JlaWduIGtleSBjb25zdHJhaW50IGZhaWxzIChgSW50ZXJuZXREQmAuYFNVQlNDUklCRVJgLCBDT05TVFJBSU5UIGBTVUJTQ1JJQkVSX2liZmtfMWAgRk9SRUlHTiBLRVkgKGB1c2VyX2lkYCkgUkVGRVJFTkNFUyBgVVNFUmAgKGB1c2VyX2lkYCkpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuZXhjZXB0aW9ucy5TUUxFcnJvci5jcmVhdGVTUUxFeGNlcHRpb24oU1FMRXJyb3IuamF2YToxMTcpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuZXhjZXB0aW9ucy5TUUxFeGNlcHRpb25zTWFwcGluZy50cmFuc2xhdGVFeGNlcHRpb24oU1FMRXhjZXB0aW9uc01hcHBpbmcuamF2YToxMjIpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6OTE2KVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEwNjEpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTAwOSlcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlTGFyZ2VVcGRhdGUoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMzIwKVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGUoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YTo5OTQpXHJcblx0YXQgREFPLlN1YnNjcmliZXJEQU8uaW5zZXJ0KFN1YnNjcmliZXJEQU8uamF2YTo0NClcclxuXHRhdCBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcC5idG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoU2lnblVwLmphdmE6Mjc5KVxyXG5cdGF0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwJDcuYWN0aW9uUGVyZm9ybWVkKFNpZ25VcC5qYXZhOjE3MSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuQWJzdHJhY3RCdXR0b24uZmlyZUFjdGlvblBlcmZvcm1lZChBYnN0cmFjdEJ1dHRvbi5qYXZhOjE5NzIpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkFic3RyYWN0QnV0dG9uJEhhbmRsZXIuYWN0aW9uUGVyZm9ybWVkKEFic3RyYWN0QnV0dG9uLmphdmE6MjMxNClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuRGVmYXVsdEJ1dHRvbk1vZGVsLmZpcmVBY3Rpb25QZXJmb3JtZWQoRGVmYXVsdEJ1dHRvbk1vZGVsLmphdmE6NDA3KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5EZWZhdWx0QnV0dG9uTW9kZWwuc2V0UHJlc3NlZChEZWZhdWx0QnV0dG9uTW9kZWwuamF2YToyNjIpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLnBsYWYuYmFzaWMuQmFzaWNCdXR0b25MaXN0ZW5lci5tb3VzZVJlbGVhc2VkKEJhc2ljQnV0dG9uTGlzdGVuZXIuamF2YToyNzkpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5wcm9jZXNzTW91c2VFdmVudChDb21wb25lbnQuamF2YTo2NjIxKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5KQ29tcG9uZW50LnByb2Nlc3NNb3VzZUV2ZW50KEpDb21wb25lbnQuamF2YTozMzk4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQucHJvY2Vzc0V2ZW50KENvbXBvbmVudC5qYXZhOjYzODYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5wcm9jZXNzRXZlbnQoQ29udGFpbmVyLmphdmE6MjI2NilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnRJbXBsKENvbXBvbmVudC5qYXZhOjQ5OTYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5kaXNwYXRjaEV2ZW50SW1wbChDb250YWluZXIuamF2YToyMzI0KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudChDb21wb25lbnQuamF2YTo0ODI4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIucmV0YXJnZXRNb3VzZUV2ZW50KENvbnRhaW5lci5qYXZhOjQ5NDgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5wcm9jZXNzTW91c2VFdmVudChDb250YWluZXIuamF2YTo0NTc1KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChDb250YWluZXIuamF2YTo0NTE2KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIuZGlzcGF0Y2hFdmVudEltcGwoQ29udGFpbmVyLmphdmE6MjMxMClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuV2luZG93LmRpc3BhdGNoRXZlbnRJbXBsKFdpbmRvdy5qYXZhOjI3ODApXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50KENvbXBvbmVudC5qYXZhOjQ4MjgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUuZGlzcGF0Y2hFdmVudEltcGwoRXZlbnRRdWV1ZS5qYXZhOjc3NSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ0LnJ1bihFdmVudFF1ZXVlLmphdmE6NzIwKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDQucnVuKEV2ZW50UXVldWUuamF2YTo3MTQpXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoQWNjZXNzQ29udHJvbGxlci5qYXZhOjQwMClcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjg3KVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6OTgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNS5ydW4oRXZlbnRRdWV1ZS5qYXZhOjc0NylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ1LnJ1bihFdmVudFF1ZXVlLmphdmE6NzQ1KVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKEFjY2Vzc0NvbnRyb2xsZXIuamF2YTo0MDApXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo4NylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZS5kaXNwYXRjaEV2ZW50KEV2ZW50UXVldWUuamF2YTo3NDQpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcE9uZUV2ZW50Rm9yRmlsdGVycyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MjAzKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHNGb3JGaWx0ZXIoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEyNClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzRm9ySGllcmFyY2h5KEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMTMpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50cyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTA5KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEwMSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5ydW4oRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjkwKVxyXG4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiZml4IGVycm9yOiBydW46XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImphdmEuc3FsLlNRTEludGVncml0eUNvbnN0cmFpbnRWaW9sYXRpb25FeGNlcHRpb246IENhbm5vdCBhZGQgb3IgdXBkYXRlIGEgY2hpbGQgcm93OiBhIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZmFpbHMgKGBJbnRlcm5ldERCYC5gU1VCU0NSSUJFUmAsIENPTlNUUkFJTlQgYFNVQlNDUklCRVJfaWJma18xYCBGT1JFSUdOIEtFWSAoYHVzZXJfaWRgKSBSRUZFUkVOQ0VTIGBVU0VSYCAoYHVzZXJfaWRgKSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5leGNlcHRpb25zLlNRTEVycm9yLmNyZWF0ZVNRTEV4Y2VwdGlvbihTUUxFcnJvci5qYXZhOjExNylcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5leGNlcHRpb25zLlNRTEV4Y2VwdGlvbnNNYXBwaW5nLnRyYW5zbGF0ZUV4Y2VwdGlvbihTUUxFeGNlcHRpb25zTWFwcGluZy5qYXZhOjEyMilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YTo5MTYpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTA2MSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMDA5KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVMYXJnZVVwZGF0ZShDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEzMjApXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZShDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjk5NClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBEQU8uU3Vic2NyaWJlckRBTy5pbnNlcnQoU3Vic2NyaWJlckRBTy5qYXZhOjQ0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwLmJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChTaWduVXAuamF2YToyNzkpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5TaWduVXAkNy5hY3Rpb25QZXJmb3JtZWQoU2lnblVwLmphdmE6MTcxKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5BYnN0cmFjdEJ1dHRvbi5maXJlQWN0aW9uUGVyZm9ybWVkKEFic3RyYWN0QnV0dG9uLmphdmE6MTk3MilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuQWJzdHJhY3RCdXR0b24kSGFuZGxlci5hY3Rpb25QZXJmb3JtZWQoQWJzdHJhY3RCdXR0b24uamF2YToyMzE0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5EZWZhdWx0QnV0dG9uTW9kZWwuZmlyZUFjdGlvblBlcmZvcm1lZChEZWZhdWx0QnV0dG9uTW9kZWwuamF2YTo0MDcpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkRlZmF1bHRCdXR0b25Nb2RlbC5zZXRQcmVzc2VkKERlZmF1bHRCdXR0b25Nb2RlbC5qYXZhOjI2MilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcucGxhZi5iYXNpYy5CYXNpY0J1dHRvbkxpc3RlbmVyLm1vdXNlUmVsZWFzZWQoQmFzaWNCdXR0b25MaXN0ZW5lci5qYXZhOjI3OSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LnByb2Nlc3NNb3VzZUV2ZW50KENvbXBvbmVudC5qYXZhOjY2MjEpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkpDb21wb25lbnQucHJvY2Vzc01vdXNlRXZlbnQoSkNvbXBvbmVudC5qYXZhOjMzOTgpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5wcm9jZXNzRXZlbnQoQ29tcG9uZW50LmphdmE6NjM4NilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLnByb2Nlc3NFdmVudChDb250YWluZXIuamF2YToyMjY2KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudEltcGwoQ29tcG9uZW50LmphdmE6NDk5NilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLmRpc3BhdGNoRXZlbnRJbXBsKENvbnRhaW5lci5qYXZhOjIzMjQpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50KENvbXBvbmVudC5qYXZhOjQ4MjgpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5yZXRhcmdldE1vdXNlRXZlbnQoQ29udGFpbmVyLmphdmE6NDk0OClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLnByb2Nlc3NNb3VzZUV2ZW50KENvbnRhaW5lci5qYXZhOjQ1NzUpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KENvbnRhaW5lci5qYXZhOjQ1MTYpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5kaXNwYXRjaEV2ZW50SW1wbChDb250YWluZXIuamF2YToyMzEwKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5XaW5kb3cuZGlzcGF0Y2hFdmVudEltcGwoV2luZG93LmphdmE6Mjc4MClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnQoQ29tcG9uZW50LmphdmE6NDgyOClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZS5kaXNwYXRjaEV2ZW50SW1wbChFdmVudFF1ZXVlLmphdmE6Nzc1KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDQucnVuKEV2ZW50UXVldWUuamF2YTo3MjApXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNC5ydW4oRXZlbnRRdWV1ZS5qYXZhOjcxNClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChBY2Nlc3NDb250cm9sbGVyLmphdmE6NDAwKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6ODcpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo5OClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ1LnJ1bihFdmVudFF1ZXVlLmphdmE6NzQ3KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDUucnVuKEV2ZW50UXVldWUuamF2YTo3NDUpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoQWNjZXNzQ29udHJvbGxlci5qYXZhOjQwMClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjg3KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlLmRpc3BhdGNoRXZlbnQoRXZlbnRRdWV1ZS5qYXZhOjc0NClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wT25lRXZlbnRGb3JGaWx0ZXJzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToyMDMpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50c0ZvckZpbHRlcihFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTI0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHNGb3JIaWVyYXJjaHkoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjExMylcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMDkpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50cyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTAxKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnJ1bihFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6OTApXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFDd3lMS1FHdHpacHU1WU5lbkpub1VLIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IHRoZSBTdWJzY3JpYmVyREFPLmphdmEgZmlsZSwgZXNwZWNpYWxseSB0aGUgaW5zZXJ0IG1ldGhvZCBhdCBsaW5lIDQ0IHRoYXQncyBtZW50aW9uZWQgaW4gdGhlIGVycm9yIHN0YWNrIHRyYWNlLlwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgZml4IHRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IGVycm9yLiBUaGlzIGVycm9yIG9jY3VycyB3aGVuIHRyeWluZyB0byBhZGQgYSByZWNvcmQgdG8gdGhlIFNVQlNDUklCRVIgdGFibGUgd2l0aCBhIHVzZXJfaWQgdGhhdCBkb2Vzbid0IGV4aXN0IGluIHRoZSBVU0VSIHRhYmxlLiBMZXQncyBpbnZlc3RpZ2F0ZSBhbmQgZml4IHRoaXMgaXNzdWUuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5GaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgcmVsZXZhbnQgY29kZSBpbiB0aGUgU3Vic2NyaWJlckRBTyBhbmQgU2lnblVwIGNsYXNzZXMgdG8gdW5kZXJzdGFuZCB3aGF0J3MgaGFwcGVuaW5nOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJmaXggZXJyb3I6IHJ1bjpcclxuamF2YS5zcWwuU1FMSW50ZWdyaXR5Q29uc3RyYWludFZpb2xhdGlvbkV4Y2VwdGlvbjogQ2Fubm90IGFkZCBvciB1cGRhdGUgYSBjaGlsZCByb3c6IGEgZm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlscyAoYEludGVybmV0REJgLmBTVUJTQ1JJQkVSYCwgQ09OU1RSQUlOVCBgU1VCU0NSSUJFUl9pYmZrXzFgIEZPUkVJR04gS0VZIChgdXNlcl9pZGApIFJFRkVSRU5DRVMgYFVTRVJgIChgdXNlcl9pZGApKVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLmV4Y2VwdGlvbnMuU1FMRXJyb3IuY3JlYXRlU1FMRXhjZXB0aW9uKFNRTEVycm9yLmphdmE6MTE3KVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLmV4Y2VwdGlvbnMuU1FMRXhjZXB0aW9uc01hcHBpbmcudHJhbnNsYXRlRXhjZXB0aW9uKFNRTEV4Y2VwdGlvbnNNYXBwaW5nLmphdmE6MTIyKVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjkxNilcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMDYxKVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEwMDkpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZUxhcmdlVXBkYXRlKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTMyMClcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6OTk0KVxyXG5cdGF0IERBTy5TdWJzY3JpYmVyREFPLmluc2VydChTdWJzY3JpYmVyREFPLmphdmE6NDQpXHJcblx0YXQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5TaWduVXAuYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKFNpZ25VcC5qYXZhOjI3OSlcclxuXHRhdCBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcCQ3LmFjdGlvblBlcmZvcm1lZChTaWduVXAuamF2YToxNzEpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkFic3RyYWN0QnV0dG9uLmZpcmVBY3Rpb25QZXJmb3JtZWQoQWJzdHJhY3RCdXR0b24uamF2YToxOTcyKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5BYnN0cmFjdEJ1dHRvbiRIYW5kbGVyLmFjdGlvblBlcmZvcm1lZChBYnN0cmFjdEJ1dHRvbi5qYXZhOjIzMTQpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkRlZmF1bHRCdXR0b25Nb2RlbC5maXJlQWN0aW9uUGVyZm9ybWVkKERlZmF1bHRCdXR0b25Nb2RlbC5qYXZhOjQwNylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuRGVmYXVsdEJ1dHRvbk1vZGVsLnNldFByZXNzZWQoRGVmYXVsdEJ1dHRvbk1vZGVsLmphdmE6MjYyKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5wbGFmLmJhc2ljLkJhc2ljQnV0dG9uTGlzdGVuZXIubW91c2VSZWxlYXNlZChCYXNpY0J1dHRvbkxpc3RlbmVyLmphdmE6Mjc5KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQucHJvY2Vzc01vdXNlRXZlbnQoQ29tcG9uZW50LmphdmE6NjYyMSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuSkNvbXBvbmVudC5wcm9jZXNzTW91c2VFdmVudChKQ29tcG9uZW50LmphdmE6MzM5OClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LnByb2Nlc3NFdmVudChDb21wb25lbnQuamF2YTo2Mzg2KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIucHJvY2Vzc0V2ZW50KENvbnRhaW5lci5qYXZhOjIyNjYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50SW1wbChDb21wb25lbnQuamF2YTo0OTk2KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIuZGlzcGF0Y2hFdmVudEltcGwoQ29udGFpbmVyLmphdmE6MjMyNClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnQoQ29tcG9uZW50LmphdmE6NDgyOClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLnJldGFyZ2V0TW91c2VFdmVudChDb250YWluZXIuamF2YTo0OTQ4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIucHJvY2Vzc01vdXNlRXZlbnQoQ29udGFpbmVyLmphdmE6NDU3NSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoQ29udGFpbmVyLmphdmE6NDUxNilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLmRpc3BhdGNoRXZlbnRJbXBsKENvbnRhaW5lci5qYXZhOjIzMTApXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LldpbmRvdy5kaXNwYXRjaEV2ZW50SW1wbChXaW5kb3cuamF2YToyNzgwKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudChDb21wb25lbnQuamF2YTo0ODI4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlLmRpc3BhdGNoRXZlbnRJbXBsKEV2ZW50UXVldWUuamF2YTo3NzUpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNC5ydW4oRXZlbnRRdWV1ZS5qYXZhOjcyMClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ0LnJ1bihFdmVudFF1ZXVlLmphdmE6NzE0KVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKEFjY2Vzc0NvbnRyb2xsZXIuamF2YTo0MDApXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo4NylcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjk4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDUucnVuKEV2ZW50UXVldWUuamF2YTo3NDcpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNS5ydW4oRXZlbnRRdWV1ZS5qYXZhOjc0NSlcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChBY2Nlc3NDb250cm9sbGVyLmphdmE6NDAwKVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6ODcpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUuZGlzcGF0Y2hFdmVudChFdmVudFF1ZXVlLmphdmE6NzQ0KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBPbmVFdmVudEZvckZpbHRlcnMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjIwMylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzRm9yRmlsdGVyKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMjQpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50c0ZvckhpZXJhcmNoeShFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTEzKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEwOSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMDEpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucnVuKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YTo5MClcclxuIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzI6MTguOTQ2WiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGZpeCB0aGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCBlcnJvci4gVGhpcyBlcnJvciBvY2N1cnMgd2hlbiB0cnlpbmcgdG8gYWRkIGEgcmVjb3JkIHRvIHRoZSBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggYSB1c2VyX2lkIHRoYXQgZG9lc24ndCBleGlzdCBpbiB0aGUgVVNFUiB0YWJsZS4gTGV0J3MgaW52ZXN0aWdhdGUgYW5kIGZpeCB0aGlzIGlzc3VlLlxuXG4jIyBJbmZvcm1hdGlvbiBHYXRoZXJpbmdcblxuRmlyc3QsIGxldCdzIGxvb2sgYXQgdGhlIHJlbGV2YW50IGNvZGUgaW4gdGhlIFN1YnNjcmliZXJEQU8gYW5kIFNpZ25VcCBjbGFzc2VzIHRvIHVuZGVyc3RhbmQgd2hhdCdzIGhhcHBlbmluZzpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzZTVkYzM3YS0xODlmLTRmYTYtYTQ5Yi02Nzk2N2EzYzU4MTYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxWVFDNnZKM0dva1Mya0VtdTlMR1VBciIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJteXNxbCAtaCAxMjUuMjEyLjIzMS4xODQgLVAgNjk2OSAtdSBtaW50b3JpMDkgLXAnTWludG9yeTA5QDk2JyAtZSBcXFwiREVTQ1JJQkUgSW50ZXJuZXREQi5VU0VSOyBERVNDUklCRSBJbnRlcm5ldERCLlNVQlNDUklCRVI7XFxcIlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJtYXhfd2FpdF9zZWNvbmRzXCI6IDMwfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBsb29rIGF0IHRoZSBkYXRhYmFzZSBzY2hlbWEgdG8gdW5kZXJzdGFuZCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gVVNFUiBhbmQgU1VCU0NSSUJFUiB0YWJsZXM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBEQU87XG5cbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgcHNVc2VyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFVzZXIpO1xuICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAgICAgICAgIHBzVXNlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBvYmouZ2V0U3Vic2NyaWJlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBzVXNlciAhPSBudWxsKSBwc1VzZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KFVzZXIgb2JqKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoVXNlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBVc2VyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxVc2VyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YVxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU2lnblVwIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIHByaXZhdGUgU3RyaW5nIERFRkFVTFRfUk9MRSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gU2lnbkluXG4gICAgICovXG4gICAgcHVibGljIFNpZ25VcCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0TmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRVc2VyTmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyB1c2VyTmFtZSA9IHR4dFVzZXJOYW1lLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIFxuICAgICAgICBpZihuYW1lLmVxdWFscyhcIlwiKSAmJiB1c2VyTmFtZS5lcXVhbHMoXCJcIikgJiYgcGFzc3dvcmQuZXF1YWxzKFwiXCIpICYmIGFkZHJlc3MuZXF1YWxzKFwiXCIpICYmIHBob25lLmVxdWFscyhcIlwiKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgPT0gMTAgJiYgcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgICAgICBqRnJhbWUxID0gbmV3IGphdmF4LnN3aW5nLkpGcmFtZSgpO1xuICAgICAgICBqTGFiZWwxID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwzID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw0ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw1ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw2ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICB0eHROYW1lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0VXNlck5hbWUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRBZGRyZXNzID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICBidG5SZXR1cm4gPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5TaWdudXAgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBqTGFiZWw3ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw4ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIGpTZXBhcmF0b3IyID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbi4uLlxuICAgICAgICBcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5SZXR1cm5BY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBTdWJzY3JpYmVyIHN1YiA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0UGFzc3dvcmQodHh0UGFzc3dvcmQuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0UGhvbmUodHh0UGhvbmUuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgICAgICAgY2xlYXIoKTtcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCB0eHROYW1lS2V5UmVsZWFzZWQoamF2YS5hd3QuZXZlbnQuS2V5RXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuICAgIH0vL0dFTi1MQVNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvU3Vic2NyaWJlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyIGV4dGVuZHMgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgc3Vic2NyaWJlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBmdWxsTmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgU3RyaW5nIHBob25lO1xuICAgIFxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSwgaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgc3VwZXIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVfYXQpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGludCBnZXRTdWJzY3JpYmVyX2lkKCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJzY3JpYmVyX2lkKGludCBzdWJzY3JpYmVyX2lkKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEZ1bGxOYW1lKFN0cmluZyBmdWxsTmFtZSkge1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQaG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBob25lKFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLio7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVTRVIgPSBcIm1pbnRvcmkwOVwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1VzZXIuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXIge1xuICAgIHByaXZhdGUgaW50IHVzZXJfaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdXNlcm5hbWU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcm9sZTtcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0O1xuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgICAgIHRoaXMuY3JlYXRlX2F0ID0gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0VXNlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VXNlcl9pZChpbnQgdXNlcl9pZCkge1xuICAgICAgICB0aGlzLnVzZXJfaWQgPSB1c2VyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VXNlcm5hbWUoKSB7XG4gICAgICAgIHJldHVybiB1c2VybmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VybmFtZShTdHJpbmcgdXNlcm5hbWUpIHtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Um9sZSgpIHtcbiAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Um9sZShTdHJpbmcgcm9sZSkge1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldENyZWF0ZV9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvUGxhbi5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgUGxhbiB7XG4gICAgcHJpdmF0ZSBpbnQgcGxhbl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBuYW1lO1xuICAgIHByaXZhdGUgbG9uZyBwcmljZTtcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIHByaXZhdGUgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuXG4gICAgcHVibGljIFBsYW4oKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFBsYW4oaW50IHBsYW5faWQsIFN0cmluZyBuYW1lLCBsb25nIHByaWNlLCBpbnQgbWF4X3NwZWVkX2RvbWVzdGljLCBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWwsIGludCBtaW5fc3BlZWRfZG9tZXN0aWMsIGludCBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbCkge1xuICAgICAgICB0aGlzLnBsYW5faWQgPSBwbGFuX2lkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaWNlID0gcHJpY2U7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2RvbWVzdGljID0gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1heF9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2RvbWVzdGljID0gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRQbGFuX2lkKCkge1xuICAgICAgICByZXR1cm4gcGxhbl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQbGFuX2lkKGludCBwbGFuX2lkKSB7XG4gICAgICAgIHRoaXMucGxhbl9pZCA9IHBsYW5faWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGxvbmcgZ2V0UHJpY2UoKSB7XG4gICAgICAgIHJldHVybiBwcmljZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQcmljZShsb25nIHByaWNlKSB7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1heF9zcGVlZF9kb21lc3RpYygpIHtcbiAgICAgICAgcmV0dXJuIG1heF9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfc3BlZWRfZG9tZXN0aWMoaW50IG1heF9zcGVlZF9kb21lc3RpYykge1xuICAgICAgICB0aGlzLm1heF9zcGVlZF9kb21lc3RpYyA9IG1heF9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1heF9zcGVlZF9pbnRlcm5hdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWF4X3NwZWVkX2ludGVybmF0aW9uYWwoaW50IG1heF9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2ludGVybmF0aW9uYWwgPSBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1pbl9zcGVlZF9kb21lc3RpYygpIHtcbiAgICAgICAgcmV0dXJuIG1pbl9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNaW5fc3BlZWRfZG9tZXN0aWMoaW50IG1pbl9zcGVlZF9kb21lc3RpYykge1xuICAgICAgICB0aGlzLm1pbl9zcGVlZF9kb21lc3RpYyA9IG1pbl9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWluX3NwZWVkX2ludGVybmF0aW9uYWwoaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2ludGVybmF0aW9uYWwgPSBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG4gICBcbiAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvQ29udHJhY3QuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgQ29udHJhY3Qge1xuICAgIHByaXZhdGUgaW50IGNvbnRyYWN0X2lkO1xuICAgIHByaXZhdGUgaW50IHN1Yl9pZDtcbiAgICBwcml2YXRlIGludCBwYWNrYWdlX2lkO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBkYXRlX3NpZ247XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGRhdGVfZXhwaXJhdGlvbjtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG5cbiAgICBwdWJsaWMgQ29udHJhY3QoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIENvbnRyYWN0KGludCBjb250cmFjdF9pZCwgaW50IHN1Yl9pZCwgaW50IHBhY2thZ2VfaWQsIExvY2FsRGF0ZVRpbWUgZGF0ZV9zaWduLCBMb2NhbERhdGVUaW1lIGRhdGVfZXhwaXJhdGlvbiwgU3RyaW5nIGFkZHJlc3MsIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0KSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICAgICAgdGhpcy5zdWJfaWQgPSBzdWJfaWQ7XG4gICAgICAgIHRoaXMucGFja2FnZV9pZCA9IHBhY2thZ2VfaWQ7XG4gICAgICAgIHRoaXMuZGF0ZV9zaWduID0gZGF0ZV9zaWduO1xuICAgICAgICB0aGlzLmRhdGVfZXhwaXJhdGlvbiA9IGRhdGVfZXhwaXJhdGlvbjtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRDb250cmFjdF9pZCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRyYWN0X2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENvbnRyYWN0X2lkKGludCBjb250cmFjdF9pZCkge1xuICAgICAgICB0aGlzLmNvbnRyYWN0X2lkID0gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRTdWJfaWQoKSB7XG4gICAgICAgIHJldHVybiBzdWJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3ViX2lkKGludCBzdWJfaWQpIHtcbiAgICAgICAgdGhpcy5zdWJfaWQgPSBzdWJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRQYWNrYWdlX2lkKCkge1xuICAgICAgICByZXR1cm4gcGFja2FnZV9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYWNrYWdlX2lkKGludCBwYWNrYWdlX2lkKSB7XG4gICAgICAgIHRoaXMucGFja2FnZV9pZCA9IHBhY2thZ2VfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0RGF0ZV9zaWduKCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9zaWduO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERhdGVfc2lnbihMb2NhbERhdGVUaW1lIGRhdGVfc2lnbikge1xuICAgICAgICB0aGlzLmRhdGVfc2lnbiA9IGRhdGVfc2lnbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlVGltZSBnZXREYXRlX2V4cGlyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBkYXRlX2V4cGlyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9leHBpcmF0aW9uKExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uKSB7XG4gICAgICAgIHRoaXMuZGF0ZV9leHBpcmF0aW9uID0gZGF0ZV9leHBpcmF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldENyZWF0ZV9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvQmlsbEhpc3RvcnkuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBCaWxsSGlzdG9yeSB7XG4gICAgcHJpdmF0ZSBpbnQgYmlsbF9pZDtcbiAgICBwcml2YXRlIGludCBjb250cmFjdF9pZDtcbiAgICBwcml2YXRlIExvY2FsRGF0ZSBiaWxsaW5nX3BlcmlvZDtcbiAgICBwcml2YXRlIGxvbmcgYW1vdW50O1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBwYXltZW50X2RhdGU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzOyAgIFxuXG4gICAgcHVibGljIEJpbGxIaXN0b3J5KCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBCaWxsSGlzdG9yeShpbnQgYmlsbF9pZCwgaW50IGNvbnRyYWN0X2lkLCBMb2NhbERhdGUgYmlsbGluZ19wZXJpb2QsIGxvbmcgYW1vdW50LCBMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZSwgU3RyaW5nIHN0YXR1cykge1xuICAgICAgICB0aGlzLmJpbGxfaWQgPSBiaWxsX2lkO1xuICAgICAgICB0aGlzLmNvbnRyYWN0X2lkID0gY29udHJhY3RfaWQ7XG4gICAgICAgIHRoaXMuYmlsbGluZ19wZXJpb2QgPSBiaWxsaW5nX3BlcmlvZDtcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgICAgIHRoaXMucGF5bWVudF9kYXRlID0gcGF5bWVudF9kYXRlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldEJpbGxfaWQoKSB7XG4gICAgICAgIHJldHVybiBiaWxsX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEJpbGxfaWQoaW50IGJpbGxfaWQpIHtcbiAgICAgICAgdGhpcy5iaWxsX2lkID0gYmlsbF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldENvbnRyYWN0X2lkKCkge1xuICAgICAgICByZXR1cm4gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q29udHJhY3RfaWQoaW50IGNvbnRyYWN0X2lkKSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlIGdldEJpbGxpbmdfcGVyaW9kKCkge1xuICAgICAgICByZXR1cm4gYmlsbGluZ19wZXJpb2Q7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QmlsbGluZ19wZXJpb2QoTG9jYWxEYXRlIGJpbGxpbmdfcGVyaW9kKSB7XG4gICAgICAgIHRoaXMuYmlsbGluZ19wZXJpb2QgPSBiaWxsaW5nX3BlcmlvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9uZyBnZXRBbW91bnQoKSB7XG4gICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QW1vdW50KGxvbmcgYW1vdW50KSB7XG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldFBheW1lbnRfZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHBheW1lbnRfZGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXltZW50X2RhdGUoTG9jYWxEYXRlVGltZSBwYXltZW50X2RhdGUpIHtcbiAgICAgICAgdGhpcy5wYXltZW50X2RhdGUgPSBwYXltZW50X2RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKFN0cmluZyBzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBuYnByb2plY3QvY29uZmlncy9TaWduVXAucHJvcGVydGllc1xubWFpbi5jbGFzcz1pbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcFxuLi4uXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxQ3d5TEtRR3R6WnB1NVlOZW5Kbm9VSyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjMyOjI3LjAzNloiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGxvb2sgYXQgdGhlIGRhdGFiYXNlIHNjaGVtYSB0byB1bmRlcnN0YW5kIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlZjM3YTE3Yy0xODM4LTQ5MDEtYTgyZi1mZTIyZDJhMTA0OWYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNXFrQnhrZm9iamU2bWdzeVVpeFk3WCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ikkgc2VlIHRoZSBpc3N1ZSBub3cuIExldCBtZSBhbmFseXplIHRoZSBwcm9ibGVtIGFuZCBwcm92aWRlIGEgc29sdXRpb24uXG5cbiMjIFByb2JsZW0gQW5hbHlzaXNcblxuQWZ0ZXIgZXhhbWluaW5nIHRoZSBjb2RlLCBJIGNhbiBpZGVudGlmeSB0aGUgcm9vdCBjYXVzZSBvZiB0aGUgZXJyb3I6XG5cbjEuIFRoZSBlcnJvciBpcyBhIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uOiBgQ2Fubm90IGFkZCBvciB1cGRhdGUgYSBjaGlsZCByb3c6IGEgZm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlscyAoSW50ZXJuZXREQi5TVUJTQ1JJQkVSLCBDT05TVFJBSU5UIFNVQlNDUklCRVJfaWJma18xIEZPUkVJR04gS0VZICh1c2VyX2lkKSBSRUZFUkVOQ0VTIFVTRVIgKHVzZXJfaWQpKWBcblxuMi4gVGhpcyBoYXBwZW5zIGluIHRoZSBgU3Vic2NyaWJlckRBTy5pbnNlcnQoKWAgbWV0aG9kIHdoZW4gdHJ5aW5nIHRvIGluc2VydCBhIHJlY29yZCBpbnRvIHRoZSBTVUJTQ1JJQkVSIHRhYmxlLlxuXG4zLiBMb29raW5nIGF0IHRoZSBjb2RlIGluIGBTdWJzY3JpYmVyREFPLmphdmFgLCBJIGNhbiBzZWUgdGhhdCBpdCdzIHRyeWluZyB0byBpbnNlcnQgcmVjb3JkcyBpbnRvIGJvdGggdGhlIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzLCBidXQgdGhlcmUncyBhIGNyaXRpY2FsIGlzc3VlOlxuXG40LiBJbiB0aGUgYFNpZ25VcC5qYXZhYCBmaWxlLCB3aGVuIGNyZWF0aW5nIGEgbmV3IFN1YnNjcmliZXIgb2JqZWN0LCB0aGUgYHVzZXJfaWRgIGlzIG5vdCBiZWluZyBzZXQgYmVmb3JlIGNhbGxpbmcgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgLlxuXG4jIyBEZXRhaWxlZCBQbGFuXG5cbkhlcmUncyBteSBwbGFuIHRvIGZpeCB0aGUgaXNzdWU6XG5cbjEuIE1vZGlmeSB0aGUgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgIG1ldGhvZCB0bzpcbiAgIC0gR2VuZXJhdGUgYSB1bmlxdWUgdXNlcl9pZCBpbnN0ZWFkIG9mIGV4cGVjdGluZyBpdCB0byBiZSBzZXRcbiAgIC0gVXNlIHRoZSBnZW5lcmF0ZWQgdXNlcl9pZCBmb3IgYm90aCBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlc1xuICAgLSBQcm9wZXJseSBoYW5kbGUgdGhlIHRyYW5zYWN0aW9uXG5cbiMjIEltcGxlbWVudGF0aW9uXG5cbkxldCdzIG1ha2UgdGhlIG5lY2Vzc2FyeSBjaGFuZ2VzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFxuXG5cblxuXG5cblxuXHUwMDFiW0hcdTAwMWJdMDtDOlxcV2luZG93c1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXHUwMDFiWzM4OzU7OW1teXNxbCA6IFRoZSB0ZXJtICdteXNxbCcgaXMgbm90IHJlY29nbml6ZWQgYXMgdGhlIG5hbWUgb2YgYSBjbWRsZXQsIGZ1bmN0aW9uLCBzY3JpcHQgZmlsZSwgb3Igb3BlcmFibGUgcHJvZ3JhbS4gQ2hlY2sgdGhlIHNwZWxsaW5nIG9mIHRoZSBuYW1lLCBvciBpZiBhIHBhdGggd2FzIGluY2x1ZGVkLCB2ZXJpZnkgXG50aGF0IHRoZSBwYXRoIGlzIGNvcnJlY3QgYW5kIHRyeSBhZ2Fpbi5cbkF0IGxpbmU6MSBjaGFyOjFcbisgbXlzcWwgLWggMTI1LjIxMi4yMzEuMTg0IC1QIDY5NjkgLXUgbWludG9yaTA5IC1wJ01pbnRvcnkwOUA5NicgLWUgXCJERSAuLi5cbisgfn5+fn5cbiAgICArIENhdGVnb3J5SW5mbyAgICAgICAgICA6IE9iamVjdE5vdEZvdW5kOiAobXlzcWw6U3RyaW5nKSBbXSwgQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgKyBGdWxseVF1YWxpZmllZEVycm9ySWQgOiBDb21tYW5kTm90Rm91bmRFeGNlcHRpb25cbiBcdTAwMWJbbVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVlRQzZ2SjNHb2tTMmtFbXU5TEdVQXIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzI6NDUuNzIzWiIsInJlc3BvbnNlX3RleHQiOiJJIHNlZSB0aGUgaXNzdWUgbm93LiBMZXQgbWUgYW5hbHl6ZSB0aGUgcHJvYmxlbSBhbmQgcHJvdmlkZSBhIHNvbHV0aW9uLlxuXG4jIyBQcm9ibGVtIEFuYWx5c2lzXG5cbkFmdGVyIGV4YW1pbmluZyB0aGUgY29kZSwgSSBjYW4gaWRlbnRpZnkgdGhlIHJvb3QgY2F1c2Ugb2YgdGhlIGVycm9yOlxuXG4xLiBUaGUgZXJyb3IgaXMgYSBmb3JlaWduIGtleSBjb25zdHJhaW50IHZpb2xhdGlvbjogYENhbm5vdCBhZGQgb3IgdXBkYXRlIGEgY2hpbGQgcm93OiBhIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZmFpbHMgKEludGVybmV0REIuU1VCU0NSSUJFUiwgQ09OU1RSQUlOVCBTVUJTQ1JJQkVSX2liZmtfMSBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyBVU0VSICh1c2VyX2lkKSlgXG5cbjIuIFRoaXMgaGFwcGVucyBpbiB0aGUgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgIG1ldGhvZCB3aGVuIHRyeWluZyB0byBpbnNlcnQgYSByZWNvcmQgaW50byB0aGUgU1VCU0NSSUJFUiB0YWJsZS5cblxuMy4gTG9va2luZyBhdCB0aGUgY29kZSBpbiBgU3Vic2NyaWJlckRBTy5qYXZhYCwgSSBjYW4gc2VlIHRoYXQgaXQncyB0cnlpbmcgdG8gaW5zZXJ0IHJlY29yZHMgaW50byBib3RoIHRoZSBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlcywgYnV0IHRoZXJlJ3MgYSBjcml0aWNhbCBpc3N1ZTpcblxuNC4gSW4gdGhlIGBTaWduVXAuamF2YWAgZmlsZSwgd2hlbiBjcmVhdGluZyBhIG5ldyBTdWJzY3JpYmVyIG9iamVjdCwgdGhlIGB1c2VyX2lkYCBpcyBub3QgYmVpbmcgc2V0IGJlZm9yZSBjYWxsaW5nIGBTdWJzY3JpYmVyREFPLmluc2VydCgpYC5cblxuIyMgRGV0YWlsZWQgUGxhblxuXG5IZXJlJ3MgbXkgcGxhbiB0byBmaXggdGhlIGlzc3VlOlxuXG4xLiBNb2RpZnkgdGhlIGBTdWJzY3JpYmVyREFPLmluc2VydCgpYCBtZXRob2QgdG86XG4gICAtIEdlbmVyYXRlIGEgdW5pcXVlIHVzZXJfaWQgaW5zdGVhZCBvZiBleHBlY3RpbmcgaXQgdG8gYmUgc2V0XG4gICAtIFVzZSB0aGUgZ2VuZXJhdGVkIHVzZXJfaWQgZm9yIGJvdGggVVNFUiBhbmQgU1VCU0NSSUJFUiB0YWJsZXNcbiAgIC0gUHJvcGVybHkgaGFuZGxlIHRoZSB0cmFuc2FjdGlvblxuXG4jIyBJbXBsZW1lbnRhdGlvblxuXG5MZXQncyBtYWtlIHRoZSBuZWNlc3NhcnkgY2hhbmdlczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzZjQ0MDNmMS05MzQ2LTQ2ODgtYjkyMS1jOTg0ZWFiNWUxMWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVGNhWEJhQ3kzN2FiUGhERzZCbXFWRSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzI3MCwgMjkwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhOlxuICAgICAxXHQvKlxuICAgICAyXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMVx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMlx0XG4gICAgMTNcdC8qKlxuICAgIDE0XHQgKlxuICAgIDE1XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE2XHQgKi9cbiAgICAxN1x0cHVibGljIGNsYXNzIFN1YnNjcmliZXJEQU97XG4gICAgMThcdFxuICAgIDE5XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgIDIwXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMjFcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAyMlx0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgIDIzXHQgICAgICAgIFxuICAgIDI0XHQgICAgICAgIHRyeSB7XG4gICAgMjVcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDI2XHQgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuICAgIDI3XHQgICAgICAgICAgICBcbiAgICAyOFx0ICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMjlcdCAgICAgICAgICAgIHBzVXNlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxVc2VyKTtcbiAgICAzMFx0ICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAzMVx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgMzJcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgIDMzXHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDM0XHQgICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDM1XHQgICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDM2XHQgICAgICAgICAgICBcbiAgICAzN1x0ICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMzhcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxTdWJzY3JpYmVyKTtcbiAgICAzOVx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBvYmouZ2V0U3Vic2NyaWJlcl9pZCgpKTtcbiAgICA0MFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgNDFcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgNDJcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgIDQzXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDUsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgIDQ0XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDQ1XHQgICAgICAgICAgICBcbiAgICA0Nlx0ICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNDlcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNTBcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XG4gICAgNTFcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgNTJcdCAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDUzXHQgICAgICAgICAgICB9XG4gICAgNTRcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTVcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA1N1x0ICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgNThcdCAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDYwXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgfVxuICAgIDY0XHQgICAgfVxuICAgIDY1XHRcbiAgICA2Nlx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA2N1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgIDcxXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDcyXHQgICAgfVxuICAgIDczXHRcbiAgICA3NFx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgIDc1XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDc2XHQgICAgfVxuICAgIDc3XHRcbiAgICA3OFx0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgNzlcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgODBcdCAgICB9XG4gICAgODFcdCAgICBcbiAgICA4Mlx0fVxuICAgIDgzXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDgzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNXFrQnhrZm9iamU2bWdzeVVpeFk3WCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozMjo1NC4wMzVaIiwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlYWIzYjg1ZC1hMzA1LTQzZDQtYWEzNy0yNDUyZjEzMThjODEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSmtaZVR1djJSUEdQWDVaRldaRHl6bSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1wiLCBcIm5ld19zdHJcIjogXCJpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XFxuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTF9LCB7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXFxcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XFxuICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCBvYmouZ2V0VXNlcl9pZCgpKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XFxuICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFxcXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoMSwgb2JqLmdldFN1YnNjcmliZXJfaWQoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDUsIG9iai5nZXRVc2VyX2lkKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgY29ubi5jb21taXQoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAocHNTdWJzY3JpYmVyICE9IG51bGwpIHBzU3Vic2NyaWJlci5jbG9zZSgpO1xcbiAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XFxuICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XFxuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB1c2VyX2lkXFxuICAgICAgICAgICAgaW50IHVzZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFxcXCJVU0VSXFxcIiwgXFxcInVzZXJfaWRcXFwiKTtcXG4gICAgICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHN1YnNjcmliZXJfaWRcXG4gICAgICAgICAgICBpbnQgc3Vic2NyaWJlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXFxcIlNVQlNDUklCRVJcXFwiLCBcXFwic3Vic2NyaWJlcl9pZFxcXCIpO1xcbiAgICAgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gVVNFUiB0YWJsZSBmaXJzdFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXFxcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XFxuICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcXG4gICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIFRoZW4gaW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZSB3aXRoIHRoZSBzYW1lIHVzZXJfaWRcXG4gICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFxcXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgdXNlcklkKTsgLy8gVXNlIHRoZSBzYW1lIHVzZXJfaWRcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlxcdTAxMTBcXHUwMTAzbmcga1xcdTAwZmQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICB9XFxuICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIkxcXHUxZWQ3aTogXFxcIiArIGUuZ2V0TWVzc2FnZSgpLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTksIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNjN9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSdsbCBtb2RpZnkgdGhlIGBTdWJzY3JpYmVyREFPLmluc2VydCgpYCBtZXRob2QgdG8gZml4IHRoZSBpc3N1ZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmE6XG4gICAyNzBcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNzFcdCAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgMjcyXHQgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAyNzNcdCAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAyNzRcdCAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAyNzVcdCAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgIDI3Nlx0ICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAyNzdcdCAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAyNzhcdCAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgIDI3OVx0ICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgMjgwXHQgICAgICAgIGNsZWFyKCk7XG4gICAyODFcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI4Mlx0XG4gICAyODNcdCAgICBwcml2YXRlIHZvaWQgdHh0TmFtZUtleVJlbGVhc2VkKGphdmEuYXd0LmV2ZW50LktleUV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuICAgMjg0XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjg1XHQgICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG4gICAyODZcdCAgICB9Ly9HRU4tTEFTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgIDI4N1x0XG4gICAyODhcdCAgICBwcml2YXRlIHZvaWQgdHh0VXNlck5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHRVc2VyTmFtZUtleVJlbGVhc2VkXG4gICAyODlcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyOTBcdCAgICAgICAgdmFsaWRhdGVGaWVsZHMoKTtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM2NVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVRjYVhCYUN5MzdhYlBoREc2Qm1xVkUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzI6NTcuMTM5WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBtb2RpZnkgdGhlIGBTdWJzY3JpYmVyREFPLmluc2VydCgpYCBtZXRob2QgdG8gZml4IHRoZSBpc3N1ZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6IjVhYjliNDhhLWYzOTMtNGYxYy1iZWZhLTkxZmQ4ODE3YTVhMyIsInV1aWQiOiI4NWYwMmMwYS1lNWExLTQ4YWMtOTllYi1iOGEzNjc1NTQxMDAiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDY5NTU4ODQ4OTEsInRvVGltZXN0YW1wIjoxNzQ2OTU2MDU3OTQ1LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlZjYyOTE5Zi00YmMwLTQ0OGUtOWY3Zi0wYWMzZGY4NTZlOWMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxV1p2NWJMd0NWZGUyd1dNRmlqYkhheiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XFxuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXFxcIk5vdCBzdXBwb3J0ZWQgeWV0LlxcXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XFxuICAgIH1cXG4gICAgXFxufVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcXG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcXFwiTm90IHN1cHBvcnRlZCB5ZXQuXFxcIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEdlbmVyYXRlIHRoZSBuZXh0IGF2YWlsYWJsZSBJRCBmb3IgYSB0YWJsZVxcbiAgICAgKiBAcGFyYW0gY29ubiBEYXRhYmFzZSBjb25uZWN0aW9uXFxuICAgICAqIEBwYXJhbSB0YWJsZU5hbWUgTmFtZSBvZiB0aGUgdGFibGVcXG4gICAgICogQHBhcmFtIGlkQ29sdW1uTmFtZSBOYW1lIG9mIHRoZSBJRCBjb2x1bW5cXG4gICAgICogQHJldHVybiBOZXh0IGF2YWlsYWJsZSBJRFxcbiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbiBJZiBhbiBlcnJvciBvY2N1cnNcXG4gICAgICovXFxuICAgIHByaXZhdGUgc3RhdGljIGludCBnZW5lcmF0ZU5leHRJZChDb25uZWN0aW9uIGNvbm4sIFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHRocm93cyBFeGNlcHRpb24ge1xcbiAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcXG4gICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XFxuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCBNQVgoXFxcIiArIGlkQ29sdW1uTmFtZSArIFxcXCIpIEFTIG1heF9pZCBGUk9NIFxcXCIgKyB0YWJsZU5hbWU7XFxuICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXFxcIm1heF9pZFxcXCIpO1xcbiAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcXG4gICAgICAgICAgICBpZiAoc3RtdCAhPSBudWxsKSBzdG10LmNsb3NlKCk7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBuZXh0SWQ7XFxuICAgIH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA3OCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA4Mn1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJIG5lZWQgdG8gYWRkIHRoZSBgZ2VuZXJhdGVOZXh0SWRgIG1ldGhvZCB0byB0aGUgYFN1YnNjcmliZXJEQU9gIGNsYXNzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICAgICA0XHQgKi9cbiAgICAgNVx0cGFja2FnZSBEQU87XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDExXHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgIDEyXHRpbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuICAgIDEzXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDE0XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTVcdFxuICAgIDE2XHQvKipcbiAgICAxN1x0ICpcbiAgICAxOFx0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOFx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxOVx0ICovXG4gICAgMjBcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDIxXHRcbiAgICAyMlx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcbiAgICAyM1x0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDI0XHQgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XG4gICAgMjVcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAyNlx0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICB0cnkge1xuICAgIDI5XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAzMFx0ICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIHVzZXJfaWRcbiAgICAzM1x0ICAgICAgICAgICAgaW50IHVzZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgMzRcdCAgICAgICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBzdWJzY3JpYmVyX2lkXG4gICAgMzdcdCAgICAgICAgICAgIGludCBzdWJzY3JpYmVySWQgPSBnZW5lcmF0ZU5leHRJZChjb25uLCBcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuICAgIDM4XHQgICAgICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuICAgIDM5XHRcbiAgICA0MFx0ICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gVVNFUiB0YWJsZSBmaXJzdFxuICAgIDQxXHQgICAgICAgICAgICBTdHJpbmcgc3FsVXNlciA9IFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA0Mlx0ICAgICAgICAgICAgcHNVc2VyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFVzZXIpO1xuICAgIDQzXHQgICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgNDRcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgIDQ1XHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICA0Nlx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICA0N1x0ICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICA0OFx0ICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA0OVx0XG4gICAgNTBcdCAgICAgICAgICAgIC8vIFRoZW4gaW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZSB3aXRoIHRoZSBzYW1lIHVzZXJfaWRcbiAgICA1MVx0ICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgNTJcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxTdWJzY3JpYmVyKTtcbiAgICA1M1x0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgIDU0XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA1NVx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICA1Nlx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgNTdcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgdXNlcklkKTsgLy8gVXNlIHRoZSBzYW1lIHVzZXJfaWRcbiAgICA1OFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgNjFcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgNjJcdCAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDY0XHQgICAgICAgICAgICB0cnkge1xuICAgIDY1XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgIDY2XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xuICAgIDY3XHQgICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2OFx0ICAgICAgICAgICAgfVxuICAgIDY5XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkzhu5dpOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDcwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDcxXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgNzJcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNzNcdCAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgICA3NFx0ICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgNzVcdCAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgIDc2XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDc3XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICA3OFx0ICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDc5XHQgICAgICAgICAgICB9XG4gICAgODBcdCAgICAgICAgfVxuICAgIDgxXHQgICAgfVxuICAgIDgyXHRcbiAgICA4M1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA4NFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUprWmVUdXYyUlBHUFg1WkZXWkR5em0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzQ6MjIuNzE4WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSBuZWVkIHRvIGFkZCB0aGUgYGdlbmVyYXRlTmV4dElkYCBtZXRob2QgdG8gdGhlIGBTdWJzY3JpYmVyREFPYCBjbGFzczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjZWRkMjliNC1jY2ZjLTRhYTYtOTA4My0yZjQxMGI3YWFlMmYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVEg5djN3U205RDZ2SDk4ZGc0ODdnViIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlRmllbGRzKCl7XFxuICAgICAgICBTdHJpbmcgbmFtZSA9IHR4dE5hbWUuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIGFkZHJlc3MgPSB0eHRBZGRyZXNzLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobmFtZS5lcXVhbHMoXFxcIlxcXCIpICYmIHVzZXJOYW1lLmVxdWFscyhcXFwiXFxcIikgJiYgcGFzc3dvcmQuZXF1YWxzKFxcXCJcXFwiKSAmJiBhZGRyZXNzLmVxdWFscyhcXFwiXFxcIikgJiYgcGhvbmUuZXF1YWxzKFxcXCJcXFwiKSl7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIGtoXFx1MDBmNG5nIGJcXHUxZWNmIHRyXFx1MWVkMW5nIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgPT0gMTAgJiYgcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIG5oXFx1MWVhZHAgXFx1MDExMVxcdTAwZmFuZyBcXHUwMTExXFx1MWVjYm5oIGRcXHUxZWExbmcgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICB9XFxuICAgICAgICBlbHNlIHtcXG4gICAgICAgICAgICBcXG4gICAgICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XFxuICAgICAgICBTdHJpbmcgbmFtZSA9IHR4dE5hbWUuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIGFkZHJlc3MgPSB0eHRBZGRyZXNzLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobmFtZS5pc0VtcHR5KCkgfHwgdXNlck5hbWUuaXNFbXB0eSgpIHx8IHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBhZGRyZXNzLmlzRW1wdHkoKSB8fCBwaG9uZS5pc0VtcHR5KCkpe1xcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJWdWkgbFxcdTAwZjJuZyBraFxcdTAwZjRuZyBiXFx1MWVjZiB0clxcdTFlZDFuZyFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICAgICAgfVxcbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIG5oXFx1MWVhZHAgXFx1MDExMVxcdTAwZmFuZyBcXHUwMTExXFx1MWVjYm5oIGRcXHUxZWExbmcgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHRydWU7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDMxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDQ1fSwge1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBTdWJzY3JpYmVyIHN1YiA9IG5ldyBTdWJzY3JpYmVyKCk7XFxuICAgICAgICBzdWIuc2V0RnVsbE5hbWUodHh0TmFtZS5nZXRUZXh0KCkpO1xcbiAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XFxuICAgICAgICBzdWIuc2V0UGFzc3dvcmQodHh0UGFzc3dvcmQuZ2V0VGV4dCgpKTtcXG4gICAgICAgIHN1Yi5zZXRSb2xlKERFRkFVTFRfUk9MRSk7XFxuICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XFxuICAgICAgICBzdWIuc2V0UGhvbmUodHh0UGhvbmUuZ2V0VGV4dCgpKTtcXG4gICAgICAgIHN1Yi5zZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZS5ub3coKSk7XFxuICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xcbiAgICAgICAgY2xlYXIoKTtcXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcXG4gICAgICAgICAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XFxuICAgICAgICAgICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xcbiAgICAgICAgICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xcbiAgICAgICAgICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XFxuICAgICAgICAgICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xcbiAgICAgICAgICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xcbiAgICAgICAgICAgICAgICBjbGVhcigpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiTFxcdTFlZDdpOiBcXFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI3MCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyODJ9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgYWxzbyB1cGRhdGUgdGhlIFNpZ25VcCBjbGFzcyB0byBoYW5kbGUgdmFsaWRhdGlvbiBiZXR0ZXIgYW5kIHByb3ZpZGUgbW9yZSB1c2VyIGZlZWRiYWNrOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgOTFcdCAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICA5Mlx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA5M1x0ICAgIH1cbiAgICA5NFx0XG4gICAgOTVcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDk2XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDk3XHQgICAgfVxuICAgIDk4XHRcbiAgICA5OVx0ICAgIC8qKlxuICAgMTAwXHQgICAgICogR2VuZXJhdGUgdGhlIG5leHQgYXZhaWxhYmxlIElEIGZvciBhIHRhYmxlXG4gICAxMDFcdCAgICAgKiBAcGFyYW0gY29ubiBEYXRhYmFzZSBjb25uZWN0aW9uXG4gICAxMDJcdCAgICAgKiBAcGFyYW0gdGFibGVOYW1lIE5hbWUgb2YgdGhlIHRhYmxlXG4gICAxMDNcdCAgICAgKiBAcGFyYW0gaWRDb2x1bW5OYW1lIE5hbWUgb2YgdGhlIElEIGNvbHVtblxuICAgMTA0XHQgICAgICogQHJldHVybiBOZXh0IGF2YWlsYWJsZSBJRFxuICAgMTA1XHQgICAgICogQHRocm93cyBFeGNlcHRpb24gSWYgYW4gZXJyb3Igb2NjdXJzXG4gICAxMDZcdCAgICAgKi9cbiAgIDEwN1x0ICAgIHByaXZhdGUgc3RhdGljIGludCBnZW5lcmF0ZU5leHRJZChDb25uZWN0aW9uIGNvbm4sIFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHRocm93cyBFeGNlcHRpb24ge1xuICAgMTA4XHQgICAgICAgIGludCBuZXh0SWQgPSAxOyAvLyBEZWZhdWx0IHN0YXJ0aW5nIElEXG4gICAxMDlcdCAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xuICAgMTEwXHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAxMTFcdFxuICAgMTEyXHQgICAgICAgIHRyeSB7XG4gICAxMTNcdCAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgMTE0XHQgICAgICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIlNFTEVDVCBNQVgoXCIgKyBpZENvbHVtbk5hbWUgKyBcIikgQVMgbWF4X2lkIEZST00gXCIgKyB0YWJsZU5hbWU7XG4gICAxMTVcdCAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuICAgMTE2XHRcbiAgIDExN1x0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgMTE4XHQgICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFwibWF4X2lkXCIpO1xuICAgMTE5XHQgICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xuICAgMTIwXHQgICAgICAgICAgICB9XG4gICAxMjFcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgIDEyMlx0ICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XG4gICAxMjNcdCAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcbiAgIDEyNFx0ICAgICAgICB9XG4gICAxMjVcdFxuICAgMTI2XHQgICAgICAgIHJldHVybiBuZXh0SWQ7XG4gICAxMjdcdCAgICB9XG4gICAxMjhcdH1cbiAgIDEyOVx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFXWnY1Ykx3Q1ZkZTJ3V01GaWpiSGF6In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjM0OjMzLjA3OVoiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGFsc28gdXBkYXRlIHRoZSBTaWduVXAgY2xhc3MgdG8gaGFuZGxlIHZhbGlkYXRpb24gYmV0dGVyIGFuZCBwcm92aWRlIG1vcmUgdXNlciBmZWVkYmFjazpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjZDNhYzdkOS02ZjUyLTRlZTUtOWJlMC00MWFjOTU0OWFhZGUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNHBieFh2WW9WVUNFWUhuZGp2aVRNRCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgcmV0dXJuIHRydWU7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDQ5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDUxfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVGhlcmUgc2VlbXMgdG8gYmUgYW4gZXh0cmEgY2xvc2luZyBicmFjZSBpbiB0aGUgU2lnblVwLmphdmEgZmlsZS4gTGV0J3MgZml4IHRoYXQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAzMVx0ICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgMzJcdCAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAzM1x0ICAgIH1cbiAgICAzNFx0XG4gICAgMzVcdCAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgIDM2XHQgICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XG4gICAgMzdcdCAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgIDM4XHQgICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAzOVx0ICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xuICAgIDQwXHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICA0MVx0XG4gICAgNDJcdCAgICAgICAgaWYobmFtZS5pc0VtcHR5KCkgfHwgdXNlck5hbWUuaXNFbXB0eSgpIHx8IHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBhZGRyZXNzLmlzRW1wdHkoKSB8fCBwaG9uZS5pc0VtcHR5KCkpe1xuICAgIDQzXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ0XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDVcdCAgICAgICAgfVxuICAgIDQ2XHQgICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDQ3XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ4XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUxXHQgICAgfVxuICAgIDUyXHQgICAgfVxuICAgIDUzXHRcbiAgICA1NFx0ICAgIC8qKlxuICAgIDU1XHQgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjY2XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjY3XHRcbiAgIDI2OFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blJldHVybkFjdGlvblBlcmZvcm1lZFxuICAgMjY5XHRcbiAgIDI3MFx0ICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyNzFcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNzJcdCAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkpIHtcbiAgIDI3M1x0ICAgICAgICAgICAgdHJ5IHtcbiAgIDI3NFx0ICAgICAgICAgICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgIDI3NVx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAyNzZcdCAgICAgICAgICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3N1x0ICAgICAgICAgICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgMjc4XHQgICAgICAgICAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgIDI3OVx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcbiAgIDI4MFx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgMjgxXHQgICAgICAgICAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgIDI4Mlx0ICAgICAgICAgICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XG4gICAyODNcdCAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgMjg0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgIDI4NVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjg2XHQgICAgICAgICAgICB9XG4gICAyODdcdCAgICAgICAgfVxuICAgMjg4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyODlcdFxuICAgMjkwXHQgICAgcHJpdmF0ZSB2b2lkIHR4dE5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgIDI5MVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI5Mlx0ICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVEg5djN3U205RDZ2SDk4ZGc0ODdnViJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNDo0OS41MzNaIiwicmVzcG9uc2VfdGV4dCI6IlRoZXJlIHNlZW1zIHRvIGJlIGFuIGV4dHJhIGNsb3NpbmcgYnJhY2UgaW4gdGhlIFNpZ25VcC5qYXZhIGZpbGUuIExldCdzIGZpeCB0aGF0OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImY1NmU4ZDljLWU0MTMtNDU4Yy1iYzZhLTlmNmZkNWVlNjQxNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG5JJ3ZlIGZpeGVkIHRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IGVycm9yIGJ5IG1ha2luZyB0aGUgZm9sbG93aW5nIGNoYW5nZXM6XG5cbjEuICoqSW4gU3Vic2NyaWJlckRBTy5qYXZhKio6XG4gICAtIEFkZGVkIGEgYGdlbmVyYXRlTmV4dElkYCBtZXRob2QgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBib3RoIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzXG4gICAtIE1vZGlmaWVkIHRoZSBgaW5zZXJ0YCBtZXRob2QgdG86XG4gICAgIC0gR2VuZXJhdGUgYW5kIHNldCB1c2VyX2lkIGFuZCBzdWJzY3JpYmVyX2lkIGF1dG9tYXRpY2FsbHlcbiAgICAgLSBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0LCB0aGVuIFNVQlNDUklCRVIgdGFibGUgd2l0aCB0aGUgc2FtZSB1c2VyX2lkXG4gICAgIC0gQWRkZWQgYmV0dGVyIGVycm9yIGhhbmRsaW5nIGFuZCB1c2VyIGZlZWRiYWNrXG4gICAgIC0gUHJvcGVybHkgbWFuYWdlIGRhdGFiYXNlIHJlc291cmNlc1xuXG4yLiAqKkluIFNpZ25VcC5qYXZhKio6XG4gICAtIEltcHJvdmVkIHRoZSBgdmFsaWRhdGVGaWVsZHNgIG1ldGhvZCB0bzpcbiAgICAgLSBSZXR1cm4gYSBib29sZWFuIHZhbHVlIHRvIGluZGljYXRlIHZhbGlkYXRpb24gc3VjY2Vzcy9mYWlsdXJlXG4gICAgIC0gRml4IHRoZSBsb2dpYyBmb3IgZW1wdHkgZmllbGQgY2hlY2tpbmcgKHVzaW5nIE9SIGluc3RlYWQgb2YgQU5EKVxuICAgICAtIEZpeCB0aGUgcGhvbmUgdmFsaWRhdGlvbiBsb2dpY1xuICAgLSBFbmhhbmNlZCB0aGUgYGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZGAgbWV0aG9kIHRvOlxuICAgICAtIE9ubHkgcHJvY2VlZCB3aXRoIHNpZ251cCBpZiB2YWxpZGF0aW9uIHBhc3Nlc1xuICAgICAtIEFkZCB0cnktY2F0Y2ggZm9yIGJldHRlciBlcnJvciBoYW5kbGluZ1xuXG4jIyBFeHBsYW5hdGlvbiBvZiB0aGUgRml4XG5cblRoZSByb290IGNhdXNlIG9mIHRoZSBlcnJvciB3YXMgdGhhdCB3aGVuIGNyZWF0aW5nIGEgbmV3IFN1YnNjcmliZXIsIHRoZSB1c2VyX2lkIHdhcyBub3QgYmVpbmcgc2V0IGJlZm9yZSBpbnNlcnRpbmcgaW50byB0aGUgZGF0YWJhc2UuIFRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IHJlcXVpcmVzIHRoYXQgdGhlIHVzZXJfaWQgaW4gdGhlIFNVQlNDUklCRVIgdGFibGUgbXVzdCBleGlzdCBpbiB0aGUgVVNFUiB0YWJsZS5cblxuVGhlIHNvbHV0aW9uIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIElEcyBmb3IgYm90aCB0YWJsZXMgYW5kIGVuc3VyZXMgdGhhdCB0aGUgVVNFUiByZWNvcmQgaXMgaW5zZXJ0ZWQgZmlyc3QsIGZvbGxvd2VkIGJ5IHRoZSBTVUJTQ1JJQkVSIHJlY29yZCB3aXRoIHRoZSBzYW1lIHVzZXJfaWQuIFRoaXMgbWFpbnRhaW5zIHRoZSBmb3JlaWduIGtleSByZWxhdGlvbnNoaXAgYW5kIHByZXZlbnRzIHRoZSBjb25zdHJhaW50IHZpb2xhdGlvbi5cblxuQWRkaXRpb25hbGx5LCBJJ3ZlIGltcHJvdmVkIHRoZSB2YWxpZGF0aW9uIGFuZCBlcnJvciBoYW5kbGluZyB0byBwcm92aWRlIGJldHRlciBmZWVkYmFjayB0byB0aGUgdXNlciBhbmQgcHJldmVudCBpbnZhbGlkIGRhdGEgZnJvbSBiZWluZyBzdWJtaXR0ZWQuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0Nlx0ICAgICAgICBlbHNlIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICA0N1x0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA0OFx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDQ5XHQgICAgICAgIH1cbiAgICA1MFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA1MVx0ICAgIH1cbiAgICA1Mlx0XG4gICAgNTNcdCAgICAvKipcbiAgICA1NFx0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICA1NVx0ICAgICAqIFdBUk5JTkc6IERvIE5PVCBtb2RpZnkgdGhpcyBjb2RlLiBUaGUgY29udGVudCBvZiB0aGlzIG1ldGhvZCBpcyBhbHdheXNcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTRwYnhYdllvVlVDRVlIbmRqdmlUTUQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzQ6NTQuODE2WiIsInJlc3BvbnNlX3RleHQiOiIjIyBTdW1tYXJ5IG9mIENoYW5nZXNcblxuSSd2ZSBmaXhlZCB0aGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCBlcnJvciBieSBtYWtpbmcgdGhlIGZvbGxvd2luZyBjaGFuZ2VzOlxuXG4xLiAqKkluIFN1YnNjcmliZXJEQU8uamF2YSoqOlxuICAgLSBBZGRlZCBhIGBnZW5lcmF0ZU5leHRJZGAgbWV0aG9kIHRvIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgdW5pcXVlIElEcyBmb3IgYm90aCBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlc1xuICAgLSBNb2RpZmllZCB0aGUgYGluc2VydGAgbWV0aG9kIHRvOlxuICAgICAtIEdlbmVyYXRlIGFuZCBzZXQgdXNlcl9pZCBhbmQgc3Vic2NyaWJlcl9pZCBhdXRvbWF0aWNhbGx5XG4gICAgIC0gSW5zZXJ0IGludG8gVVNFUiB0YWJsZSBmaXJzdCwgdGhlbiBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggdGhlIHNhbWUgdXNlcl9pZFxuICAgICAtIEFkZGVkIGJldHRlciBlcnJvciBoYW5kbGluZyBhbmQgdXNlciBmZWVkYmFja1xuICAgICAtIFByb3Blcmx5IG1hbmFnZSBkYXRhYmFzZSByZXNvdXJjZXNcblxuMi4gKipJbiBTaWduVXAuamF2YSoqOlxuICAgLSBJbXByb3ZlZCB0aGUgYHZhbGlkYXRlRmllbGRzYCBtZXRob2QgdG86XG4gICAgIC0gUmV0dXJuIGEgYm9vbGVhbiB2YWx1ZSB0byBpbmRpY2F0ZSB2YWxpZGF0aW9uIHN1Y2Nlc3MvZmFpbHVyZVxuICAgICAtIEZpeCB0aGUgbG9naWMgZm9yIGVtcHR5IGZpZWxkIGNoZWNraW5nICh1c2luZyBPUiBpbnN0ZWFkIG9mIEFORClcbiAgICAgLSBGaXggdGhlIHBob25lIHZhbGlkYXRpb24gbG9naWNcbiAgIC0gRW5oYW5jZWQgdGhlIGBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWRgIG1ldGhvZCB0bzpcbiAgICAgLSBPbmx5IHByb2NlZWQgd2l0aCBzaWdudXAgaWYgdmFsaWRhdGlvbiBwYXNzZXNcbiAgICAgLSBBZGQgdHJ5LWNhdGNoIGZvciBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcblxuIyMgRXhwbGFuYXRpb24gb2YgdGhlIEZpeFxuXG5UaGUgcm9vdCBjYXVzZSBvZiB0aGUgZXJyb3Igd2FzIHRoYXQgd2hlbiBjcmVhdGluZyBhIG5ldyBTdWJzY3JpYmVyLCB0aGUgdXNlcl9pZCB3YXMgbm90IGJlaW5nIHNldCBiZWZvcmUgaW5zZXJ0aW5nIGludG8gdGhlIGRhdGFiYXNlLiBUaGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCByZXF1aXJlcyB0aGF0IHRoZSB1c2VyX2lkIGluIHRoZSBTVUJTQ1JJQkVSIHRhYmxlIG11c3QgZXhpc3QgaW4gdGhlIFVTRVIgdGFibGUuXG5cblRoZSBzb2x1dGlvbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBJRHMgZm9yIGJvdGggdGFibGVzIGFuZCBlbnN1cmVzIHRoYXQgdGhlIFVTRVIgcmVjb3JkIGlzIGluc2VydGVkIGZpcnN0LCBmb2xsb3dlZCBieSB0aGUgU1VCU0NSSUJFUiByZWNvcmQgd2l0aCB0aGUgc2FtZSB1c2VyX2lkLiBUaGlzIG1haW50YWlucyB0aGUgZm9yZWlnbiBrZXkgcmVsYXRpb25zaGlwIGFuZCBwcmV2ZW50cyB0aGUgY29uc3RyYWludCB2aW9sYXRpb24uXG5cbkFkZGl0aW9uYWxseSwgSSd2ZSBpbXByb3ZlZCB0aGUgdmFsaWRhdGlvbiBhbmQgZXJyb3IgaGFuZGxpbmcgdG8gcHJvdmlkZSBiZXR0ZXIgZmVlZGJhY2sgdG8gdGhlIHVzZXIgYW5kIHByZXZlbnQgaW52YWxpZCBkYXRhIGZyb20gYmVpbmcgc3VibWl0dGVkLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiMWM5NTMwMzctMWJjNi00ZjU0LWI1YjEtNzczNjE1ZDhiYmEyIiwidXVpZCI6IjdmYWQwODQxLTQ3MDgtNDY1NC1iNzNhLTYwODUwNDhiNTJlMSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0Njk1NjA1Nzk0NSwidG9UaW1lc3RhbXAiOjE3NDY5NTYxMDU4MjUsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiMjgyZjNiZTQtNDA5OC00YjkyLTgyZWItOTM4NjUyZDFjOTQ1Iiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0NDE1NWZkNy1iY2YwLTRmNTQtYjM2YS0yM2YzNWU4OTY0ZjYiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ1c2UgRGJPcGVyYXRpb25zIGNsYXNzIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InVzZSBEYk9wZXJhdGlvbnMgY2xhc3MifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFIdW1rcVE0OWs5bkdzbnhNSkwxdldVIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgREFPO1xcblxcbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xcbmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm5ld19zdHJcIjogXCJwYWNrYWdlIERBTztcXG5cXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNX0sIHtcIm9sZF9zdHJcIjogXCJwdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XFxuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXFxcIlxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIG1zZywgXFxcIk1lc3NhZ2VcXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXFxcIk1lc3NhZ2VcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwicHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXREYXRhT3JEZWxldGUoU3RyaW5nIHF1ZXJ5LCBTdHJpbmcgbXNnKSB7XFxuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XFxuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xcbiAgICAgICAgICAgIHN0LmV4ZWN1dGVVcGRhdGUocXVlcnkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFxcXCJcXFwiKSkge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFxcXCJNZXNzYWdlXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFxcXCJNZXNzYWdlXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChzdCAhPSBudWxsKSBzdC5jbG9zZSgpO1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgXFxuICAgIC8qKlxcbiAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcXG4gICAgICogQHBhcmFtIHRhYmxlTmFtZSBOYW1lIG9mIHRoZSB0YWJsZVxcbiAgICAgKiBAcGFyYW0gaWRDb2x1bW5OYW1lIE5hbWUgb2YgdGhlIElEIGNvbHVtblxcbiAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xcbiAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IG51bGw7XFxuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xcbiAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1QgTUFYKFxcXCIgKyBpZENvbHVtbk5hbWUgKyBcXFwiKSBBUyBtYXhfaWQgRlJPTSBcXFwiICsgdGFibGVOYW1lO1xcbiAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFxcXCJtYXhfaWRcXFwiKTtcXG4gICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZSwgXFxcIkVycm9yXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xcbiAgICAgICAgICAgICAgICBpZiAoc3RtdCAhPSBudWxsKSBzdG10LmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIG5leHRJZDtcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEV4ZWN1dGUgYSB0cmFuc2FjdGlvbiB3aXRoIG11bHRpcGxlIFNRTCBvcGVyYXRpb25zXFxuICAgICAqIEBwYXJhbSBvcGVyYXRpb25zIEFycmF5IG9mIFNRTCBvcGVyYXRpb25zIHRvIGV4ZWN1dGVcXG4gICAgICogQHBhcmFtIHN1Y2Nlc3NNc2cgTWVzc2FnZSB0byBkaXNwbGF5IG9uIHN1Y2Nlc3NcXG4gICAgICogQHJldHVybiB0cnVlIGlmIHRyYW5zYWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcXG4gICAgICovXFxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBleGVjdXRlVHJhbnNhY3Rpb24oU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucywgU3RyaW5nIHN1Y2Nlc3NNc2cpIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBmYWxzZTtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYWxsIG9wZXJhdGlvbnNcXG4gICAgICAgICAgICBmb3IgKFNxbE9wZXJhdGlvbiBvcGVyYXRpb24gOiBvcGVyYXRpb25zKSB7XFxuICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KG9wZXJhdGlvbi5nZXRTcWwoKSk7XFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5zZXRQYXJhbWV0ZXJzKHBzKTtcXG4gICAgICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgICAgICBwcy5jbG9zZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBDb21taXQgdHJhbnNhY3Rpb25cXG4gICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIGlmIHByb3ZpZGVkXFxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NNc2cgIT0gbnVsbCAmJiAhc3VjY2Vzc01zZy5pc0VtcHR5KCkpIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgc3VjY2Vzc01zZywgXFxcIlN1Y2Nlc3NcXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIC8vIFJvbGxiYWNrIHRyYW5zYWN0aW9uIG9uIGVycm9yXFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XFxuICAgICAgICAgICAgICAgIHJvbGxiYWNrRXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJFcnJvcjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpLCBcXFwiRXJyb3JcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSB7XFxuICAgICAgICAgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XFxuICAgIH1cXG4gICAgXFxuICAgIC8qKlxcbiAgICAgKiBJbnRlcmZhY2UgZm9yIFNRTCBvcGVyYXRpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xcbiAgICAgKi9cXG4gICAgcHVibGljIGludGVyZmFjZSBTcWxPcGVyYXRpb24ge1xcbiAgICAgICAgU3RyaW5nIGdldFNxbCgpO1xcbiAgICAgICAgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uO1xcbiAgICB9XFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyOX1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgbW9kaWZ5IHRoZSBzb2x1dGlvbiB0byB1c2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gVGhpcyB3aWxsIG1ha2UgdGhlIGNvZGUgbW9yZSBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uLlxuXG5MZXQncyBleGFtaW5lIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZmlyc3QgdG8gdW5kZXJzdGFuZCBob3cgaXQncyB1c2VkOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcIiBtb2RlPVwiRVhDRVJQVFwiPlxuYGBgamF2YVxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5JIHNlZSB0aGF0IHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgaGFzIGEgbWV0aG9kIGZvciBleGVjdXRpbmcgU1FMIHN0YXRlbWVudHMsIGJ1dCBpdCBkb2Vzbid0IHN1cHBvcnQgcHJlcGFyZWQgc3RhdGVtZW50cyB3aGljaCBhcmUgbmVlZGVkIGZvciBvdXIgdXNlIGNhc2UuIExldCdzIGVuaGFuY2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyB0byBzdXBwb3J0IG91ciBuZWVkcyBhbmQgdGhlbiB1cGRhdGUgdGhlIFN1YnNjcmliZXJEQU8gdG8gdXNlIGl0LlxuXG4jIyBQbGFuOlxuMS4gQWRkIGEgbmV3IG1ldGhvZCB0byBEYk9wZXJhdGlvbnMgZm9yIGhhbmRsaW5nIHRyYW5zYWN0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcbjIuIFVwZGF0ZSBTdWJzY3JpYmVyREFPIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzXG5cbkxldCdzIGltcGxlbWVudCB0aGVzZSBjaGFuZ2VzOiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IG1vZGlmeSB0aGUgc29sdXRpb24gdG8gdXNlIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZm9yIGRhdGFiYXNlIG9wZXJhdGlvbnMuIFRoaXMgd2lsbCBtYWtlIHRoZSBjb2RlIG1vcmUgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbi5cblxuTGV0J3MgZXhhbWluZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIGZpcnN0IHRvIHVuZGVyc3RhbmQgaG93IGl0J3MgdXNlZDpcblxuYGBgYGphdmEgcGF0aD1zcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhIG1vZGU9RVhDRVJQVFxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuYGBgYFxuXG5JIHNlZSB0aGF0IHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgaGFzIGEgbWV0aG9kIGZvciBleGVjdXRpbmcgU1FMIHN0YXRlbWVudHMsIGJ1dCBpdCBkb2Vzbid0IHN1cHBvcnQgcHJlcGFyZWQgc3RhdGVtZW50cyB3aGljaCBhcmUgbmVlZGVkIGZvciBvdXIgdXNlIGNhc2UuIExldCdzIGVuaGFuY2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyB0byBzdXBwb3J0IG91ciBuZWVkcyBhbmQgdGhlbiB1cGRhdGUgdGhlIFN1YnNjcmliZXJEQU8gdG8gdXNlIGl0LlxuXG4jIyBQbGFuOlxuMS4gQWRkIGEgbmV3IG1ldGhvZCB0byBEYk9wZXJhdGlvbnMgZm9yIGhhbmRsaW5nIHRyYW5zYWN0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcbjIuIFVwZGF0ZSBTdWJzY3JpYmVyREFPIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzXG5cbkxldCdzIGltcGxlbWVudCB0aGVzZSBjaGFuZ2VzOlxuIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InVzZSBEYk9wZXJhdGlvbnMgY2xhc3MifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzU6NTYuODEzWiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IG1vZGlmeSB0aGUgc29sdXRpb24gdG8gdXNlIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZm9yIGRhdGFiYXNlIG9wZXJhdGlvbnMuIFRoaXMgd2lsbCBtYWtlIHRoZSBjb2RlIG1vcmUgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbi5cblxuTGV0J3MgZXhhbWluZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIGZpcnN0IHRvIHVuZGVyc3RhbmQgaG93IGl0J3MgdXNlZDpcblxuYGBgYGphdmEgcGF0aD1zcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhIG1vZGU9RVhDRVJQVFxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuYGBgYFxuXG5JIHNlZSB0aGF0IHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgaGFzIGEgbWV0aG9kIGZvciBleGVjdXRpbmcgU1FMIHN0YXRlbWVudHMsIGJ1dCBpdCBkb2Vzbid0IHN1cHBvcnQgcHJlcGFyZWQgc3RhdGVtZW50cyB3aGljaCBhcmUgbmVlZGVkIGZvciBvdXIgdXNlIGNhc2UuIExldCdzIGVuaGFuY2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyB0byBzdXBwb3J0IG91ciBuZWVkcyBhbmQgdGhlbiB1cGRhdGUgdGhlIFN1YnNjcmliZXJEQU8gdG8gdXNlIGl0LlxuXG4jIyBQbGFuOlxuMS4gQWRkIGEgbmV3IG1ldGhvZCB0byBEYk9wZXJhdGlvbnMgZm9yIGhhbmRsaW5nIHRyYW5zYWN0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcbjIuIFVwZGF0ZSBTdWJzY3JpYmVyREFPIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzXG5cbkxldCdzIGltcGxlbWVudCB0aGVzZSBjaGFuZ2VzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNhYjcxZWY4LWZlMmQtNDgxNi05MzgyLTA3Yjc3ZjAyOWQ5YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFZRmVWd0oxTVlaQk0xQnhIWURNYVNVIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XFxuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xcbmltcG9ydCBEQU8uRGJPcGVyYXRpb25zLlNxbE9wZXJhdGlvbjtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTR9LCB7XCJvbGRfc3RyXCI6IFwiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XFxuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB1c2VyX2lkXFxuICAgICAgICAgICAgaW50IHVzZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFxcXCJVU0VSXFxcIiwgXFxcInVzZXJfaWRcXFwiKTtcXG4gICAgICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHN1YnNjcmliZXJfaWRcXG4gICAgICAgICAgICBpbnQgc3Vic2NyaWJlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXFxcIlNVQlNDUklCRVJcXFwiLCBcXFwic3Vic2NyaWJlcl9pZFxcXCIpO1xcbiAgICAgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gVVNFUiB0YWJsZSBmaXJzdFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXFxcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XFxuICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcXG4gICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIFRoZW4gaW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZSB3aXRoIHRoZSBzYW1lIHVzZXJfaWRcXG4gICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFxcXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgdXNlcklkKTsgLy8gVXNlIHRoZSBzYW1lIHVzZXJfaWRcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlxcdTAxMTBcXHUwMTAzbmcga1xcdTAwZmQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICB9XFxuICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIkxcXHUxZWQ3aTogXFxcIiArIGUuZ2V0TWVzc2FnZSgpLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChmaW5hbCBTdWJzY3JpYmVyIG9iaikge1xcbiAgICAgICAgLy8gR2VuZXJhdGUgdXNlcl9pZCBhbmQgc3Vic2NyaWJlcl9pZFxcbiAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXFxcIlVTRVJcXFwiLCBcXFwidXNlcl9pZFxcXCIpO1xcbiAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXFxcIlNVQlNDUklCRVJcXFwiLCBcXFwic3Vic2NyaWJlcl9pZFxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBTZXQgdGhlIGdlbmVyYXRlZCBJRHNcXG4gICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XFxuICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBDcmVhdGUgU1FMIG9wZXJhdGlvbnMgZm9yIHRoZSB0cmFuc2FjdGlvblxcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XFxuICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gVVNFUiB0YWJsZVxcbiAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XFxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxcbiAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcXFwiO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBJbnNlcnQgaW50byBTVUJTQ1JJQkVSIHRhYmxlXFxuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXFxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH07XFxuICAgICAgICBcXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIHRyYW5zYWN0aW9uXFxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFxcXCJcXHUwMTEwXFx1MDEwM25nIGtcXHUwMGZkIHRoXFx1MDBlMG5oIGNcXHUwMGY0bmchXFxcIik7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIyLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDgwfSwge1wib2xkX3N0clwiOiBcIiAgICAvKipcXG4gICAgICogR2VuZXJhdGUgdGhlIG5leHQgYXZhaWxhYmxlIElEIGZvciBhIHRhYmxlXFxuICAgICAqIEBwYXJhbSBjb25uIERhdGFiYXNlIGNvbm5lY3Rpb25cXG4gICAgICogQHBhcmFtIHRhYmxlTmFtZSBOYW1lIG9mIHRoZSB0YWJsZVxcbiAgICAgKiBAcGFyYW0gaWRDb2x1bW5OYW1lIE5hbWUgb2YgdGhlIElEIGNvbHVtblxcbiAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXFxuICAgICAqIEB0aHJvd3MgRXhjZXB0aW9uIElmIGFuIGVycm9yIG9jY3Vyc1xcbiAgICAgKi9cXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW50IGdlbmVyYXRlTmV4dElkKENvbm5lY3Rpb24gY29ubiwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XFxuICAgICAgICBpbnQgbmV4dElkID0gMTsgLy8gRGVmYXVsdCBzdGFydGluZyBJRFxcbiAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcXG4gICAgICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIE1BWChcXFwiICsgaWRDb2x1bW5OYW1lICsgXFxcIikgQVMgbWF4X2lkIEZST00gXFxcIiArIHRhYmxlTmFtZTtcXG4gICAgICAgICAgICBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgIGludCBtYXhJZCA9IHJzLmdldEludChcXFwibWF4X2lkXFxcIik7XFxuICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xcbiAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIG5leHRJZDtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCJcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDk5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDEyN31dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdywgbGV0J3MgdXBkYXRlIHRoZSBTdWJzY3JpYmVyREFPIGNsYXNzIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0cGFja2FnZSBEQU87XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAgNFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgICA1XHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgICA2XHRpbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuICAgICA3XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgIDhcdFxuICAgICA5XHRwdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICAxMFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXREYXRhT3JEZWxldGUoU3RyaW5nIHF1ZXJ5LCBTdHJpbmcgbXNnKSB7XG4gICAgMTFcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNVx0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAgNlx0aW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbiAgICAgN1x0aW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuICAgICA4XHRcbiAgICAgOVx0cHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgMTBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgIDExXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMTJcdCAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAxM1x0ICAgICAgICB0cnkge1xuICAgIDE0XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAxNVx0ICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgIDE2XHQgICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAxN1x0XG4gICAgMThcdCAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgMTlcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAyMFx0ICAgICAgICAgICAgfVxuICAgIDIxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgIDIyXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDIzXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgMjRcdCAgICAgICAgICAgIHRyeSB7XG4gICAgMjVcdCAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAyNlx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAyN1x0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyOFx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjlcdCAgICAgICAgICAgIH1cbiAgICAzMFx0ICAgICAgICB9XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgLyoqXG4gICAgMzRcdCAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcbiAgICAzNVx0ICAgICAqIEBwYXJhbSB0YWJsZU5hbWUgTmFtZSBvZiB0aGUgdGFibGVcbiAgICAzNlx0ICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXG4gICAgMzdcdCAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXG4gICAgMzhcdCAgICAgKi9cbiAgICAzOVx0ICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldE5leHRJZChTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB7XG4gICAgNDBcdCAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcbiAgICA0MVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDQyXHQgICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcbiAgICA0M1x0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgIDQ0XHRcbiAgICA0NVx0ICAgICAgICB0cnkge1xuICAgIDQ2XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA0N1x0ICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgNDhcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgICA0OVx0ICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAgNTBcdFxuICAgIDUxXHQgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgNTJcdCAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAgNTNcdCAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XG4gICAgNTRcdCAgICAgICAgICAgIH1cbiAgICA1NVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDU2XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBlLCBcIkVycm9yXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDU3XHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgNThcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNTlcdCAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICA2Mlx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA2M1x0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjRcdCAgICAgICAgICAgIH1cbiAgICA2NVx0ICAgICAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgICAgIHJldHVybiBuZXh0SWQ7XG4gICAgNjhcdCAgICB9XG4gICAgNjlcdFxuICAgIDcwXHQgICAgLyoqXG4gICAgNzFcdCAgICAgKiBFeGVjdXRlIGEgdHJhbnNhY3Rpb24gd2l0aCBtdWx0aXBsZSBTUUwgb3BlcmF0aW9uc1xuICAgIDcyXHQgICAgICogQHBhcmFtIG9wZXJhdGlvbnMgQXJyYXkgb2YgU1FMIG9wZXJhdGlvbnMgdG8gZXhlY3V0ZVxuICAgIDczXHQgICAgICogQHBhcmFtIHN1Y2Nlc3NNc2cgTWVzc2FnZSB0byBkaXNwbGF5IG9uIHN1Y2Nlc3NcbiAgICA3NFx0ICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0cmFuc2FjdGlvbiB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgNzVcdCAgICAgKi9cbiAgICA3Nlx0ICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBleGVjdXRlVHJhbnNhY3Rpb24oU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucywgU3RyaW5nIHN1Y2Nlc3NNc2cpIHtcbiAgICA3N1x0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDc4XHQgICAgICAgIGJvb2xlYW4gc3VjY2VzcyA9IGZhbHNlO1xuICAgIDc5XHRcbiAgICA4MFx0ICAgICAgICB0cnkge1xuICAgIDgxXHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA4Mlx0ICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgICAgIC8vIEV4ZWN1dGUgYWxsIG9wZXJhdGlvbnNcbiAgICA4NVx0ICAgICAgICAgICAgZm9yIChTcWxPcGVyYXRpb24gb3BlcmF0aW9uIDogb3BlcmF0aW9ucykge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQob3BlcmF0aW9uLmdldFNxbCgpKTtcbiAgICA4N1x0ICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5zZXRQYXJhbWV0ZXJzKHBzKTtcbiAgICA4OFx0ICAgICAgICAgICAgICAgIHBzLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA4OVx0ICAgICAgICAgICAgICAgIHBzLmNsb3NlKCk7XG4gICAgOTBcdCAgICAgICAgICAgIH1cbiAgICA5MVx0XG4gICAgOTJcdCAgICAgICAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxuICAgIDkzXHQgICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xuICAgIDk0XHQgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICA5NVx0XG4gICAgOTZcdCAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIGlmIHByb3ZpZGVkXG4gICAgOTdcdCAgICAgICAgICAgIGlmIChzdWNjZXNzTXNnICE9IG51bGwgJiYgIXN1Y2Nlc3NNc2cuaXNFbXB0eSgpKSB7XG4gICAgOThcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBzdWNjZXNzTXNnLCBcIlN1Y2Nlc3NcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgOTlcdCAgICAgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTAxXHQgICAgICAgICAgICAvLyBSb2xsYmFjayB0cmFuc2FjdGlvbiBvbiBlcnJvclxuICAgMTAyXHQgICAgICAgICAgICB0cnkge1xuICAgMTAzXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgMTA0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xuICAgMTA1XHQgICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDEwNlx0ICAgICAgICAgICAgfVxuICAgMTA3XHRcbiAgIDEwOFx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJFcnJvcjogXCIgKyBlLmdldE1lc3NhZ2UoKSwgXCJFcnJvclwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDEwOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExMFx0ICAgICAgICB9IGZpbmFsbHkge1xuICAgMTExXHQgICAgICAgICAgICB0cnkge1xuICAgMTEyXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkge1xuICAgMTEzXHQgICAgICAgICAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdCh0cnVlKTtcbiAgIDExNFx0ICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7XG4gICAxMTVcdCAgICAgICAgICAgICAgICB9XG4gICAxMTZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxMTdcdCAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTE4XHQgICAgICAgICAgICB9XG4gICAxMTlcdCAgICAgICAgfVxuICAgMTIwXHRcbiAgIDEyMVx0ICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgIDEyMlx0ICAgIH1cbiAgIDEyM1x0XG4gICAxMjRcdCAgICAvKipcbiAgIDEyNVx0ICAgICAqIEludGVyZmFjZSBmb3IgU1FMIG9wZXJhdGlvbnMgd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnRzXG4gICAxMjZcdCAgICAgKi9cbiAgIDEyN1x0ICAgIHB1YmxpYyBpbnRlcmZhY2UgU3FsT3BlcmF0aW9uIHtcbiAgIDEyOFx0ICAgICAgICBTdHJpbmcgZ2V0U3FsKCk7XG4gICAxMjlcdCAgICAgICAgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uO1xuICAgMTMwXHQgICAgfVxuICAgMTMxXHR9XG4gICAxMzJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSHVta3FRNDlrOW5Hc254TUpMMXZXVSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNjoyNi42NjVaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdywgbGV0J3MgdXBkYXRlIHRoZSBTdWJzY3JpYmVyREFPIGNsYXNzIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQxOGFhNTkwLWRhMzQtNGNmZS1hMDI5LTU2MjBhNDRlOThkMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE3Nnd5WHpTaDhWTkxwbTJKaFBBMVJDIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHRyYW5zYWN0aW9uXFxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFxcXCJcXHUwMTEwXFx1MDEwM25nIGtcXHUwMGZkIHRoXFx1MDBlMG5oIGNcXHUwMGY0bmchXFxcIik7XFxuICAgIH1cXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHRyYW5zYWN0aW9uXFxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFxcXCJcXHUwMTEwXFx1MDEwM25nIGtcXHUwMGZkIHRoXFx1MDBlMG5oIGNcXHUwMGY0bmchXFxcIik7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDY1LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDY4fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVGhlcmUncyBhbiBleHRyYSBjbG9zaW5nIGJyYWNlIGluIHRoZSBTdWJzY3JpYmVyREFPLmphdmEgZmlsZS4gTGV0J3MgZml4IHRoYXQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMVx0aW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuICAgIDEyXHRcbiAgICAxM1x0LyoqXG4gICAgMTRcdCAqXG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTZcdCAqL1xuICAgIDE3XHRwdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcbiAgICAxOFx0XG4gICAgMTlcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFN1YnNjcmliZXIgb2JqKSB7XG4gICAgMjBcdCAgICAgICAgLy8gR2VuZXJhdGUgdXNlcl9pZCBhbmQgc3Vic2NyaWJlcl9pZFxuICAgIDIxXHQgICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgMjJcdCAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJTVUJTQ1JJQkVSXCIsIFwic3Vic2NyaWJlcl9pZFwiKTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICAgICAgLy8gU2V0IHRoZSBnZW5lcmF0ZWQgSURzXG4gICAgMjVcdCAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcbiAgICAyNlx0ICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICAvLyBDcmVhdGUgU1FMIG9wZXJhdGlvbnMgZm9yIHRoZSB0cmFuc2FjdGlvblxuICAgIDI5XHQgICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgIDMwXHQgICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlXG4gICAgMzFcdCAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgMzJcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAzM1x0ICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgIDM0XHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMzVcdCAgICAgICAgICAgICAgICB9XG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgMzhcdCAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAzOVx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICA0MFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgIDQxXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDQzXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICA0NFx0ICAgICAgICAgICAgICAgIH1cbiAgICA0NVx0ICAgICAgICAgICAgfSxcbiAgICA0Nlx0XG4gICAgNDdcdCAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIFNVQlNDUklCRVIgdGFibGVcbiAgICA0OFx0ICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICA0OVx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDUwXHQgICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgNTFcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gU1VCU0NSSUJFUiAoc3Vic2NyaWJlcl9pZCwgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA1Mlx0ICAgICAgICAgICAgICAgIH1cbiAgICA1M1x0XG4gICAgNTRcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICA1NVx0ICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIDU2XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgIDU3XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgNThcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDUsIHVzZXJJZCk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICB9XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICB9O1xuICAgIDY0XHRcbiAgICA2NVx0ICAgICAgICAvLyBFeGVjdXRlIHRoZSB0cmFuc2FjdGlvblxuICAgIDY2XHQgICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIik7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdCAgICB9XG4gICAgNjlcdFxuICAgIDcwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDcxXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsyXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDgyXHQgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICA4M1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA4NFx0ICAgIH1cbiAgICA4NVx0XG4gICAgODZcdFxuICAgIDg3XHR9XG4gICAgODhcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxWUZlVndKMU1ZWkJNMUJ4SFlETWFTVSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNjo1My42MTdaIiwicmVzcG9uc2VfdGV4dCI6IlRoZXJlJ3MgYW4gZXh0cmEgY2xvc2luZyBicmFjZSBpbiB0aGUgU3Vic2NyaWJlckRBTy5qYXZhIGZpbGUuIExldCdzIGZpeCB0aGF0OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijg2ODI4N2RlLWYwZmEtNGI1YS1hNDcxLWQ5MDdiYTE0NDUxMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG5JJ3ZlIHVwZGF0ZWQgdGhlIHNvbHV0aW9uIHRvIHVzZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHRoZSBjaGFuZ2VzOlxuXG4xLiAqKkVuaGFuY2VkIERiT3BlcmF0aW9ucyBjbGFzcyoqOlxuICAgLSBBZGRlZCBhIGBnZXROZXh0SWRgIG1ldGhvZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBkYXRhYmFzZSB0YWJsZXNcbiAgIC0gQWRkZWQgYW4gYGV4ZWN1dGVUcmFuc2FjdGlvbmAgbWV0aG9kIHRvIGhhbmRsZSB0cmFuc2FjdGlvbnMgd2l0aCBtdWx0aXBsZSBTUUwgb3BlcmF0aW9uc1xuICAgLSBDcmVhdGVkIGEgYFNxbE9wZXJhdGlvbmAgaW50ZXJmYWNlIHRvIGRlZmluZSBTUUwgb3BlcmF0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcblxuMi4gKipVcGRhdGVkIFN1YnNjcmliZXJEQU8gY2xhc3MqKjpcbiAgIC0gU2ltcGxpZmllZCB0aGUgYGluc2VydGAgbWV0aG9kIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzXG4gICAtIFJlbW92ZWQgdGhlIHJlZHVuZGFudCBgZ2VuZXJhdGVOZXh0SWRgIG1ldGhvZCBzaW5jZSBpdCdzIG5vdyBwYXJ0IG9mIERiT3BlcmF0aW9uc1xuICAgLSBVc2VkIHRoZSB0cmFuc2FjdGlvbiBzdXBwb3J0IGZyb20gRGJPcGVyYXRpb25zIHRvIGVuc3VyZSBkYXRhIGludGVncml0eVxuXG4zLiAqKktlcHQgdGhlIFNpZ25VcCBjbGFzcyBpbXByb3ZlbWVudHMqKjpcbiAgIC0gQmV0dGVyIHZhbGlkYXRpb24gbG9naWNcbiAgIC0gSW1wcm92ZWQgZXJyb3IgaGFuZGxpbmdcblxuIyMgQmVuZWZpdHMgb2YgdGhlIE5ldyBJbXBsZW1lbnRhdGlvblxuXG4xLiAqKkNvZGUgUmV1c2FiaWxpdHkqKjogVGhlIGVuaGFuY2VkIERiT3BlcmF0aW9ucyBjbGFzcyBjYW4gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbiBmb3Igc2ltaWxhciBkYXRhYmFzZSBvcGVyYXRpb25zLlxuXG4yLiAqKkNsZWFuZXIgQ29kZSoqOiBUaGUgU3Vic2NyaWJlckRBTyBjbGFzcyBpcyBub3cgbW9yZSBmb2N1c2VkIG9uIGl0cyBzcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHJhdGhlciB0aGFuIGRhdGFiYXNlIGNvbm5lY3Rpb24gbWFuYWdlbWVudC5cblxuMy4gKipCZXR0ZXIgVHJhbnNhY3Rpb24gTWFuYWdlbWVudCoqOiBUaGUgdHJhbnNhY3Rpb24gaGFuZGxpbmcgaXMgY2VudHJhbGl6ZWQgaW4gdGhlIERiT3BlcmF0aW9ucyBjbGFzcywgbWFraW5nIGl0IG1vcmUgY29uc2lzdGVudCBhbmQgcmVsaWFibGUuXG5cbjQuICoqSW1wcm92ZWQgRXJyb3IgSGFuZGxpbmcqKjogRXJyb3IgbWVzc2FnZXMgYXJlIG1vcmUgdXNlci1mcmllbmRseSBhbmQgcHJvdmlkZSBiZXR0ZXIgZmVlZGJhY2suXG5cblRoZXNlIGNoYW5nZXMgc2hvdWxkIGZpeCB0aGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCBlcnJvciB3aGlsZSBtYWtpbmcgdGhlIGNvZGUgbW9yZSBtYWludGFpbmFibGUgYW5kIGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgYXBwbGljYXRpb24uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InVuc2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDYxXHQgICAgICAgICAgICAgICAgfVxuICAgIDYyXHQgICAgICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgfTtcbiAgICA2NFx0XG4gICAgNjVcdCAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb25cbiAgICA2Nlx0ICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIpO1xuICAgIDY3XHQgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA3MFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3MVx0ICAgIH1cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTc2d3lYelNoOFZOTHBtMkpoUEExUkMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6Mzc6MDAuNzQ4WiIsInJlc3BvbnNlX3RleHQiOiIjIyBTdW1tYXJ5IG9mIENoYW5nZXNcblxuSSd2ZSB1cGRhdGVkIHRoZSBzb2x1dGlvbiB0byB1c2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gSGVyZSdzIGEgc3VtbWFyeSBvZiB0aGUgY2hhbmdlczpcblxuMS4gKipFbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3MqKjpcbiAgIC0gQWRkZWQgYSBgZ2V0TmV4dElkYCBtZXRob2QgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcyBmb3IgZGF0YWJhc2UgdGFibGVzXG4gICAtIEFkZGVkIGFuIGBleGVjdXRlVHJhbnNhY3Rpb25gIG1ldGhvZCB0byBoYW5kbGUgdHJhbnNhY3Rpb25zIHdpdGggbXVsdGlwbGUgU1FMIG9wZXJhdGlvbnNcbiAgIC0gQ3JlYXRlZCBhIGBTcWxPcGVyYXRpb25gIGludGVyZmFjZSB0byBkZWZpbmUgU1FMIG9wZXJhdGlvbnMgd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnRzXG5cbjIuICoqVXBkYXRlZCBTdWJzY3JpYmVyREFPIGNsYXNzKio6XG4gICAtIFNpbXBsaWZpZWQgdGhlIGBpbnNlcnRgIG1ldGhvZCB0byB1c2UgdGhlIGVuaGFuY2VkIERiT3BlcmF0aW9ucyBjbGFzc1xuICAgLSBSZW1vdmVkIHRoZSByZWR1bmRhbnQgYGdlbmVyYXRlTmV4dElkYCBtZXRob2Qgc2luY2UgaXQncyBub3cgcGFydCBvZiBEYk9wZXJhdGlvbnNcbiAgIC0gVXNlZCB0aGUgdHJhbnNhY3Rpb24gc3VwcG9ydCBmcm9tIERiT3BlcmF0aW9ucyB0byBlbnN1cmUgZGF0YSBpbnRlZ3JpdHlcblxuMy4gKipLZXB0IHRoZSBTaWduVXAgY2xhc3MgaW1wcm92ZW1lbnRzKio6XG4gICAtIEJldHRlciB2YWxpZGF0aW9uIGxvZ2ljXG4gICAtIEltcHJvdmVkIGVycm9yIGhhbmRsaW5nXG5cbiMjIEJlbmVmaXRzIG9mIHRoZSBOZXcgSW1wbGVtZW50YXRpb25cblxuMS4gKipDb2RlIFJldXNhYmlsaXR5Kio6IFRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3MgY2FuIGJlIHVzZWQgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24gZm9yIHNpbWlsYXIgZGF0YWJhc2Ugb3BlcmF0aW9ucy5cblxuMi4gKipDbGVhbmVyIENvZGUqKjogVGhlIFN1YnNjcmliZXJEQU8gY2xhc3MgaXMgbm93IG1vcmUgZm9jdXNlZCBvbiBpdHMgc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSByYXRoZXIgdGhhbiBkYXRhYmFzZSBjb25uZWN0aW9uIG1hbmFnZW1lbnQuXG5cbjMuICoqQmV0dGVyIFRyYW5zYWN0aW9uIE1hbmFnZW1lbnQqKjogVGhlIHRyYW5zYWN0aW9uIGhhbmRsaW5nIGlzIGNlbnRyYWxpemVkIGluIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MsIG1ha2luZyBpdCBtb3JlIGNvbnNpc3RlbnQgYW5kIHJlbGlhYmxlLlxuXG40LiAqKkltcHJvdmVkIEVycm9yIEhhbmRsaW5nKio6IEVycm9yIG1lc3NhZ2VzIGFyZSBtb3JlIHVzZXItZnJpZW5kbHkgYW5kIHByb3ZpZGUgYmV0dGVyIGZlZWRiYWNrLlxuXG5UaGVzZSBjaGFuZ2VzIHNob3VsZCBmaXggdGhlIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZXJyb3Igd2hpbGUgbWFraW5nIHRoZSBjb2RlIG1vcmUgbWFpbnRhaW5hYmxlIGFuZCBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiNzMwOGI2NGEtMjExMy00NzM5LWEzZTQtMzkzNDA1ZDlhYmQyIiwidXVpZCI6IjAzYjE0YzI0LTZhZDctNDlkOS1iZGQwLTAzZjIxNGZmYjZmMSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0Njk1NjEwNTgyNSwidG9UaW1lc3RhbXAiOjE3NDY5NTYyMjg5MjB9LHsicmVxdWVzdF9pZCI6IjI0NTllNWE4LTg4MjktNGU2Ni1iZWM1LTYwZTA4NTkxMGZhMyIsInV1aWQiOiIyMzRiYmM2Yi1hZThkLTQxMTEtOGI4NS01MmQ4ZDExZDFhNDMiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDY5NTYyMjg5MjAsInRvVGltZXN0YW1wIjoxNzQ3MDk5MDcxODAwfV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtNmViYjY3MTMtNGMyNi00MThhLTgyMDMtNTFlYThkMzYwNzk5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zZmM0MDE2YS03OWQ1LTRhMWQtYjA2YS01NmVjNzg2YWUwOWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ1MjIzMmM5LTQwYjEtNGNiYi1hNmU3LTY5ZWJiNzNmYWQ5ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjczZjgzNWMtNjc5Zi00ODMzLWIzYjItY2VkMzg1YWUwY2JkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02MTc4MmFjYy03ZDFmLTQ0YTktOTA0YS05NmU1NWYwZmFiNzUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTU5NmM1Y2IxLWRjNjEtNGZlZi1hNTcyLWYzYWQ4MmMwNGI5ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTBmZWIzZjgtNzhmNS00YmY5LWE1YWItZGQ2MzgyOTY3MzdhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iNDM0MWI3NC03ZTBmLTRmYWUtOGU0OS0xYzE1Nzg3MGZjNjEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ1MzhmN2E0LTYyYzUtNDk5ZS1iNGUyLTI1NjI4ZmE3ODRjNyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtM2I3Y2U5ZTEtOTlmYi00ZTAxLWJmODItZTc0ODYwZjMxZTliIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xMjYwNGZiOS0xZDk5LTRlODgtYjYzMy02ODU1NmUwMzY4ZmEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTYwMDFiYjVlLWVmOWQtNGJhOC05YzkyLTQ1ZDRiZDBjYTlkOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNTZlODY0MTctYjcyNS00ZTkxLWJiNDktZjNkODQyNTAxZDc4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03MWU4Zjc3YS03NDEwLTQ1ZWQtOTg2MS1kODBmNzE4YjBmMGMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyJhMWY2YTBmMy1mOTVjLTQwZjAtYTEzOS1iNGYwZmJhZDFkZDg7dG9vbHVfMDFDd3lMS1FHdHpacHU1WU5lbkpub1VLIjp7InJlcXVlc3RJZCI6ImExZjZhMGYzLWY5NWMtNDBmMC1hMTM5LWI0ZjBmYmFkMWRkOCIsInRvb2xVc2VJZCI6InRvb2x1XzAxQ3d5TEtRR3R6WnB1NVlOZW5Kbm9VSyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XG4gICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDEsIG9iai5nZXRTdWJzY3JpYmVyX2lkKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDUsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL1VzZXJEQU8uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBEQU87XG5cbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoVXNlciBvYmopIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFVzZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTaWduVXAgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgREVGQVVMVF9ST0xFID0gXCJ1c2VyXCI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBTaWduSW5cbiAgICAgKi9cbiAgICBwdWJsaWMgU2lnblVwKCkge1xuICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHROYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIG5hbWUgPSB0eHROYW1lLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBhZGRyZXNzID0gdHh0QWRkcmVzcy5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgXG4gICAgICAgIGlmKG5hbWUuZXF1YWxzKFwiXCIpICYmIHVzZXJOYW1lLmVxdWFscyhcIlwiKSAmJiBwYXNzd29yZC5lcXVhbHMoXCJcIikgJiYgYWRkcmVzcy5lcXVhbHMoXCJcIikgJiYgcGhvbmUuZXF1YWxzKFwiXCIpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSA9PSAxMCAmJiBwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgICAgIGpGcmFtZTEgPSBuZXcgamF2YXguc3dpbmcuSkZyYW1lKCk7XG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDMgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDUgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDYgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIHR4dE5hbWUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRVc2VyTmFtZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIHR4dEFkZHJlc3MgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRQaG9uZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIHR4dFBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIGJ0blJldHVybiA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGJ0blNpZ251cCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGpMYWJlbDcgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDggPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpTZXBhcmF0b3IxID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbiAgICAgICAgalNlcGFyYXRvcjIgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuLi4uXG4gICAgICAgIFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blJldHVybkFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgICAgICBjbGVhcigpO1xuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIHR4dE5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9TdWJzY3JpYmVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBVc2VyIHtcbiAgICBwcml2YXRlIGludCBzdWJzY3JpYmVyX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIGZ1bGxOYW1lO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGhvbmU7XG4gICAgXG4gICAgcHVibGljIFN1YnNjcmliZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3Vic2NyaWJlcihpbnQgc3Vic2NyaWJlcl9pZCwgU3RyaW5nIGZ1bGxOYW1lLCBTdHJpbmcgYWRkcmVzcywgU3RyaW5nIHBob25lLCBpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICBzdXBlcih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZV9hdCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgaW50IGdldFN1YnNjcmliZXJfaWQoKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFN1YnNjcmliZXJfaWQoaW50IHN1YnNjcmliZXJfaWQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEZ1bGxOYW1lKCkge1xuICAgICAgICByZXR1cm4gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RnVsbE5hbWUoU3RyaW5nIGZ1bGxOYW1lKSB7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEFkZHJlc3MoU3RyaW5nIGFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFBob25lKCkge1xuICAgICAgICByZXR1cm4gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0UGhvbmUoU3RyaW5nIHBob25lKSB7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9EQU8vQ29ubmVjdGlvblByb3ZpZGVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgamF2YS5zcWwuKjtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIENvbm5lY3Rpb25Qcm92aWRlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVSTCA9IFwiamRiYzpteXNxbDovLzEyNS4yMTIuMjMxLjE4NDo2OTY5L0ludGVybmV0REJcIjtcbiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgVVNFUiA9IFwibWludG9yaTA5XCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBBU1NXT1JEID0gXCJNaW50b3J5MDlAOTZcIjtcbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIENvbm5lY3Rpb24gZ2V0Q29ubigpe1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBDbGFzcy5mb3JOYW1lKFwiY29tLm15c3FsLmNqLmpkYmMuRHJpdmVyXCIpO1xuICAgICAgICAgICAgY29ubiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbihVUkwsIFVTRVIsIFBBU1NXT1JEKTtcbiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJNeVNRTCBKREJDIERyaXZlciBub3QgZm91bmQuXCIpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkNvbm5lY3Rpb24gZmFpbGVkLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvVXNlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgdXNlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyByb2xlO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG5cbiAgICBwdWJsaWMgVXNlcigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLnVzZXJfaWQgPSB1c2VyX2lkO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRVc2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyX2lkKGludCB1c2VyX2lkKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9QbGFuLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBQbGFuIHtcbiAgICBwcml2YXRlIGludCBwbGFuX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7XG4gICAgcHJpdmF0ZSBsb25nIHByaWNlO1xuICAgIHByaXZhdGUgaW50IG1heF9zcGVlZF9kb21lc3RpYztcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICBwcml2YXRlIGludCBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG5cbiAgICBwdWJsaWMgUGxhbigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGxhbihpbnQgcGxhbl9pZCwgU3RyaW5nIG5hbWUsIGxvbmcgcHJpY2UsIGludCBtYXhfc3BlZWRfZG9tZXN0aWMsIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbCwgaW50IG1pbl9zcGVlZF9kb21lc3RpYywgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMucGxhbl9pZCA9IHBsYW5faWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICAgICAgdGhpcy5tYXhfc3BlZWRfZG9tZXN0aWMgPSBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2ludGVybmF0aW9uYWwgPSBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICAgICAgdGhpcy5taW5fc3BlZWRfZG9tZXN0aWMgPSBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2ludGVybmF0aW9uYWwgPSBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFBsYW5faWQoKSB7XG4gICAgICAgIHJldHVybiBwbGFuX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBsYW5faWQoaW50IHBsYW5faWQpIHtcbiAgICAgICAgdGhpcy5wbGFuX2lkID0gcGxhbl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9uZyBnZXRQcmljZSgpIHtcbiAgICAgICAgcmV0dXJuIHByaWNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByaWNlKGxvbmcgcHJpY2UpIHtcbiAgICAgICAgdGhpcy5wcmljZSA9IHByaWNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3NwZWVkX2RvbWVzdGljKCkge1xuICAgICAgICByZXR1cm4gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE1heF9zcGVlZF9kb21lc3RpYyhpbnQgbWF4X3NwZWVkX2RvbWVzdGljKSB7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2RvbWVzdGljID0gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3NwZWVkX2ludGVybmF0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfc3BlZWRfaW50ZXJuYXRpb25hbChpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgdGhpcy5tYXhfc3BlZWRfaW50ZXJuYXRpb25hbCA9IG1heF9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWluX3NwZWVkX2RvbWVzdGljKCkge1xuICAgICAgICByZXR1cm4gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE1pbl9zcGVlZF9kb21lc3RpYyhpbnQgbWluX3NwZWVkX2RvbWVzdGljKSB7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2RvbWVzdGljID0gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWluX3NwZWVkX2ludGVybmF0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNaW5fc3BlZWRfaW50ZXJuYXRpb25hbChpbnQgbWluX3NwZWVkX2ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgdGhpcy5taW5fc3BlZWRfaW50ZXJuYXRpb25hbCA9IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuICAgIH1cbiAgIFxuICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9Db250cmFjdC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb250cmFjdCB7XG4gICAgcHJpdmF0ZSBpbnQgY29udHJhY3RfaWQ7XG4gICAgcHJpdmF0ZSBpbnQgc3ViX2lkO1xuICAgIHByaXZhdGUgaW50IHBhY2thZ2VfaWQ7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGRhdGVfc2lnbjtcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdDtcblxuICAgIHB1YmxpYyBDb250cmFjdCgpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ29udHJhY3QoaW50IGNvbnRyYWN0X2lkLCBpbnQgc3ViX2lkLCBpbnQgcGFja2FnZV9pZCwgTG9jYWxEYXRlVGltZSBkYXRlX3NpZ24sIExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uLCBTdHJpbmcgYWRkcmVzcywgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jb250cmFjdF9pZCA9IGNvbnRyYWN0X2lkO1xuICAgICAgICB0aGlzLnN1Yl9pZCA9IHN1Yl9pZDtcbiAgICAgICAgdGhpcy5wYWNrYWdlX2lkID0gcGFja2FnZV9pZDtcbiAgICAgICAgdGhpcy5kYXRlX3NpZ24gPSBkYXRlX3NpZ247XG4gICAgICAgIHRoaXMuZGF0ZV9leHBpcmF0aW9uID0gZGF0ZV9leHBpcmF0aW9uO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldENvbnRyYWN0X2lkKCkge1xuICAgICAgICByZXR1cm4gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q29udHJhY3RfaWQoaW50IGNvbnRyYWN0X2lkKSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFN1Yl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHN1Yl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJfaWQoaW50IHN1Yl9pZCkge1xuICAgICAgICB0aGlzLnN1Yl9pZCA9IHN1Yl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFBhY2thZ2VfaWQoKSB7XG4gICAgICAgIHJldHVybiBwYWNrYWdlX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhY2thZ2VfaWQoaW50IHBhY2thZ2VfaWQpIHtcbiAgICAgICAgdGhpcy5wYWNrYWdlX2lkID0gcGFja2FnZV9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlVGltZSBnZXREYXRlX3NpZ24oKSB7XG4gICAgICAgIHJldHVybiBkYXRlX3NpZ247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9zaWduKExvY2FsRGF0ZVRpbWUgZGF0ZV9zaWduKSB7XG4gICAgICAgIHRoaXMuZGF0ZV9zaWduID0gZGF0ZV9zaWduO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldERhdGVfZXhwaXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZXhwaXJhdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2V4cGlyYXRpb24oTG9jYWxEYXRlVGltZSBkYXRlX2V4cGlyYXRpb24pIHtcbiAgICAgICAgdGhpcy5kYXRlX2V4cGlyYXRpb24gPSBkYXRlX2V4cGlyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9CaWxsSGlzdG9yeS5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIEJpbGxIaXN0b3J5IHtcbiAgICBwcml2YXRlIGludCBiaWxsX2lkO1xuICAgIHByaXZhdGUgaW50IGNvbnRyYWN0X2lkO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlIGJpbGxpbmdfcGVyaW9kO1xuICAgIHByaXZhdGUgbG9uZyBhbW91bnQ7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZTtcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7ICAgXG5cbiAgICBwdWJsaWMgQmlsbEhpc3RvcnkoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIEJpbGxIaXN0b3J5KGludCBiaWxsX2lkLCBpbnQgY29udHJhY3RfaWQsIExvY2FsRGF0ZSBiaWxsaW5nX3BlcmlvZCwgbG9uZyBhbW91bnQsIExvY2FsRGF0ZVRpbWUgcGF5bWVudF9kYXRlLCBTdHJpbmcgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuYmlsbF9pZCA9IGJpbGxfaWQ7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICAgICAgdGhpcy5iaWxsaW5nX3BlcmlvZCA9IGJpbGxpbmdfcGVyaW9kO1xuICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgICAgICAgdGhpcy5wYXltZW50X2RhdGUgPSBwYXltZW50X2RhdGU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0QmlsbF9pZCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbGxfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QmlsbF9pZChpbnQgYmlsbF9pZCkge1xuICAgICAgICB0aGlzLmJpbGxfaWQgPSBiaWxsX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0Q29udHJhY3RfaWQoKSB7XG4gICAgICAgIHJldHVybiBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDb250cmFjdF9pZChpbnQgY29udHJhY3RfaWQpIHtcbiAgICAgICAgdGhpcy5jb250cmFjdF9pZCA9IGNvbnRyYWN0X2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGUgZ2V0QmlsbGluZ19wZXJpb2QoKSB7XG4gICAgICAgIHJldHVybiBiaWxsaW5nX3BlcmlvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRCaWxsaW5nX3BlcmlvZChMb2NhbERhdGUgYmlsbGluZ19wZXJpb2QpIHtcbiAgICAgICAgdGhpcy5iaWxsaW5nX3BlcmlvZCA9IGJpbGxpbmdfcGVyaW9kO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb25nIGdldEFtb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIGFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBbW91bnQobG9uZyBhbW91bnQpIHtcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0UGF5bWVudF9kYXRlKCkge1xuICAgICAgICByZXR1cm4gcGF5bWVudF9kYXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBheW1lbnRfZGF0ZShMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZSkge1xuICAgICAgICB0aGlzLnBheW1lbnRfZGF0ZSA9IHBheW1lbnRfZGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdGF0dXMoU3RyaW5nIHN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IG5icHJvamVjdC9jb25maWdzL1NpZ25VcC5wcm9wZXJ0aWVzXG5tYWluLmNsYXNzPWludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwXG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjNlNWRjMzdhLTE4OWYtNGZhNi1hNDliLTY3OTY3YTNjNTgxNjt0b29sdV8wMVlRQzZ2SjNHb2tTMmtFbXU5TEdVQXIiOnsicmVxdWVzdElkIjoiM2U1ZGMzN2EtMTg5Zi00ZmE2LWE0OWItNjc5NjdhM2M1ODE2IiwidG9vbFVzZUlkIjoidG9vbHVfMDFZUUM2dkozR29rUzJrRW11OUxHVUFyIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICBcdTAwMWJbPzkwMDFoXHUwMDFiWz8xMDA0aFx1MDAxYls/MjVsXHUwMDFiWzJKXHUwMDFiW21cdTAwMWJbSFxuXG5cblxuXG5cblxuXHUwMDFiW0hcdTAwMWJdMDtDOlxcV2luZG93c1xcU3lzdGVtMzJcXFdpbmRvd3NQb3dlclNoZWxsXFx2MS4wXFxwb3dlcnNoZWxsLmV4ZVx1MDAwN1x1MDAxYls/MjVoXHUwMDFiWzM4OzU7OW1teXNxbCA6IFRoZSB0ZXJtICdteXNxbCcgaXMgbm90IHJlY29nbml6ZWQgYXMgdGhlIG5hbWUgb2YgYSBjbWRsZXQsIGZ1bmN0aW9uLCBzY3JpcHQgZmlsZSwgb3Igb3BlcmFibGUgcHJvZ3JhbS4gQ2hlY2sgdGhlIHNwZWxsaW5nIG9mIHRoZSBuYW1lLCBvciBpZiBhIHBhdGggd2FzIGluY2x1ZGVkLCB2ZXJpZnkgXG50aGF0IHRoZSBwYXRoIGlzIGNvcnJlY3QgYW5kIHRyeSBhZ2Fpbi5cbkF0IGxpbmU6MSBjaGFyOjFcbisgbXlzcWwgLWggMTI1LjIxMi4yMzEuMTg0IC1QIDY5NjkgLXUgbWludG9yaTA5IC1wJ01pbnRvcnkwOUA5NicgLWUgXCJERSAuLi5cbisgfn5+fn5cbiAgICArIENhdGVnb3J5SW5mbyAgICAgICAgICA6IE9iamVjdE5vdEZvdW5kOiAobXlzcWw6U3RyaW5nKSBbXSwgQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgKyBGdWxseVF1YWxpZmllZEVycm9ySWQgOiBDb21tYW5kTm90Rm91bmRFeGNlcHRpb25cbiBcdTAwMWJbbVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZWYzN2ExN2MtMTgzOC00OTAxLWE4MmYtZmUyMmQyYTEwNDlmO3Rvb2x1XzAxNXFrQnhrZm9iamU2bWdzeVVpeFk3WCI6eyJyZXF1ZXN0SWQiOiJlZjM3YTE3Yy0xODM4LTQ5MDEtYTgyZi1mZTIyZDJhMTA0OWYiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTVxa0J4a2ZvYmplNm1nc3lVaXhZN1giLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhOlxuICAgICAxXHQvKlxuICAgICAyXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMVx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMlx0XG4gICAgMTNcdC8qKlxuICAgIDE0XHQgKlxuICAgIDE1XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE2XHQgKi9cbiAgICAxN1x0cHVibGljIGNsYXNzIFN1YnNjcmliZXJEQU97XG4gICAgMThcdFxuICAgIDE5XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgIDIwXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMjFcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAyMlx0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgIDIzXHQgICAgICAgIFxuICAgIDI0XHQgICAgICAgIHRyeSB7XG4gICAgMjVcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDI2XHQgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuICAgIDI3XHQgICAgICAgICAgICBcbiAgICAyOFx0ICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMjlcdCAgICAgICAgICAgIHBzVXNlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxVc2VyKTtcbiAgICAzMFx0ICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAzMVx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgMzJcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgIDMzXHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDM0XHQgICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDM1XHQgICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDM2XHQgICAgICAgICAgICBcbiAgICAzN1x0ICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMzhcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxTdWJzY3JpYmVyKTtcbiAgICAzOVx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBvYmouZ2V0U3Vic2NyaWJlcl9pZCgpKTtcbiAgICA0MFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgNDFcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgNDJcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgIDQzXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDUsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgIDQ0XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDQ1XHQgICAgICAgICAgICBcbiAgICA0Nlx0ICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICA0N1x0ICAgICAgICB9XG4gICAgNDhcdCAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNDlcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNTBcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XG4gICAgNTFcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgNTJcdCAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDUzXHQgICAgICAgICAgICB9XG4gICAgNTRcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTVcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICA1Nlx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA1N1x0ICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgNThcdCAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDYwXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgfVxuICAgIDY0XHQgICAgfVxuICAgIDY1XHRcbiAgICA2Nlx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA2N1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgIDcxXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDcyXHQgICAgfVxuICAgIDczXHRcbiAgICA3NFx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgIDc1XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDc2XHQgICAgfVxuICAgIDc3XHRcbiAgICA3OFx0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgNzlcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgODBcdCAgICB9XG4gICAgODFcdCAgICBcbiAgICA4Mlx0fVxuICAgIDgzXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDgzXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIzZjQ0MDNmMS05MzQ2LTQ2ODgtYjkyMS1jOTg0ZWFiNWUxMWQ7dG9vbHVfMDFUY2FYQmFDeTM3YWJQaERHNkJtcVZFIjp7InJlcXVlc3RJZCI6IjNmNDQwM2YxLTkzNDYtNDY4OC1iOTIxLWM5ODRlYWI1ZTExZCIsInRvb2xVc2VJZCI6InRvb2x1XzAxVGNhWEJhQ3kzN2FiUGhERzZCbXFWRSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmE6XG4gICAyNzBcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNzFcdCAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgMjcyXHQgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAyNzNcdCAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAyNzRcdCAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAyNzVcdCAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgIDI3Nlx0ICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAyNzdcdCAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAyNzhcdCAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgIDI3OVx0ICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgMjgwXHQgICAgICAgIGNsZWFyKCk7XG4gICAyODFcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI4Mlx0XG4gICAyODNcdCAgICBwcml2YXRlIHZvaWQgdHh0TmFtZUtleVJlbGVhc2VkKGphdmEuYXd0LmV2ZW50LktleUV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuICAgMjg0XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjg1XHQgICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG4gICAyODZcdCAgICB9Ly9HRU4tTEFTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgIDI4N1x0XG4gICAyODhcdCAgICBwcml2YXRlIHZvaWQgdHh0VXNlck5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHRVc2VyTmFtZUtleVJlbGVhc2VkXG4gICAyODlcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyOTBcdCAgICAgICAgdmFsaWRhdGVGaWVsZHMoKTtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM2NVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZWFiM2I4NWQtYTMwNS00M2Q0LWFhMzctMjQ1MmYxMzE4YzgxO3Rvb2x1XzAxSmtaZVR1djJSUEdQWDVaRldaRHl6bSI6eyJyZXF1ZXN0SWQiOiJlYWIzYjg1ZC1hMzA1LTQzZDQtYWEzNy0yNDUyZjEzMThjODEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUprWmVUdXYyUlBHUFg1WkZXWkR5em0iLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG4gICAgMTFcdGltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG4gICAgMTJcdGltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XG4gICAgMTNcdGltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG4gICAgMTRcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxNVx0XG4gICAgMTZcdC8qKlxuICAgIDE3XHQgKlxuICAgIDE4XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDE4XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE5XHQgKi9cbiAgICAyMFx0cHVibGljIGNsYXNzIFN1YnNjcmliZXJEQU97XG4gICAgMjFcdFxuICAgIDIyXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgIDIzXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMjRcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAyNVx0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgIDI2XHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgICAgIHRyeSB7XG4gICAgMjlcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDMwXHQgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuICAgIDMxXHRcbiAgICAzMlx0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgdXNlcl9pZFxuICAgIDMzXHQgICAgICAgICAgICBpbnQgdXNlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAzNFx0ICAgICAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIHN1YnNjcmliZXJfaWRcbiAgICAzN1x0ICAgICAgICAgICAgaW50IHN1YnNjcmliZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFwiU1VCU0NSSUJFUlwiLCBcInN1YnNjcmliZXJfaWRcIik7XG4gICAgMzhcdCAgICAgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG4gICAgMzlcdFxuICAgIDQwXHQgICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0XG4gICAgNDFcdCAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDQyXHQgICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XG4gICAgNDNcdCAgICAgICAgICAgIHBzVXNlci5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICA0NFx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgNDVcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgIDQ2XHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDQ3XHQgICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDQ4XHQgICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDQ5XHRcbiAgICA1MFx0ICAgICAgICAgICAgLy8gVGhlbiBpbnNlcnQgaW50byBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggdGhlIHNhbWUgdXNlcl9pZFxuICAgIDUxXHQgICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFwiSU5TRVJUIElOVE8gU1VCU0NSSUJFUiAoc3Vic2NyaWJlcl9pZCwgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA1Mlx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xuICAgIDUzXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XG4gICAgNTRcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgIDU1XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgIDU2XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA1N1x0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCB1c2VySWQpOyAvLyBVc2UgdGhlIHNhbWUgdXNlcl9pZFxuICAgIDU4XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICA2MVx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICA2Mlx0ICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNjRcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNjVcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XG4gICAgNjZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgNjdcdCAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDY4XHQgICAgICAgICAgICB9XG4gICAgNjlcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZS5nZXRNZXNzYWdlKCksIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNzBcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzFcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICA3Mlx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA3M1x0ICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgIDc0XHQgICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcbiAgICA3NVx0ICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XG4gICAgNzZcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgNzdcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgIDc4XHQgICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzlcdCAgICAgICAgICAgIH1cbiAgICA4MFx0ICAgICAgICB9XG4gICAgODFcdCAgICB9XG4gICAgODJcdFxuICAgIDgzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDg0XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlZjYyOTE5Zi00YmMwLTQ0OGUtOWY3Zi0wYWMzZGY4NTZlOWM7dG9vbHVfMDFXWnY1Ykx3Q1ZkZTJ3V01GaWpiSGF6Ijp7InJlcXVlc3RJZCI6ImVmNjI5MTlmLTRiYzAtNDQ4ZS05ZjdmLTBhYzNkZjg1NmU5YyIsInRvb2xVc2VJZCI6InRvb2x1XzAxV1p2NWJMd0NWZGUyd1dNRmlqYkhheiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDkxXHQgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgOTJcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgOTNcdCAgICB9XG4gICAgOTRcdFxuICAgIDk1XHQgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICA5Nlx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA5N1x0ICAgIH1cbiAgICA5OFx0XG4gICAgOTlcdCAgICAvKipcbiAgIDEwMFx0ICAgICAqIEdlbmVyYXRlIHRoZSBuZXh0IGF2YWlsYWJsZSBJRCBmb3IgYSB0YWJsZVxuICAgMTAxXHQgICAgICogQHBhcmFtIGNvbm4gRGF0YWJhc2UgY29ubmVjdGlvblxuICAgMTAyXHQgICAgICogQHBhcmFtIHRhYmxlTmFtZSBOYW1lIG9mIHRoZSB0YWJsZVxuICAgMTAzXHQgICAgICogQHBhcmFtIGlkQ29sdW1uTmFtZSBOYW1lIG9mIHRoZSBJRCBjb2x1bW5cbiAgIDEwNFx0ICAgICAqIEByZXR1cm4gTmV4dCBhdmFpbGFibGUgSURcbiAgIDEwNVx0ICAgICAqIEB0aHJvd3MgRXhjZXB0aW9uIElmIGFuIGVycm9yIG9jY3Vyc1xuICAgMTA2XHQgICAgICovXG4gICAxMDdcdCAgICBwcml2YXRlIHN0YXRpYyBpbnQgZ2VuZXJhdGVOZXh0SWQoQ29ubmVjdGlvbiBjb25uLCBTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgIDEwOFx0ICAgICAgICBpbnQgbmV4dElkID0gMTsgLy8gRGVmYXVsdCBzdGFydGluZyBJRFxuICAgMTA5XHQgICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcbiAgIDExMFx0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgMTExXHRcbiAgIDExMlx0ICAgICAgICB0cnkge1xuICAgMTEzXHQgICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgIDExNFx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgTUFYKFwiICsgaWRDb2x1bW5OYW1lICsgXCIpIEFTIG1heF9pZCBGUk9NIFwiICsgdGFibGVOYW1lO1xuICAgMTE1XHQgICAgICAgICAgICBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcbiAgIDExNlx0XG4gICAxMTdcdCAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgIDExOFx0ICAgICAgICAgICAgICAgIGludCBtYXhJZCA9IHJzLmdldEludChcIm1heF9pZFwiKTtcbiAgIDExOVx0ICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcbiAgIDEyMFx0ICAgICAgICAgICAgfVxuICAgMTIxXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAxMjJcdCAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgMTIzXHQgICAgICAgICAgICBpZiAoc3RtdCAhPSBudWxsKSBzdG10LmNsb3NlKCk7XG4gICAxMjRcdCAgICAgICAgfVxuICAgMTI1XHRcbiAgIDEyNlx0ICAgICAgICByZXR1cm4gbmV4dElkO1xuICAgMTI3XHQgICAgfVxuICAgMTI4XHR9XG4gICAxMjlcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJjZWRkMjliNC1jY2ZjLTRhYTYtOTA4My0yZjQxMGI3YWFlMmY7dG9vbHVfMDFUSDl2M3dTbTlENnZIOThkZzQ4N2dWIjp7InJlcXVlc3RJZCI6ImNlZGQyOWI0LWNjZmMtNGFhNi05MDgzLTJmNDEwYjdhYWUyZiIsInRvb2xVc2VJZCI6InRvb2x1XzAxVEg5djN3U205RDZ2SDk4ZGc0ODdnViIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDMxXHQgICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAzMlx0ICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgIDMzXHQgICAgfVxuICAgIDM0XHRcbiAgICAzNVx0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgMzZcdCAgICAgICAgU3RyaW5nIG5hbWUgPSB0eHROYW1lLmdldFRleHQoKTtcbiAgICAzN1x0ICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgMzhcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgIDM5XHQgICAgICAgIFN0cmluZyBhZGRyZXNzID0gdHh0QWRkcmVzcy5nZXRUZXh0KCk7XG4gICAgNDBcdCAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgIDQxXHRcbiAgICA0Mlx0ICAgICAgICBpZihuYW1lLmlzRW1wdHkoKSB8fCB1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpIHx8IGFkZHJlc3MuaXNFbXB0eSgpIHx8IHBob25lLmlzRW1wdHkoKSl7XG4gICAgNDNcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDRcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0NVx0ICAgICAgICB9XG4gICAgNDZcdCAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNDdcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDhcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0OVx0ICAgICAgICB9XG4gICAgNTBcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTFcdCAgICB9XG4gICAgNTJcdCAgICB9XG4gICAgNTNcdFxuICAgIDU0XHQgICAgLyoqXG4gICAgNTVcdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyNjZcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNjdcdFxuICAgMjY4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuUmV0dXJuQWN0aW9uUGVyZm9ybWVkXG4gICAyNjlcdFxuICAgMjcwXHQgICAgcHJpdmF0ZSB2b2lkIGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI3MVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI3Mlx0ICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSkge1xuICAgMjczXHQgICAgICAgICAgICB0cnkge1xuICAgMjc0XHQgICAgICAgICAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgMjc1XHQgICAgICAgICAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3Nlx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgMjc3XHQgICAgICAgICAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAyNzhcdCAgICAgICAgICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgMjc5XHQgICAgICAgICAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgMjgwXHQgICAgICAgICAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAyODFcdCAgICAgICAgICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgMjgyXHQgICAgICAgICAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgIDI4M1x0ICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAyODRcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgMjg1XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJM4buXaTogXCIgKyBleC5nZXRNZXNzYWdlKCksIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyODZcdCAgICAgICAgICAgIH1cbiAgIDI4N1x0ICAgICAgICB9XG4gICAyODhcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI4OVx0XG4gICAyOTBcdCAgICBwcml2YXRlIHZvaWQgdHh0TmFtZUtleVJlbGVhc2VkKGphdmEuYXd0LmV2ZW50LktleUV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuICAgMjkxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjkyXHQgICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImNkM2FjN2Q5LTZmNTItNGVlNS05YmUwLTQxYWM5NTQ5YWFkZTt0b29sdV8wMTRwYnhYdllvVlVDRVlIbmRqdmlUTUQiOnsicmVxdWVzdElkIjoiY2QzYWM3ZDktNmY1Mi00ZWU1LTliZTAtNDFhYzk1NDlhYWRlIiwidG9vbFVzZUlkIjoidG9vbHVfMDE0cGJ4WHZZb1ZVQ0VZSG5kanZpVE1EIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNDZcdCAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNDdcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDhcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0OVx0ICAgICAgICB9XG4gICAgNTBcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTFcdCAgICB9XG4gICAgNTJcdFxuICAgIDUzXHQgICAgLyoqXG4gICAgNTRcdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgNTVcdCAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjQ0MTU1ZmQ3LWJjZjAtNGY1NC1iMzZhLTIzZjM1ZTg5NjRmNjt0b29sdV8wMUh1bWtxUTQ5azluR3NueE1KTDF2V1UiOnsicmVxdWVzdElkIjoiNDQxNTVmZDctYmNmMC00ZjU0LWIzNmEtMjNmMzVlODk2NGY2IiwidG9vbFVzZUlkIjoidG9vbHVfMDFIdW1rcVE0OWs5bkdzbnhNSkwxdldVIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0cGFja2FnZSBEQU87XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAgNFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgICA1XHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgICA2XHRpbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuICAgICA3XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgIDhcdFxuICAgICA5XHRwdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICAxMFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXREYXRhT3JEZWxldGUoU3RyaW5nIHF1ZXJ5LCBTdHJpbmcgbXNnKSB7XG4gICAgMTFcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNVx0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAgNlx0aW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbiAgICAgN1x0aW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuICAgICA4XHRcbiAgICAgOVx0cHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgMTBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgIDExXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMTJcdCAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAxM1x0ICAgICAgICB0cnkge1xuICAgIDE0XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAxNVx0ICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgIDE2XHQgICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAxN1x0XG4gICAgMThcdCAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgMTlcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAyMFx0ICAgICAgICAgICAgfVxuICAgIDIxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgIDIyXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDIzXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgMjRcdCAgICAgICAgICAgIHRyeSB7XG4gICAgMjVcdCAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAyNlx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAyN1x0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyOFx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjlcdCAgICAgICAgICAgIH1cbiAgICAzMFx0ICAgICAgICB9XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgLyoqXG4gICAgMzRcdCAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcbiAgICAzNVx0ICAgICAqIEBwYXJhbSB0YWJsZU5hbWUgTmFtZSBvZiB0aGUgdGFibGVcbiAgICAzNlx0ICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXG4gICAgMzdcdCAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXG4gICAgMzhcdCAgICAgKi9cbiAgICAzOVx0ICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldE5leHRJZChTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB7XG4gICAgNDBcdCAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcbiAgICA0MVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDQyXHQgICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcbiAgICA0M1x0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgIDQ0XHRcbiAgICA0NVx0ICAgICAgICB0cnkge1xuICAgIDQ2XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA0N1x0ICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgNDhcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgICA0OVx0ICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAgNTBcdFxuICAgIDUxXHQgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgNTJcdCAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAgNTNcdCAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XG4gICAgNTRcdCAgICAgICAgICAgIH1cbiAgICA1NVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDU2XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBlLCBcIkVycm9yXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDU3XHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgNThcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNTlcdCAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICA2Mlx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA2M1x0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjRcdCAgICAgICAgICAgIH1cbiAgICA2NVx0ICAgICAgICB9XG4gICAgNjZcdFxuICAgIDY3XHQgICAgICAgIHJldHVybiBuZXh0SWQ7XG4gICAgNjhcdCAgICB9XG4gICAgNjlcdFxuICAgIDcwXHQgICAgLyoqXG4gICAgNzFcdCAgICAgKiBFeGVjdXRlIGEgdHJhbnNhY3Rpb24gd2l0aCBtdWx0aXBsZSBTUUwgb3BlcmF0aW9uc1xuICAgIDcyXHQgICAgICogQHBhcmFtIG9wZXJhdGlvbnMgQXJyYXkgb2YgU1FMIG9wZXJhdGlvbnMgdG8gZXhlY3V0ZVxuICAgIDczXHQgICAgICogQHBhcmFtIHN1Y2Nlc3NNc2cgTWVzc2FnZSB0byBkaXNwbGF5IG9uIHN1Y2Nlc3NcbiAgICA3NFx0ICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0cmFuc2FjdGlvbiB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgNzVcdCAgICAgKi9cbiAgICA3Nlx0ICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBleGVjdXRlVHJhbnNhY3Rpb24oU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucywgU3RyaW5nIHN1Y2Nlc3NNc2cpIHtcbiAgICA3N1x0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDc4XHQgICAgICAgIGJvb2xlYW4gc3VjY2VzcyA9IGZhbHNlO1xuICAgIDc5XHRcbiAgICA4MFx0ICAgICAgICB0cnkge1xuICAgIDgxXHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA4Mlx0ICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgICAgIC8vIEV4ZWN1dGUgYWxsIG9wZXJhdGlvbnNcbiAgICA4NVx0ICAgICAgICAgICAgZm9yIChTcWxPcGVyYXRpb24gb3BlcmF0aW9uIDogb3BlcmF0aW9ucykge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQob3BlcmF0aW9uLmdldFNxbCgpKTtcbiAgICA4N1x0ICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5zZXRQYXJhbWV0ZXJzKHBzKTtcbiAgICA4OFx0ICAgICAgICAgICAgICAgIHBzLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA4OVx0ICAgICAgICAgICAgICAgIHBzLmNsb3NlKCk7XG4gICAgOTBcdCAgICAgICAgICAgIH1cbiAgICA5MVx0XG4gICAgOTJcdCAgICAgICAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxuICAgIDkzXHQgICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xuICAgIDk0XHQgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICA5NVx0XG4gICAgOTZcdCAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIGlmIHByb3ZpZGVkXG4gICAgOTdcdCAgICAgICAgICAgIGlmIChzdWNjZXNzTXNnICE9IG51bGwgJiYgIXN1Y2Nlc3NNc2cuaXNFbXB0eSgpKSB7XG4gICAgOThcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBzdWNjZXNzTXNnLCBcIlN1Y2Nlc3NcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgOTlcdCAgICAgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTAxXHQgICAgICAgICAgICAvLyBSb2xsYmFjayB0cmFuc2FjdGlvbiBvbiBlcnJvclxuICAgMTAyXHQgICAgICAgICAgICB0cnkge1xuICAgMTAzXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgMTA0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xuICAgMTA1XHQgICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDEwNlx0ICAgICAgICAgICAgfVxuICAgMTA3XHRcbiAgIDEwOFx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJFcnJvcjogXCIgKyBlLmdldE1lc3NhZ2UoKSwgXCJFcnJvclwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDEwOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExMFx0ICAgICAgICB9IGZpbmFsbHkge1xuICAgMTExXHQgICAgICAgICAgICB0cnkge1xuICAgMTEyXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkge1xuICAgMTEzXHQgICAgICAgICAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdCh0cnVlKTtcbiAgIDExNFx0ICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7XG4gICAxMTVcdCAgICAgICAgICAgICAgICB9XG4gICAxMTZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxMTdcdCAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTE4XHQgICAgICAgICAgICB9XG4gICAxMTlcdCAgICAgICAgfVxuICAgMTIwXHRcbiAgIDEyMVx0ICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgIDEyMlx0ICAgIH1cbiAgIDEyM1x0XG4gICAxMjRcdCAgICAvKipcbiAgIDEyNVx0ICAgICAqIEludGVyZmFjZSBmb3IgU1FMIG9wZXJhdGlvbnMgd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnRzXG4gICAxMjZcdCAgICAgKi9cbiAgIDEyN1x0ICAgIHB1YmxpYyBpbnRlcmZhY2UgU3FsT3BlcmF0aW9uIHtcbiAgIDEyOFx0ICAgICAgICBTdHJpbmcgZ2V0U3FsKCk7XG4gICAxMjlcdCAgICAgICAgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uO1xuICAgMTMwXHQgICAgfVxuICAgMTMxXHR9XG4gICAxMzJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJjYWI3MWVmOC1mZTJkLTQ4MTYtOTM4Mi0wN2I3N2YwMjlkOWM7dG9vbHVfMDFZRmVWd0oxTVlaQk0xQnhIWURNYVNVIjp7InJlcXVlc3RJZCI6ImNhYjcxZWY4LWZlMmQtNDgxNi05MzgyLTA3Yjc3ZjAyOWQ5YyIsInRvb2xVc2VJZCI6InRvb2x1XzAxWUZlVndKMU1ZWkJNMUJ4SFlETWFTVSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDExXHRpbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG4gICAgMTJcdFxuICAgIDEzXHQvKipcbiAgICAxNFx0ICpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNlx0ICovXG4gICAgMTdcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAyMFx0ICAgICAgICAvLyBHZW5lcmF0ZSB1c2VyX2lkIGFuZCBzdWJzY3JpYmVyX2lkXG4gICAgMjFcdCAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAyMlx0ICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuICAgIDIzXHRcbiAgICAyNFx0ICAgICAgICAvLyBTZXQgdGhlIGdlbmVyYXRlZCBJRHNcbiAgICAyNVx0ICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgIDI2XHQgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgICAgIC8vIENyZWF0ZSBTUUwgb3BlcmF0aW9ucyBmb3IgdGhlIHRyYW5zYWN0aW9uXG4gICAgMjlcdCAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgMzBcdCAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIFVTRVIgdGFibGVcbiAgICAzMVx0ICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAzMlx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDMzXHQgICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgMzRcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICAzNVx0ICAgICAgICAgICAgICAgIH1cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAzOFx0ICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIDM5XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgIDQwXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICA0Mlx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgNDNcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDQ0XHQgICAgICAgICAgICAgICAgfVxuICAgIDQ1XHQgICAgICAgICAgICB9LFxuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZVxuICAgIDQ4XHQgICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgIDQ5XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgNTBcdCAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICA1MVx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDUyXHQgICAgICAgICAgICAgICAgfVxuICAgIDUzXHRcbiAgICA1NFx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDU1XHQgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgNTZcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XG4gICAgNTdcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA1OFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgNTlcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIH1cbiAgICA2Mlx0ICAgICAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIH07XG4gICAgNjRcdFxuICAgIDY1XHQgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHRyYW5zYWN0aW9uXG4gICAgNjZcdCAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICA2N1x0ICAgIH1cbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgNzFcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzJdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgODJcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDgzXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDg0XHQgICAgfVxuICAgIDg1XHRcbiAgICA4Nlx0XG4gICAgODdcdH1cbiAgICA4OFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQxOGFhNTkwLWRhMzQtNGNmZS1hMDI5LTU2MjBhNDRlOThkMTt0b29sdV8wMTc2d3lYelNoOFZOTHBtMkpoUEExUkMiOnsicmVxdWVzdElkIjoiZDE4YWE1OTAtZGEzNC00Y2ZlLWEwMjktNTYyMGE0NGU5OGQxIiwidG9vbFVzZUlkIjoidG9vbHVfMDE3Nnd5WHpTaDhWTkxwbTJKaFBBMVJDIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNjFcdCAgICAgICAgICAgICAgICB9XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICB9O1xuICAgIDY0XHRcbiAgICA2NVx0ICAgICAgICAvLyBFeGVjdXRlIHRoZSB0cmFuc2FjdGlvblxuICAgIDY2XHQgICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIik7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDcwXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDcxXHQgICAgfVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RhdHVzIjoiZHJhZnQifSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNBZ2VudE9uYm9hcmRlZCI6dHJ1ZSwiaGFzRGlydHlFZGl0cyI6dHJ1ZSwiYmFzZWxpbmVUaW1lc3RhbXAiOjE3NDcwOTkwNzE4MDB9LCJwZXJzb25hVHlwZSI6MCwiZHJhZnRBY3RpdmVDb250ZXh0SWRzIjpbIkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbS9zcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YSIsIkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbWZhbHNlZmFsc2UiLCJ1c2VyR3VpZGVsaW5lcyIsImFnZW50TWVtb3JpZXMiXX0sIjlkODI3NzI2LWQyNjMtNGRiMy1hNmZjLTZhOGFlNDMzOGExMSI6eyJpZCI6IjlkODI3NzI2LWQyNjMtNGRiMy1hNmZjLTZhOGFlNDMzOGExMSIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDUtMTNUMDE6MTg6MDcuMjU2WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA1LTEzVDAxOjU0OjQ0LjMzNVoiLCJjaGF0SGlzdG9yeSI6W3sicmVxdWVzdF9pZCI6ImIyYjI1ZjcyLWZkMDktNDhmMi05YmNiLTljYWQ4ZTU3MTEwMCIsInV1aWQiOiI2ZTI4MDYyMC00ZjQxLTQzZjQtYmM3Ni1jNDE0YzllNmUzZGMiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ3MDk5MDg3MjU4LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkNjE4NWYyOS0wNzg0LTQzNDAtYmJhYi1jZjBlMDdlNzE1ZmEiLCJyZXF1ZXN0X21lc3NhZ2UiOiJXcml0ZSBldmVudCBoYW5kbGluZyBmdW5jdGlvbiBpbiBGb3Jnb3RQYXNzd29yZDogTWFrZSBwb3B1cCwgbW9kYWwsIHNlYXJjaCBmb3IgcGhvbmUgbnVtYmVyLCBvbmx5IGFsbG93IG5ldyBwYXNzd29yZCBlbnRyeSBhbmQgcGFzc3dvcmQgY29uZmlybWF0aW9uIGFmdGVyIGNvcnJlY3QiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiV3JpdGUgZXZlbnQgaGFuZGxpbmcgZnVuY3Rpb24gaW4gRm9yZ290UGFzc3dvcmQ6IE1ha2UgcG9wdXAsIG1vZGFsLCBzZWFyY2ggZm9yIHBob25lIG51bWJlciwgb25seSBhbGxvdyBuZXcgcGFzc3dvcmQgZW50cnkgYW5kIHBhc3N3b3JkIGNvbmZpcm1hdGlvbiBhZnRlciBjb3JyZWN0In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSmJUY3gxYkFVcDFrS2NMN01SV1c1TCIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCB0aGUgRm9yZ290UGFzc3dvcmQgY2xhc3Mgb3IgZmlsZS4gSSBuZWVkIHRvIHNlZSBpdHMgY3VycmVudCBzdHJ1Y3R1cmUsIG1ldGhvZHMsIGFuZCBVSSBjb21wb25lbnRzLlwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IHRoZSBldmVudCBoYW5kbGluZyBmdW5jdGlvbiBmb3IgdGhlIEZvcmdvdFBhc3N3b3JkIGZlYXR1cmUuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV4aXN0aW5nIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZSBhbmQgcmVxdWlyZW1lbnRzIGJldHRlci5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiV3JpdGUgZXZlbnQgaGFuZGxpbmcgZnVuY3Rpb24gaW4gRm9yZ290UGFzc3dvcmQ6IE1ha2UgcG9wdXAsIG1vZGFsLCBzZWFyY2ggZm9yIHBob25lIG51bWJlciwgb25seSBhbGxvdyBuZXcgcGFzc3dvcmQgZW50cnkgYW5kIHBhc3N3b3JkIGNvbmZpcm1hdGlvbiBhZnRlciBjb3JyZWN0In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MTk6MzEuMjUxWiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGltcGxlbWVudCB0aGUgZXZlbnQgaGFuZGxpbmcgZnVuY3Rpb24gZm9yIHRoZSBGb3Jnb3RQYXNzd29yZCBmZWF0dXJlLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlYmFzZSB0byB1bmRlcnN0YW5kIHRoZSBzdHJ1Y3R1cmUgYW5kIHJlcXVpcmVtZW50cyBiZXR0ZXIuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYTdlZThlZDUtMmM1MC00OTVjLWI5OWMtMTIyNWU5YWY4YTEzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMTlBM1REQjZnYUJWQTJnaTNvSGlxUEsiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgYW55IGRhdGFiYXNlIGNvbm5lY3Rpb24gb3IgdXNlciBtYW5hZ2VtZW50IGNsYXNzZXMgdGhhdCB3b3VsZCBoYW5kbGUgdXNlciBkYXRhLCBlc3BlY2lhbGx5IGNoZWNraW5nIHBob25lIG51bWJlcnMgYW5kIHVwZGF0aW5nIHBhc3N3b3Jkcy5cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBuZWVkIHRvIHVuZGVyc3RhbmQgaG93IHRoZSB1c2VyIGRhdGEgaXMgc3RvcmVkIGFuZCBob3cgdG8gY2hlY2sgaWYgYSBwaG9uZSBudW1iZXIgZXhpc3RzIGluIHRoZSBzeXN0ZW0uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgRm9yZ290UGFzc3dvcmQgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcbiAgICAgKi9cbiAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgICAgIFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICBcbiAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuICAgICAqIFdBUk5JTkc6IERvIE5PVCBtb2RpZnkgdGhpcyBjb2RlLiBUaGUgY29udGVudCBvZiB0aGlzIG1ldGhvZCBpcyBhbHdheXNcbiAgICAgKiByZWdlbmVyYXRlZCBieSB0aGUgRm9ybSBFZGl0b3IuXG4gICAgICovXG4gICAgQFN1cHByZXNzV2FybmluZ3MoXCJ1bmNoZWNrZWRcIilcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVmYXVsdHN0YXRlPVwiY29sbGFwc2VkXCIgZGVzYz1cIkdlbmVyYXRlZCBDb2RlXCI+Ly9HRU4tQkVHSU46aW5pdENvbXBvbmVudHNcbiAgICBwcml2YXRlIHZvaWQgaW5pdENvbXBvbmVudHMoKSB7XG5cbiAgICAgICAgakxhYmVsMSA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgakxhYmVsMiA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpTZXBhcmF0b3IxID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbiAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICBidG5DaGVjayA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIHR4dFBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5FeGl0ID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcblxuICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDM2KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAgICAgIGpMYWJlbDEuc2V0VGV4dChcIsSQ4buUSSBN4bqsVCBLSOG6qFVcIik7XG5cbiAgICAgICAgakxhYmVsMi5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDIuc2V0VGV4dChcIlPhu5EgxJFp4buHbiB0aG/huqFpOiBcIik7XG5cbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VGV4dChcIk3huq10IGto4bqpdSBt4bubaTpcIik7XG5cbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRUZXh0KFwiWMOhYyBuaOG6rW4gbeG6rXQga2jhuql1OlwiKTtcblxuICAgICAgICBidG5DaGVjay5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoZWNrLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9zZWFyY2gucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGVjay5zZXRUZXh0KFwiS2nhu4NtIHRyYVwiKTtcbiAgICAgICAgYnRuQ2hlY2suc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuQ2hhbmdlLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoYW5nZS5zZXRUZXh0KFwixJDhu5VpIG3huq10IGto4bqpdVwiKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuXG4gICAgICAgIGJ0bkV4aXQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5FeGl0LnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9sb2dvdXQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5FeGl0LnNldFRleHQoXCJUaG/DoXRcIik7XG4gICAgICAgIGJ0bkV4aXQuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQgbGF5b3V0ID0gbmV3IGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0KGdldENvbnRlbnRQYW5lKCkpO1xuICAgICAgICBnZXRDb250ZW50UGFuZSgpLnNldExheW91dChsYXlvdXQpO1xuICAgICAgICBsYXlvdXQuc2V0SG9yaXpvbnRhbEdyb3VwKFxuICAgICAgICAgICAgbGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDExMCwgMTEwLCAxMTApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDEpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpTZXBhcmF0b3IxLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzcwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNTYsIDU2LCA1NilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGhvbmUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChsYk5ld1Bhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg1NywgNTcsIDU3KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgxMDIsIDEwMiwgMTAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkNoZWNrKSkpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LlRSQUlMSU5HLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYwLCA2MCwgNjApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5FeGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRHYXAoamF2YXguc3dpbmcuTGF5b3V0U3R5bGUuQ29tcG9uZW50UGxhY2VtZW50LlJFTEFURUQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgU2hvcnQuTUFYX1ZBTFVFKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChsYkNvbmZpcm1QYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMTEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoNjksIDY5LCA2OSkpXG4gICAgICAgICk7XG4gICAgICAgIGxheW91dC5zZXRWZXJ0aWNhbEdyb3VwKFxuICAgICAgICAgICAgbGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgLmFkZEdhcCg0MCwgNDAsIDQwKVxuICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDE0LCAxNCwgMTQpXG4gICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDEwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDIpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBob25lLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChsYk5ld1Bhc3N3b3JkKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMiwgMiwgMilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2ssIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDgsIDgsIDgpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDMwLCAzMCwgMzApXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5CQVNFTElORSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5FeGl0LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkNoYW5nZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpKVxuICAgICAgICApO1xuXG4gICAgICAgIHBhY2soKTtcbiAgICB9Ly8gPC9lZGl0b3ItZm9sZD4vL0dFTi1FTkQ6aW5pdENvbXBvbmVudHNcblxuICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuICAgIFxuICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgICAgICAgICAgIFN5c3RlbS5leGl0KDApO1xuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFyZ3MgdGhlIGNvbW1hbmQgbGluZSBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XG4gICAgICAgIC8qIFNldCB0aGUgTmltYnVzIGxvb2sgYW5kIGZlZWwgKi9cbiAgICAgICAgLy88ZWRpdG9yLWZvbGQgZGVmYXVsdHN0YXRlPVwiY29sbGFwc2VkXCIgZGVzYz1cIiBMb29rIGFuZCBmZWVsIHNldHRpbmcgY29kZSAob3B0aW9uYWwpIFwiPlxuICAgICAgICAvKiBJZiBOaW1idXMgKGludHJvZHVjZWQgaW4gSmF2YSBTRSA2KSBpcyBub3QgYXZhaWxhYmxlLCBzdGF5IHdpdGggdGhlIGRlZmF1bHQgbG9vayBhbmQgZmVlbC5cbiAgICAgICAgICogRm9yIGRldGFpbHMgc2VlIGh0dHA6Ly9kb3dubG9hZC5vcmFjbGUuY29tL2phdmFzZS90dXRvcmlhbC91aXN3aW5nL2xvb2thbmRmZWVsL3BsYWYuaHRtbCBcbiAgICAgICAgICovXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGphdmF4LnN3aW5nLlVJTWFuYWdlci5Mb29rQW5kRmVlbEluZm8gaW5mbyA6IGphdmF4LnN3aW5nLlVJTWFuYWdlci5nZXRJbnN0YWxsZWRMb29rQW5kRmVlbHMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChcIk5pbWJ1c1wiLmVxdWFscyhpbmZvLmdldE5hbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgamF2YXguc3dpbmcuVUlNYW5hZ2VyLnNldExvb2tBbmRGZWVsKGluZm8uZ2V0Q2xhc3NOYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAgICAgIH0gY2F0Y2ggKEluc3RhbnRpYXRpb25FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBY2Nlc3NFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAgICAgIH0gY2F0Y2ggKGphdmF4LnN3aW5nLlVuc3VwcG9ydGVkTG9va0FuZEZlZWxFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAgICAgIH1cbiAgICAgICAgLy88L2VkaXRvci1mb2xkPlxuXG4gICAgICAgIC8qIENyZWF0ZSBhbmQgZGlzcGxheSB0aGUgZm9ybSAqL1xuICAgICAgICBqYXZhLmF3dC5FdmVudFF1ZXVlLmludm9rZUxhdGVyKG5ldyBSdW5uYWJsZSgpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiAgICAgICAgICAgICAgICBuZXcgRm9yZ290UGFzc3dvcmQoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWYXJpYWJsZXMgZGVjbGFyYXRpb24gLSBkbyBub3QgbW9kaWZ5Ly9HRU4tQkVHSU46dmFyaWFibGVzXG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoYW5nZTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hlY2s7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkV4aXQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwyO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBsYkNvbmZpcm1QYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBsYk5ld1Bhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0Q29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KVGV4dEZpZWxkIHR4dFBob25lO1xuICAgIC8vIEVuZCBvZiB2YXJpYWJsZXMgZGVjbGFyYXRpb24vL0dFTi1FTkQ6dmFyaWFibGVzXG59XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmZvcm1cbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgPz5cblxuPEZvcm0gdmVyc2lvbj1cIjEuM1wiIG1heFZlcnNpb249XCIxLjlcIiB0eXBlPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5mb3JtaW5mby5KRnJhbWVGb3JtSW5mb1wiPlxuICA8UHJvcGVydGllcz5cbiAgICA8UHJvcGVydHkgbmFtZT1cImRlZmF1bHRDbG9zZU9wZXJhdGlvblwiIHR5cGU9XCJpbnRcIiB2YWx1ZT1cIjNcIi8+XG4gIDwvUHJvcGVydGllcz5cbiAgPFN5bnRoZXRpY1Byb3BlcnRpZXM+XG4gICAgPFN5bnRoZXRpY1Byb3BlcnR5IG5hbWU9XCJmb3JtU2l6ZVBvbGljeVwiIHR5cGU9XCJpbnRcIiB2YWx1ZT1cIjFcIi8+XG4gICAgPFN5bnRoZXRpY1Byb3BlcnR5IG5hbWU9XCJnZW5lcmF0ZUNlbnRlclwiIHR5cGU9XCJib29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgPC9TeW50aGV0aWNQcm9wZXJ0aWVzPlxuICA8QXV4VmFsdWVzPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2F1dG9SZXNvdXJjaW5nXCIgdHlwZT1cImphdmEubGFuZy5JbnRlZ2VyXCIgdmFsdWU9XCIwXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2F1dG9TZXRDb21wb25lbnROYW1lXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19nZW5lcmF0ZUZRTlwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwidHJ1ZVwiLz5cbiAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19nZW5lcmF0ZU1uZW1vbmljc0NvZGVcIiB0eXBlPVwiamF2YS5sYW5nLkJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuLi4uXG5cbiAgPExheW91dD5cbiAgICA8RGltZW5zaW9uTGF5b3V0IGRpbT1cIjBcIj5cbiAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIwXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIwXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMTBcIiBwcmVmPVwiMTEwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiakxhYmVsMVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqU2VwYXJhdG9yMVwiIG1pbj1cIi0yXCIgcHJlZj1cIjM3MFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjYxXCIgcHJlZj1cIjYxXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiakxhYmVsMlwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI1NlwiIHByZWY9XCI1NlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkV4aXRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1heD1cIjMyNzY3XCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5DaGFuZ2VcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjYxXCIgcHJlZj1cIjYxXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImxiQ29uZmlybVBhc3N3b3JkXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxOFwiIHByZWY9XCIxOFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIHByZWY9XCIyMTFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCItMlwiIHByZWY9XCI2OVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgPC9Hcm91cD5cbiAgICAgIDwvR3JvdXA+XG4gICAgPC9EaW1lbnNpb25MYXlvdXQ+XG4gICAgPERpbWVuc2lvbkxheW91dCBkaW09XCIxXCI+XG4gICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI0MFwiIHByZWY9XCI0MFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4uLi5cbiAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjNcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkV4aXRcIiBhbGlnbm1lbnQ9XCIzXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoYW5nZVwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgPC9Hcm91cD5cbiAgICAgIDwvR3JvdXA+XG4gICAgPC9EaW1lbnNpb25MYXlvdXQ+XG4gIDwvTGF5b3V0PlxuICA8U3ViQ29tcG9uZW50cz5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImpMYWJlbDFcIj5cbiAgICAgIDxQcm9wZXJ0aWVzPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMzZcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9yZWdyb3VuZFwiIHR5cGU9XCJqYXZhLmF3dC5Db2xvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkNvbG9yRWRpdG9yXCI+XG4gICAgICAgICAgPENvbG9yIGJsdWU9XCIwXCIgZ3JlZW49XCJhMlwiIGlkPVwiQWN0aW9ucy5ZZWxsb3dcIiBwYWxldHRlPVwiM1wiIHJlZD1cImVkXCIgdHlwZT1cInBhbGV0dGVcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4uLi5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIk0mI3gxZWFkO3Qga2gmI3gxZWE5O3UgbSYjeDFlZGI7aTpcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJsYkNvbmZpcm1QYXNzd29yZFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlgmI3hlMTtjIG5oJiN4MWVhZDtuIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3U6XCIvPlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KU2VwYXJhdG9yXCIgbmFtZT1cImpTZXBhcmF0b3IxXCI+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpUZXh0RmllbGRcIiBuYW1lPVwidHh0UGhvbmVcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5DaGVja1wiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvc2VhcmNoLnBuZ1wiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIktpJiN4MWVjMzttIHRyYVwiLz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0UGFzc3dvcmRcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0Q29uZmlybVBhc3N3b3JkXCI+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuQ2hhbmdlXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNTtpIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3VcIi8+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvbG9nb3V0LnBuZ1wiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlRobyYjeGUxO3RcIi8+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgICA8RXZlbnRzPlxuICAgICAgICA8RXZlbnRIYW5kbGVyIGV2ZW50PVwiYWN0aW9uUGVyZm9ybWVkXCIgbGlzdGVuZXI9XCJqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lclwiIHBhcmFtZXRlcnM9XCJqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudFwiIGhhbmRsZXI9XCJidG5FeGl0QWN0aW9uUGVyZm9ybWVkXCIvPlxuICAgICAgPC9FdmVudHM+XG4gICAgPC9Db21wb25lbnQ+XG4gIDwvU3ViQ29tcG9uZW50cz5cbjwvRm9ybT5cbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUpiVGN4MWJBVXAxa0tjTDdNUldXNUwifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToxOTozNy44MDFaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIG5lZWQgdG8gdW5kZXJzdGFuZCBob3cgdGhlIHVzZXIgZGF0YSBpcyBzdG9yZWQgYW5kIGhvdyB0byBjaGVjayBpZiBhIHBob25lIG51bWJlciBleGlzdHMgaW4gdGhlIHN5c3RlbS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2YjFjNjZiMi04YmEwLTQ3OWMtOGE2OS0zNjI2ZTExNGZhNTEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSGFNVjVoZnVUemkxOW9xb29WdGc3dSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBhbnkgbWV0aG9kcyBpbiBEQU8gY2xhc3NlcyB0aGF0IGNhbiBzZWFyY2ggZm9yIGEgdXNlciBieSBwaG9uZSBudW1iZXIgb3IgdXBkYXRlIGEgdXNlcidzIHBhc3N3b3JkLlwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJIG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUncyBhbnkgZXhpc3RpbmcgbWV0aG9kIHRvIGZpbmQgYSB1c2VyIGJ5IHBob25lIG51bWJlciBhbmQgdXBkYXRlIHRoZWlyIHBhc3N3b3JkLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFVzZXIgb2JqKSB7XG4gICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgICAgIFxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIlRow6ptIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gbG9naW4oZmluYWwgU3RyaW5nIHVzZXJOYW1lLCBmaW5hbCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlciB1c2VyID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcIlNFTEVDVCAqIEZST00gVVNFUiBXSEVSRSB1c2VybmFtZSA9ICdcIiArIHVzZXJOYW1lICsgXCInIGFuZCBwYXNzd29yZCA9ICdcIiArIHBhc3N3b3JkICtcIidcIik7XG4gICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgYm9vbGVhbiBpc0FjdGl2ZSA9IHJzLmdldEJvb2xlYW4oXCJpc0FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVXNlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU2lnblVwIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIHByaXZhdGUgU3RyaW5nIERFRkFVTFRfUk9MRSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gU2lnbkluXG4gICAgICovXG4gICAgcHVibGljIFNpZ25VcCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHROYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgbmFtZSA9IHR4dE5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGFkZHJlc3MgPSB0eHRBZGRyZXNzLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGlmKG5hbWUuaXNFbXB0eSgpIHx8IHVzZXJOYW1lLmlzRW1wdHkoKSB8fCBwYXNzd29yZC5pc0VtcHR5KCkgfHwgYWRkcmVzcy5pc0VtcHR5KCkgfHwgcGhvbmUuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0RnVsbE5hbWUodHh0TmFtZS5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRSb2xlKERFRkFVTFRfUk9MRSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZS5ub3coKSk7XG4gICAgICAgICAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJM4buXaTogXCIgKyBleC5nZXRNZXNzYWdlKCksIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbi4uLlxuUGF0aDogc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChmaW5hbCBTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlVTRVJcIiwgXCJ1c2VyX2lkXCIpO1xuICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuXG4gICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG5cbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCwgaXNBY3RpdmUpIFZBTFVFUyAoPywgPywgPywgPywgPywgPylcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRCb29sZWFuKDYsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCg1LCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgRm9yZ290UGFzc3dvcmQgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcbiAgICAgKi9cbiAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgICAgIFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICBcbiAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuICAgICAqIFdBUk5JTkc6IERvIE5PVCBtb2RpZnkgdGhpcyBjb2RlLiBUaGUgY29udGVudCBvZiB0aGlzIG1ldGhvZCBpcyBhbHdheXNcbiAgICAgKiByZWdlbmVyYXRlZCBieSB0aGUgRm9ybSBFZGl0b3IuXG4gICAgICovXG4gICAgQFN1cHByZXNzV2FybmluZ3MoXCJ1bmNoZWNrZWRcIilcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVmYXVsdHN0YXRlPVwiY29sbGFwc2VkXCIgZGVzYz1cIkdlbmVyYXRlZCBDb2RlXCI+Ly9HRU4tQkVHSU46aW5pdENvbXBvbmVudHNcbiAgICBwcml2YXRlIHZvaWQgaW5pdENvbXBvbmVudHMoKSB7XG5cbiAgICAgICAgakxhYmVsMSA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgakxhYmVsMiA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpTZXBhcmF0b3IxID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbiAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICBidG5DaGVjayA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIHR4dFBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5FeGl0ID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcblxuICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDM2KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAgICAgIGpMYWJlbDEuc2V0VGV4dChcIsSQ4buUSSBN4bqsVCBLSOG6qFVcIik7XG4uLi5cblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuQkFTRUxJTkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSlcbiAgICAgICAgKTtcblxuICAgICAgICBwYWNrKCk7XG4gICAgfS8vIDwvZWRpdG9yLWZvbGQ+Ly9HRU4tRU5EOmluaXRDb21wb25lbnRzXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgICBcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfVxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbi4uLlxuICAgICAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAgICAgIGphdmEuYXd0LkV2ZW50UXVldWUuaW52b2tlTGF0ZXIobmV3IFJ1bm5hYmxlKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkge1xuICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhcmlhYmxlcyBkZWNsYXJhdGlvbiAtIGRvIG5vdCBtb2RpZnkvL0dFTi1CRUdJTjp2YXJpYWJsZXNcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuRXhpdDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiTmV3UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRDb25maXJtUGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpUZXh0RmllbGQgdHh0UGhvbmU7XG4gICAgLy8gRW5kIG9mIHZhcmlhYmxlcyBkZWNsYXJhdGlvbi8vR0VOLUVORDp2YXJpYWJsZXNcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9Db25uZWN0aW9uUHJvdmlkZXIuamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVTRVIgPSBcIm1pbnRvcmkwOVwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YVxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbnB1YmxpYyBjbGFzcyBEYk9wZXJhdGlvbnMge1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXREYXRhT3JEZWxldGUoU3RyaW5nIHF1ZXJ5LCBTdHJpbmcgbXNnKSB7XG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgICAgIFN0YXRlbWVudCBzdCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAgICAgICAgIHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIHN0LmV4ZWN1dGVVcGRhdGUocXVlcnkpO1xuXG4gICAgICAgICAgICBpZighbXNnLmVxdWFscyhcIlwiKSkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIG1zZywgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzdCAhPSBudWxsKSBzdC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uVXNlckRBTztcbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuLi4uXG5QYXRoOiBzcmMvTW9kZWwvVXNlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgdXNlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyByb2xlO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzQWN0aXZlO1xuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgICAgIHRoaXMuY3JlYXRlX2F0ID0gY3JlYXRlX2F0O1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRVc2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyX2lkKGludCB1c2VyX2lkKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0lzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0SXNBY3RpdmUoYm9vbGVhbiBpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvU3Vic2NyaWJlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyIGV4dGVuZHMgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgc3Vic2NyaWJlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBmdWxsTmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgU3RyaW5nIHBob25lO1xuICAgIFxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSwgaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgc3VwZXIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVfYXQsIGlzQWN0aXZlKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpbnQgZ2V0U3Vic2NyaWJlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3Vic2NyaWJlcl9pZChpbnQgc3Vic2NyaWJlcl9pZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRGdWxsTmFtZShTdHJpbmcgZnVsbE5hbWUpIHtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGhvbmUoKSB7XG4gICAgICAgIHJldHVybiBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQaG9uZShTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1BsYW4uamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBQbGFuIHtcbiAgICBwcml2YXRlIGludCBwbGFuX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7XG4gICAgcHJpdmF0ZSBsb25nIHByaWNlO1xuICAgIHByaXZhdGUgaW50IG1heF9zcGVlZF9kb21lc3RpYztcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICBwcml2YXRlIGludCBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG5cbiAgICBwdWJsaWMgUGxhbigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGxhbihpbnQgcGxhbl9pZCwgU3RyaW5nIG5hbWUsIGxvbmcgcHJpY2UsIGludCBtYXhfc3BlZWRfZG9tZXN0aWMsIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbCwgaW50IG1pbl9zcGVlZF9kb21lc3RpYywgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMucGxhbl9pZCA9IHBsYW5faWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICAgICAgdGhpcy5tYXhfc3BlZWRfZG9tZXN0aWMgPSBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2ludGVybmF0aW9uYWwgPSBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICAgICAgdGhpcy5taW5fc3BlZWRfZG9tZXN0aWMgPSBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2ludGVybmF0aW9uYWwgPSBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFBsYW5faWQoKSB7XG4gICAgICAgIHJldHVybiBwbGFuX2lkO1xuICAgIH1cbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTlBM1REQjZnYUJWQTJnaTNvSGlxUEsifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToxOTo0Ni42MjJaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUncyBhbnkgZXhpc3RpbmcgbWV0aG9kIHRvIGZpbmQgYSB1c2VyIGJ5IHBob25lIG51bWJlciBhbmQgdXBkYXRlIHRoZWlyIHBhc3N3b3JkLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijk0MTcyMjNhLTRkZmUtNDQ0YS1iZDZkLTMyOTFiNWQxZmI5MSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFMZXpvSHJVWGhMZ3ZDWUFheHptaGZIIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJHZXQgdGhlIGZ1bGwgRm9yZ290UGFzc3dvcmQuamF2YSBmaWxlIHRvIHNlZSBhbGwgZXhpc3RpbmcgbWV0aG9kcyBhbmQgc3RydWN0dXJlIGJlZm9yZSBtYWtpbmcgY2hhbmdlcy5cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gZ2F0aGVyZWQsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGNvZGViYXNlIHN0cnVjdHVyZS4gSSBuZWVkIHRvIGltcGxlbWVudCB0aGUgZXZlbnQgaGFuZGxpbmcgZnVuY3Rpb25zIGZvciB0aGUgRm9yZ290UGFzc3dvcmQgZm9ybS4gTGV0IG1lIGNyZWF0ZSBhIGRldGFpbGVkIHBsYW4gZm9yIHRoaXMgdGFzay5cblxuIyMgRGV0YWlsZWQgUGxhblxuXG4xLiAqKkltcGxlbWVudCBidG5DaGVjayBBY3Rpb25MaXN0ZW5lcioqOlxuICAgLSBWYWxpZGF0ZSB0aGUgcGhvbmUgbnVtYmVyIGlucHV0XG4gICAtIFNlYXJjaCBmb3IgYSB1c2VyIHdpdGggdGhlIHByb3ZpZGVkIHBob25lIG51bWJlciBpbiB0aGUgZGF0YWJhc2VcbiAgIC0gSWYgZm91bmQsIHNob3cgdGhlIHBhc3N3b3JkIGZpZWxkcyBhbmQgY2hhbmdlIGJ1dHRvblxuICAgLSBJZiBub3QgZm91bmQsIHNob3cgYW4gZXJyb3IgbWVzc2FnZVxuXG4yLiAqKkltcGxlbWVudCBidG5DaGFuZ2UgQWN0aW9uTGlzdGVuZXIqKjpcbiAgIC0gVmFsaWRhdGUgdGhlIG5ldyBwYXNzd29yZCBhbmQgY29uZmlybSBwYXNzd29yZCBmaWVsZHNcbiAgIC0gQ2hlY2sgaWYgcGFzc3dvcmRzIG1hdGNoXG4gICAtIFVwZGF0ZSB0aGUgdXNlcidzIHBhc3N3b3JkIGluIHRoZSBkYXRhYmFzZVxuICAgLSBTaG93IHN1Y2Nlc3MgbWVzc2FnZSBhbmQgcmVkaXJlY3QgdG8gbG9naW4gcGFnZVxuXG4zLiAqKkNyZWF0ZSBoZWxwZXIgbWV0aG9kcyoqOlxuICAgLSBNZXRob2QgdG8gZmluZCBhIHVzZXIgYnkgcGhvbmUgbnVtYmVyXG4gICAtIE1ldGhvZCB0byB1cGRhdGUgYSB1c2VyJ3MgcGFzc3dvcmRcblxuTGV0IG1lIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFVzZXIgb2JqKSB7XG4gICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgICAgIFxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIlRow6ptIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gbG9naW4oZmluYWwgU3RyaW5nIHVzZXJOYW1lLCBmaW5hbCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlciB1c2VyID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcIlNFTEVDVCAqIEZST00gVVNFUiBXSEVSRSB1c2VybmFtZSA9ICdcIiArIHVzZXJOYW1lICsgXCInIGFuZCBwYXNzd29yZCA9ICdcIiArIHBhc3N3b3JkICtcIidcIik7XG4gICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgYm9vbGVhbiBpc0FjdGl2ZSA9IHJzLmdldEJvb2xlYW4oXCJpc0FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVXNlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChmaW5hbCBTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlVTRVJcIiwgXCJ1c2VyX2lkXCIpO1xuICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuXG4gICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG5cbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCwgaXNBY3RpdmUpIFZBTFVFUyAoPywgPywgPywgPywgPywgPylcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRCb29sZWFuKDYsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCg1LCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuXG59XG4uLi5cblBhdGg6IHNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcblxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBSZXN1bHRTZXQgZ2V0RGF0YShTdHJpbmcgcXVlcnkpe1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBycyA9IHN0LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBycztcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xuICAgICAgICBpbnQgbmV4dElkID0gMTtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgTUFYKFwiICsgaWRDb2x1bW5OYW1lICsgXCIpIEFTIG1heF9pZCBGUk9NIFwiICsgdGFibGVOYW1lO1xuICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG5cbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZSwgXCJFcnJvclwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0SWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBib29sZWFuIGV4ZWN1dGVUcmFuc2FjdGlvbihTcWxPcGVyYXRpb25bXSBvcGVyYXRpb25zLCBTdHJpbmcgc3VjY2Vzc01zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuXG4gICAgICAgICAgICBmb3IgKFNxbE9wZXJhdGlvbiBvcGVyYXRpb24gOiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQob3BlcmF0aW9uLmdldFNxbCgpKTtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24uc2V0UGFyYW1ldGVycyhwcyk7XG4gICAgICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHBzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NNc2cgIT0gbnVsbCAmJiAhc3VjY2Vzc01zZy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBzdWNjZXNzTXNnLCBcIlRow6BuaCBjw7RuZ1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkVycm9yOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBcIkzhu5dpXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50ZXJmYWNlIFNxbE9wZXJhdGlvbiB7XG4gICAgICAgIFN0cmluZyBnZXRTcWwoKTtcbiAgICAgICAgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLi4uXG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4uLi5cblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uVXNlckRBTztcbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgTG9naW4gZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBMb2dpblxuICAgICAqL1xuICAgIHB1YmxpYyBMb2dpbigpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0VXNlck5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcblxuICAgICAgICBpZih1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuLi4uXG5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRUZXh0KFwiUXXDqm4gbeG6rXQga2jhuql1P1wiKTtcbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEhvcml6b250YWxBbGlnbm1lbnQoamF2YXguc3dpbmcuU3dpbmdDb25zdGFudHMuTEVGVCk7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHtcbiAgICAgICAgICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkxvZ2luQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gVXNlckRBTy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIsSQxINuZyBuaOG6rXAgdGjDoG5oIGPDtG5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuLy8gICAgICAgICAgICAgICAgICAgIG5ldyBNYWluRnJhbWUoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIlNhaSB0w6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdS5cIiwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9Vc2VyLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgdXNlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyByb2xlO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzQWN0aXZlO1xuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgICAgIHRoaXMuY3JlYXRlX2F0ID0gY3JlYXRlX2F0O1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRVc2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyX2lkKGludCB1c2VyX2lkKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0lzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0SXNBY3RpdmUoYm9vbGVhbiBpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU2lnblVwIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIHByaXZhdGUgU3RyaW5nIERFRkFVTFRfUk9MRSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gU2lnbkluXG4gICAgICovXG4gICAgcHVibGljIFNpZ25VcCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHROYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgbmFtZSA9IHR4dE5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGFkZHJlc3MgPSB0eHRBZGRyZXNzLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGlmKG5hbWUuaXNFbXB0eSgpIHx8IHVzZXJOYW1lLmlzRW1wdHkoKSB8fCBwYXNzd29yZC5pc0VtcHR5KCkgfHwgYWRkcmVzcy5pc0VtcHR5KCkgfHwgcGhvbmUuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1N1YnNjcmliZXIuamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyIGV4dGVuZHMgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgc3Vic2NyaWJlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBmdWxsTmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgU3RyaW5nIHBob25lO1xuICAgIFxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSwgaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgc3VwZXIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVfYXQsIGlzQWN0aXZlKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpbnQgZ2V0U3Vic2NyaWJlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3Vic2NyaWJlcl9pZChpbnQgc3Vic2NyaWJlcl9pZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRGdWxsTmFtZShTdHJpbmcgZnVsbE5hbWUpIHtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGhvbmUoKSB7XG4gICAgICAgIHJldHVybiBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQaG9uZShTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuLi4uXG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuQ2hhbmdlXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNTtpIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3VcIi8+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmZvcm1cbi4uLlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXQuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSGFNVjVoZnVUemkxOW9xb29WdGc3dSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjE5OjU0LjQyNloiLCJyZXNwb25zZV90ZXh0IjoiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5vdyBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUuIEkgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGV2ZW50IGhhbmRsaW5nIGZ1bmN0aW9ucyBmb3IgdGhlIEZvcmdvdFBhc3N3b3JkIGZvcm0uIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciB0aGlzIHRhc2suXG5cbiMjIERldGFpbGVkIFBsYW5cblxuMS4gKipJbXBsZW1lbnQgYnRuQ2hlY2sgQWN0aW9uTGlzdGVuZXIqKjpcbiAgIC0gVmFsaWRhdGUgdGhlIHBob25lIG51bWJlciBpbnB1dFxuICAgLSBTZWFyY2ggZm9yIGEgdXNlciB3aXRoIHRoZSBwcm92aWRlZCBwaG9uZSBudW1iZXIgaW4gdGhlIGRhdGFiYXNlXG4gICAtIElmIGZvdW5kLCBzaG93IHRoZSBwYXNzd29yZCBmaWVsZHMgYW5kIGNoYW5nZSBidXR0b25cbiAgIC0gSWYgbm90IGZvdW5kLCBzaG93IGFuIGVycm9yIG1lc3NhZ2VcblxuMi4gKipJbXBsZW1lbnQgYnRuQ2hhbmdlIEFjdGlvbkxpc3RlbmVyKio6XG4gICAtIFZhbGlkYXRlIHRoZSBuZXcgcGFzc3dvcmQgYW5kIGNvbmZpcm0gcGFzc3dvcmQgZmllbGRzXG4gICAtIENoZWNrIGlmIHBhc3N3b3JkcyBtYXRjaFxuICAgLSBVcGRhdGUgdGhlIHVzZXIncyBwYXNzd29yZCBpbiB0aGUgZGF0YWJhc2VcbiAgIC0gU2hvdyBzdWNjZXNzIG1lc3NhZ2UgYW5kIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcblxuMy4gKipDcmVhdGUgaGVscGVyIG1ldGhvZHMqKjpcbiAgIC0gTWV0aG9kIHRvIGZpbmQgYSB1c2VyIGJ5IHBob25lIG51bWJlclxuICAgLSBNZXRob2QgdG8gdXBkYXRlIGEgdXNlcidzIHBhc3N3b3JkXG5cbkxldCBtZSBzdGFydCBpbXBsZW1lbnRpbmcgdGhlc2UgY2hhbmdlczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmYzNjMWFkOC00ZjkzLTRjMGYtOWNmZi1jNzExYjczOTQxNzgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNzFzU0xtb1loZ2h3Mm5SMnhKNUZmRCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJIG5lZWQgdG8gY3JlYXRlIGEgbWV0aG9kIHRvIGZpbmQgYSB1c2VyIGJ5IHBob25lIG51bWJlciBhbmQgdXBkYXRlIGEgdXNlcidzIHBhc3N3b3JkLiBMZXQgbWUgaW1wbGVtZW50IHRoZXNlIG1ldGhvZHMgaW4gdGhlIGFwcHJvcHJpYXRlIERBTyBjbGFzczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBGb3Jnb3RQYXNzd29yZFxuICAgICAqL1xuICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICAgICAgXG4gICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZVBob25lKCl7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gdHh0Q29uZmlybVBhc3N3b3JkLmdldFRleHQoKTtcblxuICAgICAgICBpZihwYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuICAgICAqIHJlZ2VuZXJhdGVkIGJ5IHRoZSBGb3JtIEVkaXRvci5cbiAgICAgKi9cbiAgICBAU3VwcHJlc3NXYXJuaW5ncyhcInVuY2hlY2tlZFwiKVxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiR2VuZXJhdGVkIENvZGVcIj4vL0dFTi1CRUdJTjppbml0Q29tcG9uZW50c1xuICAgIHByaXZhdGUgdm9pZCBpbml0Q29tcG9uZW50cygpIHtcblxuICAgICAgICBqTGFiZWwxID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgICAgICB0eHRQaG9uZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoZWNrID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoYW5nZSA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuXG4gICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XG5cbiAgICAgICAgakxhYmVsMS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMzYpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9yZWdyb3VuZChqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0RGVmYXVsdHMoKS5nZXRDb2xvcihcIkFjdGlvbnMuWWVsbG93XCIpKTtcbiAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcblxuICAgICAgICBqTGFiZWwyLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMi5zZXRUZXh0KFwiU+G7kSDEkWnhu4duIHRob+G6oWk6IFwiKTtcblxuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRUZXh0KFwiTeG6rXQga2jhuql1IG3hu5tpOlwiKTtcblxuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuXG4gICAgICAgIGJ0bkNoZWNrLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoZWNrLnNldFRleHQoXCJLaeG7g20gdHJhXCIpO1xuICAgICAgICBidG5DaGVjay5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBqYXZheC5zd2luZy5Hcm91cExheW91dCBsYXlvdXQgPSBuZXcgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQoZ2V0Q29udGVudFBhbmUoKSk7XG4gICAgICAgIGdldENvbnRlbnRQYW5lKCkuc2V0TGF5b3V0KGxheW91dCk7XG4gICAgICAgIGxheW91dC5zZXRIb3Jpem9udGFsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTEwLCAxMTAsIDExMClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoalNlcGFyYXRvcjEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg1NiwgNTYsIDU2KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQaG9uZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDU3LCA1NywgNTcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDEwMiwgMTAyLCAxMDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2spKSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuVFJBSUxJTkcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZEdhcChqYXZheC5zd2luZy5MYXlvdXRTdHlsZS5Db21wb25lbnRQbGFjZW1lbnQuUkVMQVRFRCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBTaG9ydC5NQVhfVkFMVUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTgsIDE4LCAxOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSkpXG4gICAgICAgICAgICAgICAgLmFkZEdhcCg2OSwgNjksIDY5KSlcbiAgICAgICAgKTtcbiAgICAgICAgbGF5b3V0LnNldFZlcnRpY2FsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDQwLCA0MCwgNDApXG4gICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTQsIDE0LCAxNClcbiAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpTZXBhcmF0b3IxLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMikpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGhvbmUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBhc3N3b3JkLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgyLCAyLCAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGVjaywgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoOCwgOCwgOClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQobGJDb25maXJtUGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkJBU0VMSU5FKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAgXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmdzW10pIHtcbiAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXCI+XG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxuICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sIFxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiTmltYnVzXCIuZXF1YWxzKGluZm8uZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoamF2YXguc3dpbmcuVW5zdXBwb3J0ZWRMb29rQW5kRmVlbEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfVxuICAgICAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAgICAgIGphdmEuYXd0LkV2ZW50UXVldWUuaW52b2tlTGF0ZXIobmV3IFJ1bm5hYmxlKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkge1xuICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhcmlhYmxlcyBkZWNsYXJhdGlvbiAtIGRvIG5vdCBtb2RpZnkvL0dFTi1CRUdJTjp2YXJpYWJsZXNcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuRXhpdDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiTmV3UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRDb25maXJtUGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpUZXh0RmllbGQgdHh0UGhvbmU7XG4gICAgLy8gRW5kIG9mIHZhcmlhYmxlcyBkZWNsYXJhdGlvbi8vR0VOLUVORDp2YXJpYWJsZXNcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiA/PlxuXG48Rm9ybSB2ZXJzaW9uPVwiMS4zXCIgbWF4VmVyc2lvbj1cIjEuOVwiIHR5cGU9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmZvcm1pbmZvLkpGcmFtZUZvcm1JbmZvXCI+XG4gIDxQcm9wZXJ0aWVzPlxuICAgIDxQcm9wZXJ0eSBuYW1lPVwiZGVmYXVsdENsb3NlT3BlcmF0aW9uXCIgdHlwZT1cImludFwiIHZhbHVlPVwiM1wiLz5cbiAgPC9Qcm9wZXJ0aWVzPlxuICA8U3ludGhldGljUHJvcGVydGllcz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImZvcm1TaXplUG9saWN5XCIgdHlwZT1cImludFwiIHZhbHVlPVwiMVwiLz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImdlbmVyYXRlQ2VudGVyXCIgdHlwZT1cImJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICA8L1N5bnRoZXRpY1Byb3BlcnRpZXM+XG4gIDxBdXhWYWx1ZXM+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1Jlc291cmNpbmdcIiB0eXBlPVwiamF2YS5sYW5nLkludGVnZXJcIiB2YWx1ZT1cIjBcIi8+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1NldENvbXBvbmVudE5hbWVcIiB0eXBlPVwiamF2YS5sYW5nLkJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlRlFOXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJ0cnVlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlTW5lbW9uaWNzQ29kZVwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4uLi5cblxuICA8TGF5b3V0PlxuICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMFwiPlxuICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjExMFwiIHByZWY9XCIxMTBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwxXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpTZXBhcmF0b3IxXCIgbWluPVwiLTJcIiBwcmVmPVwiMzcwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwyXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjU2XCIgcHJlZj1cIjU2XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbi4uLlxuICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiM1wiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuQ2hhbmdlXCIgYWxpZ25tZW50PVwiM1wiIG1pbj1cIi0yXCIgcHJlZj1cIjMwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICA8L0dyb3VwPlxuICAgICAgPC9Hcm91cD5cbiAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgPC9MYXlvdXQ+XG4gIDxTdWJDb21wb25lbnRzPlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KTGFiZWxcIiBuYW1lPVwiakxhYmVsMVwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIzNlwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb3JlZ3JvdW5kXCIgdHlwZT1cImphdmEuYXd0LkNvbG9yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuQ29sb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgYmx1ZT1cIjBcIiBncmVlbj1cImEyXCIgaWQ9XCJBY3Rpb25zLlllbGxvd1wiIHBhbGV0dGU9XCIzXCIgcmVkPVwiZWRcIiB0eXBlPVwicGFsZXR0ZVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIiYjeDExMDsmI3gxZWQ0O0kgTSYjeDFlYWM7VCBLSCYjeDFlYTg7VVwiLz5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImpMYWJlbDJcIj5cbiAgICAgIDxQcm9wZXJ0aWVzPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJTJiN4MWVkMTsgJiN4MTExO2kmI3gxZWM3O24gdGhvJiN4MWVhMTtpOiBcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJsYk5ld1Bhc3N3b3JkXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiTSYjeDFlYWQ7dCBraCYjeDFlYTk7dSBtJiN4MWVkYjtpOlwiLz5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiQ29uZmlybVBhc3N3b3JkXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiWCYjeGUxO2MgbmgmI3gxZWFkO24gbSYjeDFlYWQ7dCBraCYjeDFlYTk7dTpcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpTZXBhcmF0b3JcIiBuYW1lPVwialNlcGFyYXRvcjFcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlRleHRGaWVsZFwiIG5hbWU9XCJ0eHRQaG9uZVwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoZWNrXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9zZWFyY2gucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiS2kmI3gxZWMzO20gdHJhXCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRQYXNzd29yZFwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRDb25maXJtUGFzc3dvcmRcIj5cbiAgICA8L0NvbXBvbmVudD5cbi4uLlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL2xvZ291dC5wbmdcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJUaG8mI3hlMTt0XCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgICAgPEV2ZW50cz5cbiAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLz5cbiAgICAgIDwvRXZlbnRzPlxuICAgIDwvQ29tcG9uZW50PlxuICA8L1N1YkNvbXBvbmVudHM+XG48L0Zvcm0+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTaWduVXAgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgREVGQVVMVF9ST0xFID0gXCJ1c2VyXCI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBTaWduSW5cbiAgICAgKi9cbiAgICBwdWJsaWMgU2lnblVwKCkge1xuICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dE5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0VXNlck5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0QWRkcmVzcy5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgIH1cbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUxlem9IclVYaExndkNZQWF4em1oZkgifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToyMDowNC40NDRaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIG5lZWQgdG8gY3JlYXRlIGEgbWV0aG9kIHRvIGZpbmQgYSB1c2VyIGJ5IHBob25lIG51bWJlciBhbmQgdXBkYXRlIGEgdXNlcidzIHBhc3N3b3JkLiBMZXQgbWUgaW1wbGVtZW50IHRoZXNlIG1ldGhvZHMgaW4gdGhlIGFwcHJvcHJpYXRlIERBTyBjbGFzczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3ZTcyYWIwMi0xNzQyLTRmZTYtOWI4My1kYWQ0NWI3MmIyYTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNldhNjhWWjFueWhTb2c3UWpyRVhacCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xcbmltcG9ydCBEQU8uRGJPcGVyYXRpb25zLlNxbE9wZXJhdGlvbjtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMX0sIHtcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcXG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcXFwiTm90IHN1cHBvcnRlZCB5ZXQuXFxcIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcXG4gICAgfVxcblxcblxcbn1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XFxuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXFxcIk5vdCBzdXBwb3J0ZWQgeWV0LlxcXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XFxuICAgIH1cXG4gICAgXFxuICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeVBob25lKFN0cmluZyBwaG9uZSkge1xcbiAgICAgICAgU3Vic2NyaWJlciBzdWJzY3JpYmVyID0gbnVsbDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXFxcIlNFTEVDVCBzLiosIHUuKiBGUk9NIFNVQlNDUklCRVIgcyBKT0lOIFVTRVIgdSBPTiBzLnVzZXJfaWQgPSB1LnVzZXJfaWQgV0hFUkUgcy5waG9uZSA9ICdcXFwiICsgcGhvbmUgKyBcXFwiJ1xcXCIpO1xcbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0U3Vic2NyaWJlcl9pZChycy5nZXRJbnQoXFxcInN1YnNjcmliZXJfaWRcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0RnVsbE5hbWUocnMuZ2V0U3RyaW5nKFxcXCJuYW1lXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEFkZHJlc3MocnMuZ2V0U3RyaW5nKFxcXCJhZGRyZXNzXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFBob25lKHJzLmdldFN0cmluZyhcXFwicGhvbmVcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcl9pZChycy5nZXRJbnQoXFxcInVzZXJfaWRcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcm5hbWUocnMuZ2V0U3RyaW5nKFxcXCJ1c2VybmFtZVxcXCIpKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQYXNzd29yZChycy5nZXRTdHJpbmcoXFxcInBhc3N3b3JkXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFJvbGUocnMuZ2V0U3RyaW5nKFxcXCJyb2xlXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldElzQWN0aXZlKHJzLmdldEJvb2xlYW4oXFxcImlzQWN0aXZlXFxcIikpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiB1cGRhdGVQYXNzd29yZChpbnQgdXNlcklkLCBTdHJpbmcgbmV3UGFzc3dvcmQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlVQREFURSBVU0VSIFNFVCBwYXNzd29yZCA9ICdcXFwiICsgbmV3UGFzc3dvcmQgKyBcXFwiJyBXSEVSRSB1c2VyX2lkID0gXFxcIiArIHVzZXJJZDtcXG4gICAgICAgICAgICBEYk9wZXJhdGlvbnMuc2V0RGF0YU9yRGVsZXRlKHF1ZXJ5LCBcXFwiQ1xcdTFlYWRwIG5oXFx1MWVhZHQgbVxcdTFlYWR0IGtoXFx1MWVhOXUgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiKTtcXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgICAgIH1cXG4gICAgfVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDc2LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDgxfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgYWRkIHRoZSBtZXRob2RzIHRvIGZpbmQgYSBzdWJzY3JpYmVyIGJ5IHBob25lIG51bWJlciBhbmQgdXBkYXRlIGEgdXNlcidzIHBhc3N3b3JkOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMVx0aW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuICAgIDEyXHRcbiAgICAxM1x0LyoqXG4gICAgMTRcdCAqXG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTZcdCAqL1xuICAgIDE3XHRwdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcbiAgICAxOFx0XG4gICAgMTlcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFN1YnNjcmliZXIgb2JqKSB7XG4gICAgMjBcdCAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAyMVx0ICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgIDI0XHQgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG4gICAgMjVcdFxuICAgIDI2XHQgICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgIDI3XHQgICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgIDI4XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgMjlcdCAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICAzMFx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCwgaXNBY3RpdmUpIFZBTFVFUyAoPywgPywgPywgPywgPywgPylcIjtcbiAgICAzMVx0ICAgICAgICAgICAgICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAzNFx0ICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIDM1XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgIDM2XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAzOFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgMzlcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDQwXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEJvb2xlYW4oNiwgdHJ1ZSk7XG4gICAgNDFcdCAgICAgICAgICAgICAgICB9XG4gICAgNDJcdCAgICAgICAgICAgIH0sXG4gICAgNDNcdFxuICAgIDQ0XHQgICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgIDQ1XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgNDZcdCAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICA0N1x0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDQ4XHQgICAgICAgICAgICAgICAgfVxuICAgIDQ5XHRcbiAgICA1MFx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDUxXHQgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgNTJcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XG4gICAgNTNcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA1NFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgNTVcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA1Nlx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICA1N1x0ICAgICAgICAgICAgICAgIH1cbiAgICA1OFx0ICAgICAgICAgICAgfVxuICAgIDU5XHQgICAgICAgIH07XG4gICAgNjBcdFxuICAgIDYxXHQgICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIik7XG4gICAgNjJcdCAgICB9XG4gICAgNjNcdFxuICAgIDY0XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDY1XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDY2XHQgICAgfVxuICAgIDY3XHRcbiAgICA2OFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBkZWxldGUoaW50IGlkKSB7XG4gICAgNjlcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzBcdCAgICB9XG4gICAgNzFcdFxuICAgIDcyXHQgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgNzNcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzRcdCAgICB9XG4gICAgNzVcdFxuICAgIDc2XHQgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICA3N1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3OFx0ICAgIH1cbiAgICA3OVx0XG4gICAgODBcdFxuICAgIDgxXHR9XG4gICAgODJcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogODJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDE3MXNTTG1vWWhnaHcyblIyeEo1RmZEIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MjA6MDguNTg0WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBhZGQgdGhlIG1ldGhvZHMgdG8gZmluZCBhIHN1YnNjcmliZXIgYnkgcGhvbmUgbnVtYmVyIGFuZCB1cGRhdGUgYSB1c2VyJ3MgcGFzc3dvcmQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODA3YzdiNTYtZjg0MS00YTc3LWI1N2EtMTkzZmI1OTg3M2M2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUEyRjY5eWt0RFdhYWdUV1BHd0doZmEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xcblxcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcIiwgXCJuZXdfc3RyXCI6IFwicGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xcblxcbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA1LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDd9LCB7XCJvbGRfc3RyXCI6IFwicHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcIiwgXCJuZXdfc3RyXCI6IFwicHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcXG4gICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDEzfSwge1wib2xkX3N0clwiOiBcIiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XFxuXFxuICAgICAgICBpZihwYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSl7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIGtoXFx1MDBmNG5nIGJcXHUxZWNmIHRyXFx1MWVkMW5nIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcXG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSB0eHRDb25maXJtUGFzc3dvcmQuZ2V0VGV4dCgpO1xcblxcbiAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJWdWkgbFxcdTAwZjJuZyBraFxcdTAwZjRuZyBiXFx1MWVjZiB0clxcdTFlZDFuZyFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICBpZighcGFzc3dvcmQuZXF1YWxzKGNvbmZpcm1QYXNzd29yZCkpe1xcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJNXFx1MWVhZHQga2hcXHUxZWE5dSB4XFx1MDBlMWMgbmhcXHUxZWFkbiBraFxcdTAwZjRuZyBraFxcdTFlZGJwIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiB0cnVlO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1Nn0sIHtcIm9sZF9zdHJcIjogXCIgICAgICAgIGJ0bkNoZWNrLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXFxcIkFyaWFsXFxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXFxuICAgICAgICBidG5DaGVjay5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcXFwiL0ltYWdlcy9zZWFyY2gucG5nXFxcIikpKTsgLy8gTk9JMThOXFxuICAgICAgICBidG5DaGVjay5zZXRUZXh0KFxcXCJLaVxcdTFlYzNtIHRyYVxcXCIpO1xcbiAgICAgICAgYnRuQ2hlY2suc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgYnRuQ2hlY2suc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcXFwiQXJpYWxcXFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cXG4gICAgICAgIGJ0bkNoZWNrLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvSW1hZ2VzL3NlYXJjaC5wbmdcXFwiKSkpOyAvLyBOT0kxOE5cXG4gICAgICAgIGJ0bkNoZWNrLnNldFRleHQoXFxcIktpXFx1MWVjM20gdHJhXFxcIik7XFxuICAgICAgICBidG5DaGVjay5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcXG4gICAgICAgIGJ0bkNoZWNrLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XFxuICAgICAgICAgICAgICAgIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGV2dCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSk7XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5NSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA5OH0sIHtcIm9sZF9zdHJcIjogXCIgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFxcXCJBcmlhbFxcXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxcbiAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1xcXCIpKSk7IC8vIE5PSTE4TlxcbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dVxcXCIpO1xcbiAgICAgICAgYnRuQ2hhbmdlLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1wiLCBcIm5ld19zdHJcIjogXCIgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFxcXCJBcmlhbFxcXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxcbiAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1xcXCIpKSk7IC8vIE5PSTE4TlxcbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dVxcXCIpO1xcbiAgICAgICAgYnRuQ2hhbmdlLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xcbiAgICAgICAgYnRuQ2hhbmdlLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XFxuICAgICAgICAgICAgICAgIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChldnQpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTAwLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDEwM30sIHtcIm9sZF9zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXFxcIkJcXHUxZWExbiBjXFx1MDBmMyBjaFxcdTFlYWZjIGNoXFx1MWVhZm4gbXVcXHUxZWQxbiB0aG9cXHUwMGUxdCBraFxcdTAwZjRuZz9cXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XFxuICAgIFxcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XFxuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcIiwgXCJuZXdfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFxcXCJCXFx1MWVhMW4gY1xcdTAwZjMgY2hcXHUxZWFmYyBjaFxcdTFlYWZuIG11XFx1MWVkMW4gdGhvXFx1MDBlMXQga2hcXHUwMGY0bmc/XFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xcbiAgICBcXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xcbiAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcXG4gICAgXFxuICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xcbiAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcXG4gICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgLy8gUGhvbmUgbnVtYmVyIGZvdW5kLCBzaG93IHBhc3N3b3JkIGZpZWxkc1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiVFxcdTAwZWNtIHRoXFx1MWVhNXkgdFxcdTAwZTBpIGtob1xcdTFlYTNuIHZcXHUxZWRiaSBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIG5cXHUwMGUweSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXFxuICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIktoXFx1MDBmNG5nIHRcXHUwMGVjbSB0aFxcdTFlYTV5IHRcXHUwMGUwaSBraG9cXHUxZWEzbiB2XFx1MWVkYmkgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSBuXFx1MDBlMHkhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcXG5cXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcXG4gICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTFlZDVpIG1cXHUxZWFkdCBraFxcdTFlYTl1IHRoXFx1MDBlMG5oIGNcXHUwMGY0bmchIFZ1aSBsXFx1MDBmMm5nIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcCBsXFx1MWVhMWkuXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xcbiAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTFlZDVpIG1cXHUxZWFkdCBraFxcdTFlYTl1IHRoXFx1MWVhNXQgYlxcdTFlYTFpISBWdWkgbFxcdTAwZjJuZyB0aFxcdTFlZWQgbFxcdTFlYTFpIHNhdS5cXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIwNCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMTF9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSdsbCBpbXBsZW1lbnQgdGhlIGV2ZW50IGhhbmRsaW5nIGZ1bmN0aW9ucyBmb3IgdGhlIEZvcmdvdFBhc3N3b3JkIGZvcm06XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAxMVx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMlx0aW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuICAgIDEzXHRcbiAgICAxNFx0LyoqXG4gICAgMTVcdCAqXG4gICAgMTZcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNzNcdCAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICA3NFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3NVx0ICAgIH1cbiAgICA3Nlx0XG4gICAgNzdcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDc4XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDc5XHQgICAgfVxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeVBob25lKFN0cmluZyBwaG9uZSkge1xuICAgIDgyXHQgICAgICAgIFN1YnNjcmliZXIgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgODNcdCAgICAgICAgdHJ5IHtcbiAgICA4NFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiKTtcbiAgICA4NVx0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgODdcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgODhcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDkwXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTJcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICA5M1x0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgIDk0XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgIDk1XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICB9XG4gICAgOTdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgOThcdCAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgIDEwMVx0ICAgIH1cbiAgIDEwMlx0XG4gICAxMDNcdCAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gdXBkYXRlUGFzc3dvcmQoaW50IHVzZXJJZCwgU3RyaW5nIG5ld1Bhc3N3b3JkKSB7XG4gICAxMDRcdCAgICAgICAgdHJ5IHtcbiAgIDEwNVx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJVUERBVEUgVVNFUiBTRVQgcGFzc3dvcmQgPSAnXCIgKyBuZXdQYXNzd29yZCArIFwiJyBXSEVSRSB1c2VyX2lkID0gXCIgKyB1c2VySWQ7XG4gICAxMDZcdCAgICAgICAgICAgIERiT3BlcmF0aW9ucy5zZXREYXRhT3JEZWxldGUocXVlcnksIFwiQ+G6rXAgbmjhuq10IG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchXCIpO1xuICAgMTA3XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgIDEwOFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgIDEwOVx0ICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMTBcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDExMVx0ICAgICAgICB9XG4gICAxMTJcdCAgICB9XG4gICAxMTNcdH1cbiAgIDExNFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDE2V2E2OFZaMW55aFNvZzdRanJFWFpwIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MjA6MjEuOTAzWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBpbXBsZW1lbnQgdGhlIGV2ZW50IGhhbmRsaW5nIGZ1bmN0aW9ucyBmb3IgdGhlIEZvcmdvdFBhc3N3b3JkIGZvcm06XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTdjOWY0MjEtMmEyNi00MDc2LWFhZmEtOWMwNGM3OWQ0MjIwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHRlc3QgdGhlIGltcGxlbWVudGF0aW9uIHRvIG1ha2Ugc3VyZSBldmVyeXRoaW5nIHdvcmtzIGNvcnJlY3RseS4gTGV0J3MgcnVuIHRoZSBhcHBsaWNhdGlvbiBhbmQgdGVzdCB0aGUgRm9yZ290UGFzc3dvcmQgZnVuY3Rpb25hbGl0eS5cblxuIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbkkndmUgaW1wbGVtZW50ZWQgdGhlIGV2ZW50IGhhbmRsaW5nIGZ1bmN0aW9ucyBmb3IgdGhlIEZvcmdvdFBhc3N3b3JkIGZvcm0gd2l0aCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuXG4xLiAqKkFkZGVkIG5ldyBtZXRob2RzIHRvIFN1YnNjcmliZXJEQU86KipcbiAgIC0gYGdldEJ5UGhvbmUoU3RyaW5nIHBob25lKWA6IEZpbmRzIGEgc3Vic2NyaWJlciBieSBwaG9uZSBudW1iZXJcbiAgIC0gYHVwZGF0ZVBhc3N3b3JkKGludCB1c2VySWQsIFN0cmluZyBuZXdQYXNzd29yZClgOiBVcGRhdGVzIGEgdXNlcidzIHBhc3N3b3JkXG5cbjIuICoqSW1wbGVtZW50ZWQgZXZlbnQgaGFuZGxlcnMgaW4gRm9yZ290UGFzc3dvcmQ6KipcbiAgIC0gYGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkYDogVmFsaWRhdGVzIHBob25lIG51bWJlciwgc2VhcmNoZXMgZm9yIHVzZXIsIGFuZCBzaG93cyBwYXNzd29yZCBmaWVsZHMgaWYgZm91bmRcbiAgIC0gYGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZGA6IFZhbGlkYXRlcyBuZXcgcGFzc3dvcmQsIGNvbmZpcm1zIGl0IG1hdGNoZXMsIGFuZCB1cGRhdGVzIHRoZSB1c2VyJ3MgcGFzc3dvcmRcblxuMy4gKipFbmhhbmNlZCB2YWxpZGF0aW9uOioqXG4gICAtIEFkZGVkIHBhc3N3b3JkIG1hdGNoaW5nIHZhbGlkYXRpb25cbiAgIC0gSW1wcm92ZWQgZXJyb3IgbWVzc2FnZXNcbiAgIC0gQWRkZWQgc3VjY2VzcyBtZXNzYWdlc1xuXG40LiAqKkltcHJvdmVkIFVJIGZsb3c6KipcbiAgIC0gRGlzYWJsZWQgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvbiBhZnRlciBzdWNjZXNzZnVsIHBob25lIHZlcmlmaWNhdGlvblxuICAgLSBBZGRlZCBuYXZpZ2F0aW9uIHRvIExvZ2luIHNjcmVlbiBhZnRlciBwYXNzd29yZCBjaGFuZ2VcbiAgIC0gTW9kaWZpZWQgRXhpdCBidXR0b24gdG8gcmV0dXJuIHRvIExvZ2luIHNjcmVlbiBpbnN0ZWFkIG9mIGNsb3NpbmcgdGhlIGFwcGxpY2F0aW9uXG5cblRoZSBpbXBsZW1lbnRhdGlvbiBmb2xsb3dzIHRoZSByZXF1aXJlbWVudHM6XG4tIEl0IHZhbGlkYXRlcyB0aGUgcGhvbmUgbnVtYmVyIGZpcnN0XG4tIE9ubHkgYWxsb3dzIG5ldyBwYXNzd29yZCBlbnRyeSBhZnRlciBhIGNvcnJlY3QgcGhvbmUgbnVtYmVyIGlzIGZvdW5kXG4tIFNob3dzIGFwcHJvcHJpYXRlIGVycm9yIGFuZCBzdWNjZXNzIG1lc3NhZ2VzXG4tIEVuc3VyZXMgcGFzc3dvcmQgY29uZmlybWF0aW9uIG1hdGNoZXMgdGhlIG5ldyBwYXNzd29yZFxuXG5UbyB0ZXN0IHRoaXMgaW1wbGVtZW50YXRpb246XG4xLiBSdW4gdGhlIGFwcGxpY2F0aW9uXG4yLiBOYXZpZ2F0ZSB0byB0aGUgRm9yZ290UGFzc3dvcmQgc2NyZWVuXG4zLiBFbnRlciBhIHZhbGlkIHBob25lIG51bWJlciBhbmQgY2xpY2sgXCJLaeG7g20gdHJhXCJcbjQuIElmIHRoZSBwaG9uZSBudW1iZXIgZXhpc3RzLCBlbnRlciBhIG5ldyBwYXNzd29yZCBhbmQgY29uZmlybSBpdFxuNS4gQ2xpY2sgXCLEkOG7lWkgbeG6rXQga2jhuql1XCIgdG8gdXBkYXRlIHRoZSBwYXNzd29yZFxuNi4gVmVyaWZ5IHlvdSBjYW4gbG9nIGluIHdpdGggdGhlIG5ldyBwYXNzd29yZFxuXG5Xb3VsZCB5b3UgbGlrZSBtZSB0byBtYWtlIGFueSBhZGRpdGlvbmFsIGNoYW5nZXMgb3IgaW1wcm92ZW1lbnRzIHRvIHRoZSBpbXBsZW1lbnRhdGlvbj9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdC8qXG4gICAgIDJcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG4gICAgIDhcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA5XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTBcdFxuICAgIDExXHQvKipcbiAgICAxMlx0ICpcbiAgICAxM1x0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxMVx0LyoqXG4gICAgMTJcdCAqXG4gICAgMTNcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTRcdCAqL1xuICAgIDE1XHRwdWJsaWMgY2xhc3MgRm9yZ290UGFzc3dvcmQgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuICAgIDE2XHQgICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAxN1x0ICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIC8qKlxuICAgIDIwXHQgICAgICogQ3JlYXRlcyBuZXcgZm9ybSBGb3Jnb3RQYXNzd29yZFxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsyXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDUxXHQgICAgICAgIH1cbiAgICA1Mlx0ICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA1M1x0ICAgIH1cbiAgICA1NFx0XG4gICAgNTVcdCAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgIDU2XHQgICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICA1N1x0ICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gdHh0Q29uZmlybVBhc3N3b3JkLmdldFRleHQoKTtcbiAgICA1OFx0XG4gICAgNTlcdCAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xuICAgIDYwXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDYxXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjJcdCAgICAgICAgfVxuICAgIDYzXHRcbiAgICA2NFx0ICAgICAgICBpZighcGFzc3dvcmQuZXF1YWxzKGNvbmZpcm1QYXNzd29yZCkpe1xuICAgIDY1XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIk3huq10IGto4bqpdSB4w6FjIG5o4bqtbiBraMO0bmcga2jhu5twIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDY2XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNjdcdCAgICAgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICAvKipcbiAgICA3M1x0ICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICA3NFx0ICAgICAqIFdBUk5JTkc6IERvIE5PVCBtb2RpZnkgdGhpcyBjb2RlLiBUaGUgY29udGVudCBvZiB0aGlzIG1ldGhvZCBpcyBhbHdheXNcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbM106XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDEwNFx0XG4gICAxMDVcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgMTA2XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuICAgMTA3XHRcbiAgIDEwOFx0ICAgICAgICBidG5DaGVjay5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDlcdCAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMTBcdCAgICAgICAgYnRuQ2hlY2suc2V0VGV4dChcIktp4buDbSB0cmFcIik7XG4gICAxMTFcdCAgICAgICAgYnRuQ2hlY2suc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAxMTJcdCAgICAgICAgYnRuQ2hlY2suYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTEzXHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMTRcdCAgICAgICAgICAgICAgICBidG5DaGVja0FjdGlvblBlcmZvcm1lZChldnQpO1xuICAgMTE1XHQgICAgICAgICAgICB9XG4gICAxMTZcdCAgICAgICAgfSk7XG4gICAxMTdcdFxuICAgMTE4XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMTlcdCAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMjBcdCAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFs0XTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMTE0XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgIDExNVx0ICAgICAgICAgICAgfVxuICAgMTE2XHQgICAgICAgIH0pO1xuICAgMTE3XHRcbiAgIDExOFx0ICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgMTE5XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgMTIwXHQgICAgICAgIGJ0bkNoYW5nZS5zZXRUZXh0KFwixJDhu5VpIG3huq10IGto4bqpdVwiKTtcbiAgIDEyMVx0ICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAxMjJcdCAgICAgICAgYnRuQ2hhbmdlLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcbiAgIDEyM1x0ICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgMTI0XHQgICAgICAgICAgICAgICAgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAxMjVcdCAgICAgICAgICAgIH1cbiAgIDEyNlx0ICAgICAgICB9KTtcbiAgIDEyN1x0XG4gICAxMjhcdCAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMjlcdCAgICAgICAgYnRuRXhpdC5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvbG9nb3V0LnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgIDEzMFx0ICAgICAgICBidG5FeGl0LnNldFRleHQoXCJUaG/DoXRcIik7XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzVdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyMTBcdFxuICAgMjExXHQgICAgICAgIHBhY2soKTtcbiAgIDIxMlx0ICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuICAgMjEzXHRcbiAgIDIxNFx0ICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIxNVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIxNlx0ICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgIDIxN1x0XG4gICAyMThcdCAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAyMTlcdCAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjBcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjIxXHQgICAgICAgIH1cbiAgIDIyMlx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyM1x0XG4gICAyMjRcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIyNVx0ICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XG4gICAyMjZcdCAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgIDIyN1x0ICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgMjI4XHRcbiAgIDIyOVx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDIzMFx0ICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcbiAgIDIzMVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyMzJcdFxuICAgMjMzXHQgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM0XHQgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzVcdCAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzZcdCAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM3XHQgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzOFx0ICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM5XHRcbiAgIDI0MFx0ICAgICAgICAgICAgICAgIC8vIERpc2FibGUgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvblxuICAgMjQxXHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjQyXHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyNDNcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNDRcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI0NVx0ICAgICAgICAgICAgfVxuICAgMjQ2XHQgICAgICAgIH1cbiAgIDI0N1x0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNDhcdFxuICAgMjQ5XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI1MFx0ICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyNTFcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1Mlx0XG4gICAyNTNcdCAgICAgICAgICAgIGJvb2xlYW4gc3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAyNTRcdFxuICAgMjU1XHQgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgMjU2XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkuXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNTdcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjU4XHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNTlcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjBcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1LlwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjYxXHQgICAgICAgICAgICB9XG4gICAyNjJcdCAgICAgICAgfVxuICAgMjYzXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNjRcdFxuICAgMjY1XHQgICAgLyoqXG4gICAyNjZcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjY3XHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFBMkY2OXlrdERXYWFnVFdQR3dHaGZhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MjA6NTEuNTYxWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdGVzdCB0aGUgaW1wbGVtZW50YXRpb24gdG8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgd29ya3MgY29ycmVjdGx5LiBMZXQncyBydW4gdGhlIGFwcGxpY2F0aW9uIGFuZCB0ZXN0IHRoZSBGb3Jnb3RQYXNzd29yZCBmdW5jdGlvbmFsaXR5LlxuXG4jIyBTdW1tYXJ5IG9mIENoYW5nZXNcblxuSSd2ZSBpbXBsZW1lbnRlZCB0aGUgZXZlbnQgaGFuZGxpbmcgZnVuY3Rpb25zIGZvciB0aGUgRm9yZ290UGFzc3dvcmQgZm9ybSB3aXRoIHRoZSBmb2xsb3dpbmcgZmVhdHVyZXM6XG5cbjEuICoqQWRkZWQgbmV3IG1ldGhvZHMgdG8gU3Vic2NyaWJlckRBTzoqKlxuICAgLSBgZ2V0QnlQaG9uZShTdHJpbmcgcGhvbmUpYDogRmluZHMgYSBzdWJzY3JpYmVyIGJ5IHBob25lIG51bWJlclxuICAgLSBgdXBkYXRlUGFzc3dvcmQoaW50IHVzZXJJZCwgU3RyaW5nIG5ld1Bhc3N3b3JkKWA6IFVwZGF0ZXMgYSB1c2VyJ3MgcGFzc3dvcmRcblxuMi4gKipJbXBsZW1lbnRlZCBldmVudCBoYW5kbGVycyBpbiBGb3Jnb3RQYXNzd29yZDoqKlxuICAgLSBgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRgOiBWYWxpZGF0ZXMgcGhvbmUgbnVtYmVyLCBzZWFyY2hlcyBmb3IgdXNlciwgYW5kIHNob3dzIHBhc3N3b3JkIGZpZWxkcyBpZiBmb3VuZFxuICAgLSBgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkYDogVmFsaWRhdGVzIG5ldyBwYXNzd29yZCwgY29uZmlybXMgaXQgbWF0Y2hlcywgYW5kIHVwZGF0ZXMgdGhlIHVzZXIncyBwYXNzd29yZFxuXG4zLiAqKkVuaGFuY2VkIHZhbGlkYXRpb246KipcbiAgIC0gQWRkZWQgcGFzc3dvcmQgbWF0Y2hpbmcgdmFsaWRhdGlvblxuICAgLSBJbXByb3ZlZCBlcnJvciBtZXNzYWdlc1xuICAgLSBBZGRlZCBzdWNjZXNzIG1lc3NhZ2VzXG5cbjQuICoqSW1wcm92ZWQgVUkgZmxvdzoqKlxuICAgLSBEaXNhYmxlZCBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uIGFmdGVyIHN1Y2Nlc3NmdWwgcGhvbmUgdmVyaWZpY2F0aW9uXG4gICAtIEFkZGVkIG5hdmlnYXRpb24gdG8gTG9naW4gc2NyZWVuIGFmdGVyIHBhc3N3b3JkIGNoYW5nZVxuICAgLSBNb2RpZmllZCBFeGl0IGJ1dHRvbiB0byByZXR1cm4gdG8gTG9naW4gc2NyZWVuIGluc3RlYWQgb2YgY2xvc2luZyB0aGUgYXBwbGljYXRpb25cblxuVGhlIGltcGxlbWVudGF0aW9uIGZvbGxvd3MgdGhlIHJlcXVpcmVtZW50czpcbi0gSXQgdmFsaWRhdGVzIHRoZSBwaG9uZSBudW1iZXIgZmlyc3Rcbi0gT25seSBhbGxvd3MgbmV3IHBhc3N3b3JkIGVudHJ5IGFmdGVyIGEgY29ycmVjdCBwaG9uZSBudW1iZXIgaXMgZm91bmRcbi0gU2hvd3MgYXBwcm9wcmlhdGUgZXJyb3IgYW5kIHN1Y2Nlc3MgbWVzc2FnZXNcbi0gRW5zdXJlcyBwYXNzd29yZCBjb25maXJtYXRpb24gbWF0Y2hlcyB0aGUgbmV3IHBhc3N3b3JkXG5cblRvIHRlc3QgdGhpcyBpbXBsZW1lbnRhdGlvbjpcbjEuIFJ1biB0aGUgYXBwbGljYXRpb25cbjIuIE5hdmlnYXRlIHRvIHRoZSBGb3Jnb3RQYXNzd29yZCBzY3JlZW5cbjMuIEVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIGFuZCBjbGljayBcIktp4buDbSB0cmFcIlxuNC4gSWYgdGhlIHBob25lIG51bWJlciBleGlzdHMsIGVudGVyIGEgbmV3IHBhc3N3b3JkIGFuZCBjb25maXJtIGl0XG41LiBDbGljayBcIsSQ4buVaSBt4bqtdCBraOG6qXVcIiB0byB1cGRhdGUgdGhlIHBhc3N3b3JkXG42LiBWZXJpZnkgeW91IGNhbiBsb2cgaW4gd2l0aCB0aGUgbmV3IHBhc3N3b3JkXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIG1ha2UgYW55IGFkZGl0aW9uYWwgY2hhbmdlcyBvciBpbXByb3ZlbWVudHMgdG8gdGhlIGltcGxlbWVudGF0aW9uP1xuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiYzA2YjA2Y2YtMjY3MS00MGUwLTg4ODYtODA3MGEzMDQyNjk5IiwidXVpZCI6IjExNjQzODgyLTE1MGQtNGYwNC05MmU1LTk0MWQ5OTQ4NDY0OSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0NzA5OTA4NzI1OCwidG9UaW1lc3RhbXAiOjE3NDcwOTkyNjExODgsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiNWFkN2NiNWQtNDQ3My00ZDJlLWE5ODEtMmY0M2FmMjI1YTJjIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwYjk0YjM0MS0wZTZkLTRiNmYtYTgyZS1kNjkwYzQ1ZmJmZjQiLCJyZXF1ZXN0X21lc3NhZ2UiOiJUaGUgYnV0dG9ucyBkb24ndCBzZWVtIHRvIGJlIHdvcmtpbmc/IiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IlRoZSBidXR0b25zIGRvbid0IHNlZW0gdG8gYmUgd29ya2luZz8ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFKWlMzYW5NNUN6UTQ1N0tudWZwQmp0IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmZvcm1cIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGZpeCB0aGUgaXNzdWUgd2l0aCB0aGUgYnV0dG9ucyBub3Qgd29ya2luZy4gTGV0J3MgY2hlY2sgdGhlIGZvcm0gZmlsZSB0byBzZWUgaWYgdGhlIGV2ZW50IGhhbmRsZXJzIGFyZSBwcm9wZXJseSBjb25uZWN0ZWQgdG8gdGhlIGJ1dHRvbnMuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6IlRoZSBidXR0b25zIGRvbid0IHNlZW0gdG8gYmUgd29ya2luZz8ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToyNzoxOS4xNjBaIiwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgZml4IHRoZSBpc3N1ZSB3aXRoIHRoZSBidXR0b25zIG5vdCB3b3JraW5nLiBMZXQncyBjaGVjayB0aGUgZm9ybSBmaWxlIHRvIHNlZSBpZiB0aGUgZXZlbnQgaGFuZGxlcnMgYXJlIHByb3Blcmx5IGNvbm5lY3RlZCB0byB0aGUgYnV0dG9ucy5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkZDE5NGYwNC1lZmNmLTQzZjctOTRjZi01NWIzMDhkZmE5ZmMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVHFmVUs3UnR2WXlmcTlzQkNFN2gxcSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICA8UHJvcGVydGllcz5cXG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVxcXCJmb250XFxcIiB0eXBlPVxcXCJqYXZhLmF3dC5Gb250XFxcIiBlZGl0b3I9XFxcIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcXFwiPlxcbiAgICAgICAgICA8Rm9udCBuYW1lPVxcXCJBcmlhbFxcXCIgc2l6ZT1cXFwiMTRcXFwiIHN0eWxlPVxcXCIxXFxcIi8+XFxuICAgICAgICA8L1Byb3BlcnR5PlxcbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XFxcImljb25cXFwiIHR5cGU9XFxcImphdmF4LnN3aW5nLkljb25cXFwiIGVkaXRvcj1cXFwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXFxcIj5cXG4gICAgICAgICAgPEltYWdlIGljb25UeXBlPVxcXCIzXFxcIiBuYW1lPVxcXCIvSW1hZ2VzL3NlYXJjaC5wbmdcXFwiLz5cXG4gICAgICAgIDwvUHJvcGVydHk+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwidGV4dFxcXCIgdHlwZT1cXFwiamF2YS5sYW5nLlN0cmluZ1xcXCIgdmFsdWU9XFxcIktpJiN4MWVjMzttIHRyYVxcXCIvPlxcbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XFxcImN1cnNvclxcXCIgdHlwZT1cXFwiamF2YS5hd3QuQ3Vyc29yXFxcIiBlZGl0b3I9XFxcIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXFxcIj5cXG4gICAgICAgICAgPENvbG9yIGlkPVxcXCJIYW5kIEN1cnNvclxcXCIvPlxcbiAgICAgICAgPC9Qcm9wZXJ0eT5cXG4gICAgICA8L1Byb3BlcnRpZXM+XCIsIFwibmV3X3N0clwiOiBcIiAgICAgIDxQcm9wZXJ0aWVzPlxcbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XFxcImZvbnRcXFwiIHR5cGU9XFxcImphdmEuYXd0LkZvbnRcXFwiIGVkaXRvcj1cXFwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclxcXCI+XFxuICAgICAgICAgIDxGb250IG5hbWU9XFxcIkFyaWFsXFxcIiBzaXplPVxcXCIxNFxcXCIgc3R5bGU9XFxcIjFcXFwiLz5cXG4gICAgICAgIDwvUHJvcGVydHk+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwiaWNvblxcXCIgdHlwZT1cXFwiamF2YXguc3dpbmcuSWNvblxcXCIgZWRpdG9yPVxcXCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcXFwiPlxcbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XFxcIjNcXFwiIG5hbWU9XFxcIi9JbWFnZXMvc2VhcmNoLnBuZ1xcXCIvPlxcbiAgICAgICAgPC9Qcm9wZXJ0eT5cXG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVxcXCJ0ZXh0XFxcIiB0eXBlPVxcXCJqYXZhLmxhbmcuU3RyaW5nXFxcIiB2YWx1ZT1cXFwiS2kmI3gxZWMzO20gdHJhXFxcIi8+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwiY3Vyc29yXFxcIiB0eXBlPVxcXCJqYXZhLmF3dC5DdXJzb3JcXFwiIGVkaXRvcj1cXFwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcXFwiPlxcbiAgICAgICAgICA8Q29sb3IgaWQ9XFxcIkhhbmQgQ3Vyc29yXFxcIi8+XFxuICAgICAgICA8L1Byb3BlcnR5PlxcbiAgICAgIDwvUHJvcGVydGllcz5cXG4gICAgICA8RXZlbnRzPlxcbiAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cXFwiYWN0aW9uUGVyZm9ybWVkXFxcIiBsaXN0ZW5lcj1cXFwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcXFwiIHBhcmFtZXRlcnM9XFxcImphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50XFxcIiBoYW5kbGVyPVxcXCJidG5DaGVja0FjdGlvblBlcmZvcm1lZFxcXCIvPlxcbiAgICAgIDwvRXZlbnRzPlwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTU5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE3MH0sIHtcIm9sZF9zdHJcIjogXCIgICAgICA8UHJvcGVydGllcz5cXG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVxcXCJmb250XFxcIiB0eXBlPVxcXCJqYXZhLmF3dC5Gb250XFxcIiBlZGl0b3I9XFxcIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcXFwiPlxcbiAgICAgICAgICA8Rm9udCBuYW1lPVxcXCJBcmlhbFxcXCIgc2l6ZT1cXFwiMTRcXFwiIHN0eWxlPVxcXCIxXFxcIi8+XFxuICAgICAgICA8L1Byb3BlcnR5PlxcbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XFxcImljb25cXFwiIHR5cGU9XFxcImphdmF4LnN3aW5nLkljb25cXFwiIGVkaXRvcj1cXFwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXFxcIj5cXG4gICAgICAgICAgPEltYWdlIGljb25UeXBlPVxcXCIzXFxcIiBuYW1lPVxcXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1xcXCIvPlxcbiAgICAgICAgPC9Qcm9wZXJ0eT5cXG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVxcXCJ0ZXh0XFxcIiB0eXBlPVxcXCJqYXZhLmxhbmcuU3RyaW5nXFxcIiB2YWx1ZT1cXFwiJiN4MTEwOyYjeDFlZDU7aSBtJiN4MWVhZDt0IGtoJiN4MWVhOTt1XFxcIi8+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwiY3Vyc29yXFxcIiB0eXBlPVxcXCJqYXZhLmF3dC5DdXJzb3JcXFwiIGVkaXRvcj1cXFwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcXFwiPlxcbiAgICAgICAgICA8Q29sb3IgaWQ9XFxcIkhhbmQgQ3Vyc29yXFxcIi8+XFxuICAgICAgICA8L1Byb3BlcnR5PlxcbiAgICAgIDwvUHJvcGVydGllcz5cIiwgXCJuZXdfc3RyXCI6IFwiICAgICAgPFByb3BlcnRpZXM+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwiZm9udFxcXCIgdHlwZT1cXFwiamF2YS5hd3QuRm9udFxcXCIgZWRpdG9yPVxcXCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXFxcIj5cXG4gICAgICAgICAgPEZvbnQgbmFtZT1cXFwiQXJpYWxcXFwiIHNpemU9XFxcIjE0XFxcIiBzdHlsZT1cXFwiMVxcXCIvPlxcbiAgICAgICAgPC9Qcm9wZXJ0eT5cXG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJqYXZheC5zd2luZy5JY29uXFxcIiBlZGl0b3I9XFxcIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclxcXCI+XFxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cXFwiM1xcXCIgbmFtZT1cXFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcXFwiLz5cXG4gICAgICAgIDwvUHJvcGVydHk+XFxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cXFwidGV4dFxcXCIgdHlwZT1cXFwiamF2YS5sYW5nLlN0cmluZ1xcXCIgdmFsdWU9XFxcIiYjeDExMDsmI3gxZWQ1O2kgbSYjeDFlYWQ7dCBraCYjeDFlYTk7dVxcXCIvPlxcbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XFxcImN1cnNvclxcXCIgdHlwZT1cXFwiamF2YS5hd3QuQ3Vyc29yXFxcIiBlZGl0b3I9XFxcIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXFxcIj5cXG4gICAgICAgICAgPENvbG9yIGlkPVxcXCJIYW5kIEN1cnNvclxcXCIvPlxcbiAgICAgICAgPC9Qcm9wZXJ0eT5cXG4gICAgICA8L1Byb3BlcnRpZXM+XFxuICAgICAgPEV2ZW50cz5cXG4gICAgICAgIDxFdmVudEhhbmRsZXIgZXZlbnQ9XFxcImFjdGlvblBlcmZvcm1lZFxcXCIgbGlzdGVuZXI9XFxcImphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyXFxcIiBwYXJhbWV0ZXJzPVxcXCJqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudFxcXCIgaGFuZGxlcj1cXFwiYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXFxcIi8+XFxuICAgICAgPC9FdmVudHM+XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxNzcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTg4fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSBzZWUgdGhlIGlzc3VlLiBUaGUgZm9ybSBmaWxlIGRvZXNuJ3QgaGF2ZSB0aGUgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBDaGVjayBhbmQgQ2hhbmdlIGJ1dHRvbnMuIFdlIG5lZWQgdG8gdXBkYXRlIHRoZSBmb3JtIGZpbGUgdG8gaW5jbHVkZSB0aGVzZSBldmVudCBoYW5kbGVycy4gTGV0J3MgbW9kaWZ5IHRoZSBmb3JtIGZpbGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmZvcm06XG4gICAgIDFcdDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgPz5cbiAgICAgMlx0XG4gICAgIDNcdDxGb3JtIHZlcnNpb249XCIxLjNcIiBtYXhWZXJzaW9uPVwiMS45XCIgdHlwZT1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZm9ybWluZm8uSkZyYW1lRm9ybUluZm9cIj5cbiAgICAgNFx0ICA8UHJvcGVydGllcz5cbiAgICAgNVx0ICAgIDxQcm9wZXJ0eSBuYW1lPVwiZGVmYXVsdENsb3NlT3BlcmF0aW9uXCIgdHlwZT1cImludFwiIHZhbHVlPVwiM1wiLz5cbiAgICAgNlx0ICA8L1Byb3BlcnRpZXM+XG4gICAgIDdcdCAgPFN5bnRoZXRpY1Byb3BlcnRpZXM+XG4gICAgIDhcdCAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImZvcm1TaXplUG9saWN5XCIgdHlwZT1cImludFwiIHZhbHVlPVwiMVwiLz5cbiAgICAgOVx0ICAgIDxTeW50aGV0aWNQcm9wZXJ0eSBuYW1lPVwiZ2VuZXJhdGVDZW50ZXJcIiB0eXBlPVwiYm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMTBcdCAgPC9TeW50aGV0aWNQcm9wZXJ0aWVzPlxuICAgIDExXHQgIDxBdXhWYWx1ZXM+XG4gICAgMTJcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19hdXRvUmVzb3VyY2luZ1wiIHR5cGU9XCJqYXZhLmxhbmcuSW50ZWdlclwiIHZhbHVlPVwiMFwiLz5cbiAgICAxM1x0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2F1dG9TZXRDb21wb25lbnROYW1lXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgICAxNFx0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlRlFOXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJ0cnVlXCIvPlxuICAgIDE1XHQgICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfZ2VuZXJhdGVNbmVtb25pY3NDb2RlXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgICAxNlx0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2kxOG5BdXRvTW9kZVwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMTdcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19sYXlvdXRDb2RlVGFyZ2V0XCIgdHlwZT1cImphdmEubGFuZy5JbnRlZ2VyXCIgdmFsdWU9XCIxXCIvPlxuICAgIDE4XHQgICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfbGlzdGVuZXJHZW5lcmF0aW9uU3R5bGVcIiB0eXBlPVwiamF2YS5sYW5nLkludGVnZXJcIiB2YWx1ZT1cIjBcIi8+XG4gICAgMTlcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc192YXJpYWJsZXNMb2NhbFwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMjBcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc192YXJpYWJsZXNNb2RpZmllclwiIHR5cGU9XCJqYXZhLmxhbmcuSW50ZWdlclwiIHZhbHVlPVwiMlwiLz5cbiAgICAyMVx0ICA8L0F1eFZhbHVlcz5cbiAgICAyMlx0XG4gICAgMjNcdCAgPExheW91dD5cbiAgICAyNFx0ICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMFwiPlxuICAgIDI1XHQgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjZcdCAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjdcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDI4XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjlcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMTBcIiBwcmVmPVwiMTEwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAzMFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwxXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDMxXHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDMyXHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMzNcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgMzRcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwialNlcGFyYXRvcjFcIiBtaW49XCItMlwiIHByZWY9XCIzNzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDM1XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDM2XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgMzhcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiakxhYmVsMlwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAzOVx0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjU2XCIgcHJlZj1cIjU2XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA0MFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQaG9uZVwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA0M1x0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjYxXCIgcHJlZj1cIjYxXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA0NFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYk5ld1Bhc3N3b3JkXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDQ1XHQgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNTdcIiBwcmVmPVwiNTdcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDQ2XHQgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDQ3XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQYXNzd29yZFwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNDhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDQ5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMDJcIiBwcmVmPVwiMTAyXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA1MFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoZWNrXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDUxXHQgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNTJcdCAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDUzXHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDU0XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGFsaWdubWVudD1cIjBcIiBncm91cEFsaWdubWVudD1cIjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNTVcdCAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNTZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjBcIiBwcmVmPVwiNjBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDU4XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1heD1cIjMyNzY3XCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNTlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoYW5nZVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA2MFx0ICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNjFcdCAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNjJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDYzXHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYkNvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA2NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxOFwiIHByZWY9XCIxOFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNjVcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cInR4dENvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNjZcdCAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDY3XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDY4XHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNjlcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiLTJcIiBwcmVmPVwiNjlcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDcwXHQgICAgICAgICAgPC9Hcm91cD5cbiAgICA3MVx0ICAgICAgPC9Hcm91cD5cbiAgICA3Mlx0ICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICAgIDczXHQgICAgPERpbWVuc2lvbkxheW91dCBkaW09XCIxXCI+XG4gICAgNzRcdCAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIwXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA3NVx0ICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA3Nlx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI0MFwiIHByZWY9XCI0MFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNzdcdCAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpMYWJlbDFcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNzhcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiMTRcIiBwcmVmPVwiMTRcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDc5XHQgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqU2VwYXJhdG9yMVwiIG1pbj1cIi0yXCIgcHJlZj1cIjEwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4MFx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMlwiIHByZWY9XCIxMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgODFcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDgyXHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgODNcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIzXCIgcHJlZj1cIjNcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDg0XHQgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpMYWJlbDJcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgODVcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgODZcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQaG9uZVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4N1x0ICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDg4XHQgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjE4XCIgcHJlZj1cIjE4XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4OVx0ICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgOTBcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA5MVx0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjNcIiBwcmVmPVwiM1wiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgOTJcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwibGJOZXdQYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA5M1x0ICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICA5NFx0ICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cInR4dFBhc3N3b3JkXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk1XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgOTZcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIyXCIgcHJlZj1cIjJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk3XHQgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoZWNrXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk4XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDk5XHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMDBcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiOFwiIHByZWY9XCI4XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgIDEwMVx0ICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAxMDJcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgIDEwM1x0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjNcIiBwcmVmPVwiM1wiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDRcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwibGJDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDVcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMDZcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDdcdCAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgIDEwOFx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIzMFwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDlcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjNcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgMTEwXHQgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMTFcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5DaGFuZ2VcIiBhbGlnbm1lbnQ9XCIzXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgMTEyXHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMTNcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgcHJlZj1cIjQwXCIgbWF4PVwiMzI3NjdcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgIDExNFx0ICAgICAgICAgIDwvR3JvdXA+XG4gICAxMTVcdCAgICAgIDwvR3JvdXA+XG4gICAxMTZcdCAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgIDExN1x0ICA8L0xheW91dD5cbiAgIDExOFx0ICA8U3ViQ29tcG9uZW50cz5cbiAgIDExOVx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KTGFiZWxcIiBuYW1lPVwiakxhYmVsMVwiPlxuICAgMTIwXHQgICAgICA8UHJvcGVydGllcz5cbiAgIDEyMVx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDEyMlx0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIzNlwiIHN0eWxlPVwiMVwiLz5cbiAgIDEyM1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTI0XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9yZWdyb3VuZFwiIHR5cGU9XCJqYXZhLmF3dC5Db2xvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkNvbG9yRWRpdG9yXCI+XG4gICAxMjVcdCAgICAgICAgICA8Q29sb3IgYmx1ZT1cIjBcIiBncmVlbj1cImEyXCIgaWQ9XCJBY3Rpb25zLlllbGxvd1wiIHBhbGV0dGU9XCIzXCIgcmVkPVwiZWRcIiB0eXBlPVwicGFsZXR0ZVwiLz5cbiAgIDEyNlx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTI3XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNDtJIE0mI3gxZWFjO1QgS0gmI3gxZWE4O1VcIi8+XG4gICAxMjhcdCAgICAgIDwvUHJvcGVydGllcz5cbiAgIDEyOVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTMwXHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJqTGFiZWwyXCI+XG4gICAxMzFcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTMyXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTMzXHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTM0XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxMzVcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlMmI3gxZWQxOyAmI3gxMTE7aSYjeDFlYzc7biB0aG8mI3gxZWExO2k6IFwiLz5cbiAgIDEzNlx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTM3XHQgICAgPC9Db21wb25lbnQ+XG4gICAxMzhcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiTmV3UGFzc3dvcmRcIj5cbiAgIDEzOVx0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxNDBcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAxNDFcdCAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAxNDJcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE0M1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiTSYjeDFlYWQ7dCBraCYjeDFlYTk7dSBtJiN4MWVkYjtpOlwiLz5cbiAgIDE0NFx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTQ1XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNDZcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiQ29uZmlybVBhc3N3b3JkXCI+XG4gICAxNDdcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTQ4XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTQ5XHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTUwXHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNTFcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlgmI3hlMTtjIG5oJiN4MWVhZDtuIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3U6XCIvPlxuICAgMTUyXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAxNTNcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1NFx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KU2VwYXJhdG9yXCIgbmFtZT1cImpTZXBhcmF0b3IxXCI+XG4gICAxNTVcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1Nlx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KVGV4dEZpZWxkXCIgbmFtZT1cInR4dFBob25lXCI+XG4gICAxNTdcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1OFx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoZWNrXCI+XG4gICAxNTlcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTYwXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTYxXHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTYyXHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNjNcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgIDE2NFx0ICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9zZWFyY2gucG5nXCIvPlxuICAgMTY1XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNjZcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIktpJiN4MWVjMzttIHRyYVwiLz5cbiAgIDE2N1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgMTY4XHQgICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAxNjlcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE3MFx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTcxXHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzJcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0UGFzc3dvcmRcIj5cbiAgIDE3M1x0ICAgIDwvQ29tcG9uZW50PlxuICAgMTc0XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dENvbmZpcm1QYXNzd29yZFwiPlxuICAgMTc1XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzZcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5DaGFuZ2VcIj5cbiAgIDE3N1x0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxNzhcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAxNzlcdCAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAxODBcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE4MVx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgMTgyXHQgICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiLz5cbiAgIDE4M1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTg0XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNTtpIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3VcIi8+XG4gICAxODVcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgIDE4Nlx0ICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgMTg3XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxODhcdCAgICAgIDwvUHJvcGVydGllcz5cbiAgIDE4OVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTkwXHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgMTkxXHQgICAgICA8UHJvcGVydGllcz5cbiAgIDE5Mlx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDE5M1x0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgIDE5NFx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTk1XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAxOTZcdCAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvbG9nb3V0LnBuZ1wiLz5cbiAgIDE5N1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTk4XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJUaG8mI3hlMTt0XCIvPlxuICAgMTk5XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAyMDBcdCAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgIDIwMVx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMjAyXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAyMDNcdCAgICAgIDxFdmVudHM+XG4gICAyMDRcdCAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLz5cbiAgIDIwNVx0ICAgICAgPC9FdmVudHM+XG4gICAyMDZcdCAgICA8L0NvbXBvbmVudD5cbiAgIDIwN1x0ICA8L1N1YkNvbXBvbmVudHM+XG4gICAyMDhcdDwvRm9ybT5cbiAgIDIwOVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyMDlcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFKWlMzYW5NNUN6UTQ1N0tudWZwQmp0In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6Mjc6MjYuMzIxWiIsInJlc3BvbnNlX3RleHQiOiJJIHNlZSB0aGUgaXNzdWUuIFRoZSBmb3JtIGZpbGUgZG9lc24ndCBoYXZlIHRoZSBldmVudCBoYW5kbGVycyBmb3IgdGhlIENoZWNrIGFuZCBDaGFuZ2UgYnV0dG9ucy4gV2UgbmVlZCB0byB1cGRhdGUgdGhlIGZvcm0gZmlsZSB0byBpbmNsdWRlIHRoZXNlIGV2ZW50IGhhbmRsZXJzLiBMZXQncyBtb2RpZnkgdGhlIGZvcm0gZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwMzFhZWNjMy02ZjUyLTQyYzMtYTkzOS1mMjA4ZDNjMTZlODYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxWVN5b1Q2MTRaQUhjbWdicms4Vk5OViIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XFxuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm5ld19zdHJcIjogXCJpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XFxuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA5fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBMb2dpbiBjbGFzcyBpcyBwcm9wZXJseSBpbXBvcnRlZCBpbiB0aGUgRm9yZ290UGFzc3dvcmQgY2xhc3M6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmZvcm0uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMTU1XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNTZcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlRleHRGaWVsZFwiIG5hbWU9XCJ0eHRQaG9uZVwiPlxuICAgMTU3XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNThcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5DaGVja1wiPlxuICAgMTU5XHQgICAgICA8UHJvcGVydGllcz5cbiAgIDE2MFx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDE2MVx0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgIDE2Mlx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTYzXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAxNjRcdCAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvc2VhcmNoLnBuZ1wiLz5cbiAgIDE2NVx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTY2XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJLaSYjeDFlYzM7bSB0cmFcIi8+XG4gICAxNjdcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgIDE2OFx0ICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgMTY5XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNzBcdCAgICAgIDwvUHJvcGVydGllcz5cbiAgIDE3MVx0ICAgICAgPEV2ZW50cz5cbiAgIDE3Mlx0ICAgICAgICA8RXZlbnRIYW5kbGVyIGV2ZW50PVwiYWN0aW9uUGVyZm9ybWVkXCIgbGlzdGVuZXI9XCJqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lclwiIHBhcmFtZXRlcnM9XCJqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudFwiIGhhbmRsZXI9XCJidG5DaGVja0FjdGlvblBlcmZvcm1lZFwiLz5cbiAgIDE3M1x0ICAgICAgPC9FdmVudHM+XG4gICAxNzRcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE3NVx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRQYXNzd29yZFwiPlxuICAgMTc2XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzdcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0Q29uZmlybVBhc3N3b3JkXCI+XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAxNzZcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE3N1x0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRDb25maXJtUGFzc3dvcmRcIj5cbiAgIDE3OFx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTc5XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuQ2hhbmdlXCI+XG4gICAxODBcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTgxXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTgyXHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTgzXHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxODRcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgIDE4NVx0ICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIi8+XG4gICAxODZcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE4N1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiJiN4MTEwOyYjeDFlZDU7aSBtJiN4MWVhZDt0IGtoJiN4MWVhOTt1XCIvPlxuICAgMTg4XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAxODlcdCAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgIDE5MFx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTkxXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAxOTJcdCAgICAgIDxFdmVudHM+XG4gICAxOTNcdCAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXCIvPlxuICAgMTk0XHQgICAgICA8L0V2ZW50cz5cbiAgIDE5NVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTk2XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgMTk3XHQgICAgICA8UHJvcGVydGllcz5cbiAgIDE5OFx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVRxZlVLN1J0dll5ZnE5c0JDRTdoMXEifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToyNzo0Mi43NDZaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgTG9naW4gY2xhc3MgaXMgcHJvcGVybHkgaW1wb3J0ZWQgaW4gdGhlIEZvcmdvdFBhc3N3b3JkIGNsYXNzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjEwMmQ2YTczLTVlNDktNGZiNS05ODE3LTIwNmI4ODFiMmQwOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFQcFdpMTlQakVuOU4xZzNIZllHbzhLIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsxLCAyMF19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGNoZWNrIGlmIHRoZSBMb2dpbiBjbGFzcyBpcyBwcm9wZXJseSBpbXBvcnRlZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG4gICAgIDhcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA5XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTBcdFxuICAgIDExXHQvKipcbiAgICAxMlx0ICpcbiAgICAxM1x0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVlTeW9UNjE0WkFIY21nYnJrOFZOTlYifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToyNzo0OS4wMTRaIiwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBjaGVjayBpZiB0aGUgTG9naW4gY2xhc3MgaXMgcHJvcGVybHkgaW1wb3J0ZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiN2M4ODQxOGMtY2U4Ni00NzlhLTllMjQtY2FjMzcwMTkxZDAzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMU1pZlhydmJzNXhRZHVjTWhSOVdKc1ciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcXG5pbXBvcnQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5Mb2dpbjtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogOX1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IldlIG5lZWQgdG8gYWRkIHRoZSBMb2dpbiBjbGFzcyBpbXBvcnQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAgIDFcdC8qXG4gICAgIDJcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG4gICAgIDhcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA5XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTBcdFxuICAgIDExXHQvKipcbiAgICAxMlx0ICpcbiAgICAxM1x0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNFx0ICovXG4gICAgMTVcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgMTZcdCAgICBwcml2YXRlIFN1YnNjcmliZXIgY3VycmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIDE3XHQgICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgMThcdFxuICAgIDE5XHQgICAgLyoqXG4gICAgMjBcdCAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMDVcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFQcFdpMTlQakVuOU4xZzNIZllHbzhLIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6Mjc6NTIuMzI5WiIsInJlc3BvbnNlX3RleHQiOiJXZSBuZWVkIHRvIGFkZCB0aGUgTG9naW4gY2xhc3MgaW1wb3J0OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImMyZjY1ZTNkLWUwNjMtNDFiNS1iNjAwLTg4Y2FmNzRkN2E1MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDExb0NHUldvYVF1TWNBd0NaN0tIUnZCIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsyMjAsIDI2MF19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgb3RoZXIgaXNzdWVzIHdpdGggdGhlIGltcGxlbWVudGF0aW9uOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0aW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4gICAgMTFcdFxuICAgIDEyXHQvKipcbiAgICAxM1x0ICpcbiAgICAxNFx0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMU1pZlhydmJzNXhRZHVjTWhSOVdKc1cifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMToyNzo1Ny44MTdaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyBjaGVjayBpZiB0aGVyZSBhcmUgYW55IG90aGVyIGlzc3VlcyB3aXRoIHRoZSBpbXBsZW1lbnRhdGlvbjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1MmI0ZDkxNy1iOGRkLTQ3NGUtOWI0ZC05YmY5NDJjOTk3MjYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxV3JuTEMzTUVleTJiOXZlOXJDQUVKdyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XFxuICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJUXFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cXG4gICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiS2hcXHUwMGY0bmcgdFxcdTAwZWNtIHRoXFx1MWVhNXkgdFxcdTAwZTBpIGtob1xcdTFlYTNuIHZcXHUxZWRiaSBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIG5cXHUwMGUweSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XFxuICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJUXFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cXG4gICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIktoXFx1MDBmNG5nIHRcXHUwMGVjbSB0aFxcdTFlYTV5IHRcXHUwMGUwaSBraG9cXHUxZWEzbiB2XFx1MWVkYmkgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSBuXFx1MDBlMHkhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIyNCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyNDV9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJUaGUgaW1wbGVtZW50YXRpb24gbG9va3MgZ29vZC4gTGV0J3MgbWFrZSBvbmUgbW9yZSBpbXByb3ZlbWVudCB0byB0aGUgbGF5b3V0IHRvIGVuc3VyZSB0aGUgYnV0dG9ucyBhcmUgcHJvcGVybHkgcG9zaXRpb25lZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgIDIyMFx0XG4gICAyMjFcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMjJcdCAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXG4gICAyMjNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjI0XHRcbiAgIDIyNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMVx0XG4gICAyMzJcdCAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cbiAgIDIzM1x0ICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgIDIzNFx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgMjM1XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjM2XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyMzdcdCAgICAgICAgICAgIH1cbiAgIDIzOFx0ICAgICAgICB9XG4gICAyMzlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjQwXHRcbiAgIDI0MVx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNDJcdCAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjQzXHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAyNDRcdFxuICAgMjQ1XHQgICAgICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgIDI0OFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpLlwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjQ5XHQgICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI1MFx0ICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjUxXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjUyXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRo4bqldCBi4bqhaSEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdS5cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1M1x0ICAgICAgICAgICAgfVxuICAgMjU0XHQgICAgICAgIH1cbiAgIDI1NVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjU2XHRcbiAgIDI1N1x0ICAgIC8qKlxuICAgMjU4XHQgICAgICogQHBhcmFtIGFyZ3MgdGhlIGNvbW1hbmQgbGluZSBhcmd1bWVudHNcbiAgIDI1OVx0ICAgICAqL1xuICAgMjYwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3NbXSkge1xuVG90YWwgbGluZXMgaW4gZmlsZTogMzA2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxMW9DR1JXb2FRdU1jQXdDWjdLSFJ2QiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjI4OjAxLjQ1MFoiLCJyZXNwb25zZV90ZXh0IjoiVGhlIGltcGxlbWVudGF0aW9uIGxvb2tzIGdvb2QuIExldCdzIG1ha2Ugb25lIG1vcmUgaW1wcm92ZW1lbnQgdG8gdGhlIGxheW91dCB0byBlbnN1cmUgdGhlIGJ1dHRvbnMgYXJlIHByb3Blcmx5IHBvc2l0aW9uZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYzEwMWI0Y2UtMjhlMi00M2FiLWI3NGQtNTEwMjhjMWRmYjA5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IHRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgd29yayBjb3JyZWN0bHkuIExldCdzIHN1bW1hcml6ZSB0aGUgY2hhbmdlcyB3ZSd2ZSBtYWRlOlxuXG4xLiAqKkFkZGVkIG1ldGhvZHMgdG8gU3Vic2NyaWJlckRBTzoqKlxuICAgLSBgZ2V0QnlQaG9uZShTdHJpbmcgcGhvbmUpYDogRmluZHMgYSBzdWJzY3JpYmVyIGJ5IHBob25lIG51bWJlclxuICAgLSBgdXBkYXRlUGFzc3dvcmQoaW50IHVzZXJJZCwgU3RyaW5nIG5ld1Bhc3N3b3JkKWA6IFVwZGF0ZXMgYSB1c2VyJ3MgcGFzc3dvcmRcblxuMi4gKipJbXBsZW1lbnRlZCBldmVudCBoYW5kbGVycyBpbiBGb3Jnb3RQYXNzd29yZDoqKlxuICAgLSBgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRgOiBWYWxpZGF0ZXMgcGhvbmUgbnVtYmVyLCBzZWFyY2hlcyBmb3IgdXNlciwgYW5kIHNob3dzIHBhc3N3b3JkIGZpZWxkcyBpZiBmb3VuZFxuICAgLSBgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkYDogVmFsaWRhdGVzIG5ldyBwYXNzd29yZCwgY29uZmlybXMgaXQgbWF0Y2hlcywgYW5kIHVwZGF0ZXMgdGhlIHVzZXIncyBwYXNzd29yZFxuXG4zLiAqKkVuaGFuY2VkIHZhbGlkYXRpb246KipcbiAgIC0gQWRkZWQgcGFzc3dvcmQgbWF0Y2hpbmcgdmFsaWRhdGlvblxuICAgLSBJbXByb3ZlZCBlcnJvciBtZXNzYWdlc1xuICAgLSBBZGRlZCBzdWNjZXNzIG1lc3NhZ2VzXG5cbjQuICoqSW1wcm92ZWQgVUkgZmxvdzoqKlxuICAgLSBEaXNhYmxlZCBhbmQgaGlkIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b24gYWZ0ZXIgc3VjY2Vzc2Z1bCBwaG9uZSB2ZXJpZmljYXRpb25cbiAgIC0gQWRkZWQgbmF2aWdhdGlvbiB0byBMb2dpbiBzY3JlZW4gYWZ0ZXIgcGFzc3dvcmQgY2hhbmdlXG4gICAtIE1vZGlmaWVkIEV4aXQgYnV0dG9uIHRvIHJldHVybiB0byBMb2dpbiBzY3JlZW4gaW5zdGVhZCBvZiBjbG9zaW5nIHRoZSBhcHBsaWNhdGlvblxuXG41LiAqKkZpeGVkIGZvcm0gZmlsZToqKlxuICAgLSBBZGRlZCBldmVudCBoYW5kbGVycyBmb3IgdGhlIENoZWNrIGFuZCBDaGFuZ2UgYnV0dG9ucyBpbiB0aGUgZm9ybSBmaWxlXG4gICAtIEFkZGVkIHByb3BlciBpbXBvcnQgZm9yIHRoZSBMb2dpbiBjbGFzc1xuXG5UaGUgaW1wbGVtZW50YXRpb24gbm93IGZvbGxvd3MgdGhlIHJlcXVpcmVtZW50czpcbi0gSXQgdmFsaWRhdGVzIHRoZSBwaG9uZSBudW1iZXIgZmlyc3Rcbi0gT25seSBhbGxvd3MgbmV3IHBhc3N3b3JkIGVudHJ5IGFmdGVyIGEgY29ycmVjdCBwaG9uZSBudW1iZXIgaXMgZm91bmRcbi0gU2hvd3MgYXBwcm9wcmlhdGUgZXJyb3IgYW5kIHN1Y2Nlc3MgbWVzc2FnZXNcbi0gRW5zdXJlcyBwYXNzd29yZCBjb25maXJtYXRpb24gbWF0Y2hlcyB0aGUgbmV3IHBhc3N3b3JkXG5cblRvIHRlc3QgdGhpcyBpbXBsZW1lbnRhdGlvbjpcbjEuIFJ1biB0aGUgYXBwbGljYXRpb25cbjIuIE5hdmlnYXRlIHRvIHRoZSBGb3Jnb3RQYXNzd29yZCBzY3JlZW5cbjMuIEVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIGFuZCBjbGljayBcIktp4buDbSB0cmFcIlxuNC4gSWYgdGhlIHBob25lIG51bWJlciBleGlzdHMsIGVudGVyIGEgbmV3IHBhc3N3b3JkIGFuZCBjb25maXJtIGl0XG41LiBDbGljayBcIsSQ4buVaSBt4bqtdCBraOG6qXVcIiB0byB1cGRhdGUgdGhlIHBhc3N3b3JkXG42LiBWZXJpZnkgeW91IGNhbiBsb2cgaW4gd2l0aCB0aGUgbmV3IHBhc3N3b3JkXG5cblRoZSBidXR0b25zIHNob3VsZCBub3cgd29yayBjb3JyZWN0bHkuIElmIHlvdSBlbmNvdW50ZXIgYW55IG90aGVyIGlzc3VlcywgcGxlYXNlIGxldCBtZSBrbm93IVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDIxMlx0ICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyMTNcdCAgICAgICAgfVxuICAgMjE0XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjE1XHRcbiAgIDIxNlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjE3XHQgICAgICAgIGlmICh2YWxpZGF0ZVBob25lKCkpIHtcbiAgIDIxOFx0ICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgMjE5XHQgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XG4gICAyMjBcdFxuICAgMjIxXHQgICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjIyXHQgICAgICAgICAgICAgICAgLy8gUGhvbmUgbnVtYmVyIGZvdW5kLCBzaG93IHBhc3N3b3JkIGZpZWxkc1xuICAgMjIzXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJUw6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgIDIyNFx0XG4gICAyMjVcdCAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjZcdCAgICAgICAgICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyN1x0ICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyOFx0ICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjlcdCAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjMwXHQgICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzFcdFxuICAgMjMyXHQgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXG4gICAyMzNcdCAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAyMzRcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgIDIzNVx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldFZpc2libGUoZmFsc2UpO1xuICAgMjM2XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjM3XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyMzhcdCAgICAgICAgICAgIH1cbiAgIDIzOVx0ICAgICAgICB9XG4gICAyNDBcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjQxXHRcbiAgIDI0Mlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNDNcdCAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjQ0XHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFXcm5MQzNNRWV5MmI5dmU5ckNBRUp3In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6Mjg6MTcuODYwWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgdGhlIGltcGxlbWVudGF0aW9uIHNob3VsZCB3b3JrIGNvcnJlY3RseS4gTGV0J3Mgc3VtbWFyaXplIHRoZSBjaGFuZ2VzIHdlJ3ZlIG1hZGU6XG5cbjEuICoqQWRkZWQgbWV0aG9kcyB0byBTdWJzY3JpYmVyREFPOioqXG4gICAtIGBnZXRCeVBob25lKFN0cmluZyBwaG9uZSlgOiBGaW5kcyBhIHN1YnNjcmliZXIgYnkgcGhvbmUgbnVtYmVyXG4gICAtIGB1cGRhdGVQYXNzd29yZChpbnQgdXNlcklkLCBTdHJpbmcgbmV3UGFzc3dvcmQpYDogVXBkYXRlcyBhIHVzZXIncyBwYXNzd29yZFxuXG4yLiAqKkltcGxlbWVudGVkIGV2ZW50IGhhbmRsZXJzIGluIEZvcmdvdFBhc3N3b3JkOioqXG4gICAtIGBidG5DaGVja0FjdGlvblBlcmZvcm1lZGA6IFZhbGlkYXRlcyBwaG9uZSBudW1iZXIsIHNlYXJjaGVzIGZvciB1c2VyLCBhbmQgc2hvd3MgcGFzc3dvcmQgZmllbGRzIGlmIGZvdW5kXG4gICAtIGBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRgOiBWYWxpZGF0ZXMgbmV3IHBhc3N3b3JkLCBjb25maXJtcyBpdCBtYXRjaGVzLCBhbmQgdXBkYXRlcyB0aGUgdXNlcidzIHBhc3N3b3JkXG5cbjMuICoqRW5oYW5jZWQgdmFsaWRhdGlvbjoqKlxuICAgLSBBZGRlZCBwYXNzd29yZCBtYXRjaGluZyB2YWxpZGF0aW9uXG4gICAtIEltcHJvdmVkIGVycm9yIG1lc3NhZ2VzXG4gICAtIEFkZGVkIHN1Y2Nlc3MgbWVzc2FnZXNcblxuNC4gKipJbXByb3ZlZCBVSSBmbG93OioqXG4gICAtIERpc2FibGVkIGFuZCBoaWQgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvbiBhZnRlciBzdWNjZXNzZnVsIHBob25lIHZlcmlmaWNhdGlvblxuICAgLSBBZGRlZCBuYXZpZ2F0aW9uIHRvIExvZ2luIHNjcmVlbiBhZnRlciBwYXNzd29yZCBjaGFuZ2VcbiAgIC0gTW9kaWZpZWQgRXhpdCBidXR0b24gdG8gcmV0dXJuIHRvIExvZ2luIHNjcmVlbiBpbnN0ZWFkIG9mIGNsb3NpbmcgdGhlIGFwcGxpY2F0aW9uXG5cbjUuICoqRml4ZWQgZm9ybSBmaWxlOioqXG4gICAtIEFkZGVkIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgQ2hlY2sgYW5kIENoYW5nZSBidXR0b25zIGluIHRoZSBmb3JtIGZpbGVcbiAgIC0gQWRkZWQgcHJvcGVyIGltcG9ydCBmb3IgdGhlIExvZ2luIGNsYXNzXG5cblRoZSBpbXBsZW1lbnRhdGlvbiBub3cgZm9sbG93cyB0aGUgcmVxdWlyZW1lbnRzOlxuLSBJdCB2YWxpZGF0ZXMgdGhlIHBob25lIG51bWJlciBmaXJzdFxuLSBPbmx5IGFsbG93cyBuZXcgcGFzc3dvcmQgZW50cnkgYWZ0ZXIgYSBjb3JyZWN0IHBob25lIG51bWJlciBpcyBmb3VuZFxuLSBTaG93cyBhcHByb3ByaWF0ZSBlcnJvciBhbmQgc3VjY2VzcyBtZXNzYWdlc1xuLSBFbnN1cmVzIHBhc3N3b3JkIGNvbmZpcm1hdGlvbiBtYXRjaGVzIHRoZSBuZXcgcGFzc3dvcmRcblxuVG8gdGVzdCB0aGlzIGltcGxlbWVudGF0aW9uOlxuMS4gUnVuIHRoZSBhcHBsaWNhdGlvblxuMi4gTmF2aWdhdGUgdG8gdGhlIEZvcmdvdFBhc3N3b3JkIHNjcmVlblxuMy4gRW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIgYW5kIGNsaWNrIFwiS2nhu4NtIHRyYVwiXG40LiBJZiB0aGUgcGhvbmUgbnVtYmVyIGV4aXN0cywgZW50ZXIgYSBuZXcgcGFzc3dvcmQgYW5kIGNvbmZpcm0gaXRcbjUuIENsaWNrIFwixJDhu5VpIG3huq10IGto4bqpdVwiIHRvIHVwZGF0ZSB0aGUgcGFzc3dvcmRcbjYuIFZlcmlmeSB5b3UgY2FuIGxvZyBpbiB3aXRoIHRoZSBuZXcgcGFzc3dvcmRcblxuVGhlIGJ1dHRvbnMgc2hvdWxkIG5vdyB3b3JrIGNvcnJlY3RseS4gSWYgeW91IGVuY291bnRlciBhbnkgb3RoZXIgaXNzdWVzLCBwbGVhc2UgbGV0IG1lIGtub3chXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI5NmY2ODZmZC1kMTEwLTRkYmUtYmI0OS0zNmMyNjVmYjcwYzUiLCJ1dWlkIjoiMWJkNjAzODktZGY5OC00MjVhLThhYzMtMTYyNzhlYWQ1NmJmIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ3MDk5MjYxMTg4LCJ0b1RpbWVzdGFtcCI6MTc0NzA5OTcwNzQ4Niwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InJlcXVlc3RfaWQiOiIzMzI1MWM5Yi00N2E3LTQ4YWYtODkzMy05NmJiZmFjNzZjYzciLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjJkZDEyZDA1LWY3ZmItNDAwNC1hM2ZkLTRmZjJlYzg1MDlmOCIsInJlcXVlc3RfbWVzc2FnZSI6IndoZW4gaSBwcmVzcyB0aGUgY2hlY2sgYnV0dG9uIGl0IHNob3dzIG5vdGhpbmcgZXZlbiBpZiBpIGVudGVyIG5vdGhpbmciLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0Ijoid2hlbiBpIHByZXNzIHRoZSBjaGVjayBidXR0b24gaXQgc2hvd3Mgbm90aGluZyBldmVuIGlmIGkgZW50ZXIgbm90aGluZyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUYyemdmekJvN3NjYWRxekgyUFFteTYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xcbiAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcXG4gICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgLy8gUGhvbmUgbnVtYmVyIGZvdW5kLCBzaG93IHBhc3N3b3JkIGZpZWxkc1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiVFxcdTAwZWNtIHRoXFx1MWVhNXkgdFxcdTAwZTBpIGtob1xcdTFlYTNuIHZcXHUxZWRiaSBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIG5cXHUwMGUweSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXFxuICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XFxuICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJLaFxcdTAwZjRuZyB0XFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIERlYnVnIG1lc3NhZ2UgdG8gY29uZmlybSBidXR0b24gY2xpY2sgaXMgcmVnaXN0ZXJlZFxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJDaGVjayBidXR0b24gY2xpY2tlZCFcXFwiKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ2hlY2sgaWYgcGhvbmUgZmllbGQgaXMgZW1wdHlcXG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKS50cmltKCk7XFxuICAgICAgICBpZiAocGhvbmUuaXNFbXB0eSgpKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIG5oXFx1MWVhZHAgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJQaG9uZSB2YWxpZGF0aW9uIHBhc3NlZDogXFxcIiArIHBob25lKTtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XFxuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiRGF0YWJhc2UgcXVlcnkgY29tcGxldGVkLiBSZXN1bHQ6IFxcXCIgKyAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCA/IFxcXCJGb3VuZFxcXCIgOiBcXFwiTm90IGZvdW5kXFxcIikpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcXG4gICAgICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJUXFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cXG4gICAgICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiS2hcXHUwMGY0bmcgdFxcdTAwZWNtIHRoXFx1MWVhNXkgdFxcdTAwZTBpIGtob1xcdTFlYTNuIHZcXHUxZWRiaSBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIG5cXHUwMGUweSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJFeGNlcHRpb24gb2NjdXJyZWQ6IFxcXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIkxcXHUxZWQ3aSBraGkgdFxcdTAwZWNtIGtpXFx1MWViZm06IFxcXCIgKyBleC5nZXRNZXNzYWdlKCksIFxcXCJMXFx1MWVkN2lcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMTYsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjQwfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgZml4IHRoZSBpc3N1ZSB3aXRoIHRoZSBDaGVjayBidXR0b24gbm90IHNob3dpbmcgYW55IHJlc3BvbnNlLiBUaGUgcHJvYmxlbSBtaWdodCBiZSB0aGF0IHRoZSBldmVudCBoYW5kbGVyIGlzbid0IGJlaW5nIHRyaWdnZXJlZCBvciB0aGVyZSdzIGFuIGVycm9yIGluIHRoZSB2YWxpZGF0aW9uIGxvZ2ljLiBMZXQncyBkZWJ1ZyB0aGlzIHN0ZXAgYnkgc3RlcC5cblxuRmlyc3QsIGxldCdzIGFkZCBhIHNpbXBsZSBtZXNzYWdlIHRvIGNvbmZpcm0gdGhlIGJ1dHRvbiBjbGljayBpcyBiZWluZyByZWdpc3RlcmVkOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJ3aGVuIGkgcHJlc3MgdGhlIGNoZWNrIGJ1dHRvbiBpdCBzaG93cyBub3RoaW5nIGV2ZW4gaWYgaSBlbnRlciBub3RoaW5nIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MzA6NDguNzk3WiIsInJlc3BvbnNlX3RleHQiOiJMZXQncyBmaXggdGhlIGlzc3VlIHdpdGggdGhlIENoZWNrIGJ1dHRvbiBub3Qgc2hvd2luZyBhbnkgcmVzcG9uc2UuIFRoZSBwcm9ibGVtIG1pZ2h0IGJlIHRoYXQgdGhlIGV2ZW50IGhhbmRsZXIgaXNuJ3QgYmVpbmcgdHJpZ2dlcmVkIG9yIHRoZXJlJ3MgYW4gZXJyb3IgaW4gdGhlIHZhbGlkYXRpb24gbG9naWMuIExldCdzIGRlYnVnIHRoaXMgc3RlcCBieSBzdGVwLlxuXG5GaXJzdCwgbGV0J3MgYWRkIGEgc2ltcGxlIG1lc3NhZ2UgdG8gY29uZmlybSB0aGUgYnV0dG9uIGNsaWNrIGlzIGJlaW5nIHJlZ2lzdGVyZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZGYxMjk4NGItYWIzMS00ZTE4LWE2MmEtMjhkZTEwOTA0YmIzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVJTYWZvdFBkUEdwZ0JGeHRHckNtd1ciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzIxNSwgMjQwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJIHNlZSB0aGUgaXNzdWUuIFRoZXJlJ3MgYW4gaW5kZW50YXRpb24gZGlmZmVyZW5jZSBpbiB0aGUgY29kZS4gTGV0J3MgdHJ5IGFnYWluIHdpdGggdGhlIGNvcnJlY3QgaW5kZW50YXRpb246XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcbk5vIHJlcGxhY2VtZW50IHdhcyBwZXJmb3JtZWQsIG9sZFN0ciBkaWQgbm90IGFwcGVhciB2ZXJiYXRpbSBpbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuVGhlIGNvbnRlbnQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG4gICAyMTJcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjEzXHQgICAgICAgIH1cbiAgIDIxNFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIxN1x0ICAgICAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgMjE4XHQgICAgICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAyMTlcdCAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcbiAgIDIyMFx0XG4gICAyMjFcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMjJcdCAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXG4gICAyMjNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjI0XHRcbiAgIDIyNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMVx0XG4gICAyMzJcdCAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cbiAgIDIzM1x0ICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgIDIzNFx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgMjM1XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0VmlzaWJsZShmYWxzZSk7XG4gICAyMzZcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyMzdcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDIzOFx0ICAgICAgICAgICAgfVxuICAgMjM5XHQgICAgICAgIH1cbiAgIDI0MFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNDFcdFxuICAgMjQyXHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI0M1x0ICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyNDRcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsNSArMSw1IEBAXG4gICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuLSAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xuKyAgICAgICAgICAgIGlmICh2YWxpZGF0ZVBob25lKCkpIHtcbiAgICAgICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuIFxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2UgZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNfZXJyb3IiOnRydWUsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxRjJ6Z2Z6Qm83c2NhZHF6SDJQUW15NiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjMxOjA3LjQxNFoiLCJyZXNwb25zZV90ZXh0IjoiSSBzZWUgdGhlIGlzc3VlLiBUaGVyZSdzIGFuIGluZGVudGF0aW9uIGRpZmZlcmVuY2UgaW4gdGhlIGNvZGUuIExldCdzIHRyeSBhZ2FpbiB3aXRoIHRoZSBjb3JyZWN0IGluZGVudGF0aW9uOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjRmNjg3ZjM0LTBiZDctNDBmNC05YjU3LTU1OTlmYWQ5ODhmNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE0Rk5HTWpFeWRVNEVXQTZQUmJHWk1RIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XFxuICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcXG5cXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJUXFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG5cXG4gICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG5cXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXFxuICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XFxuICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJLaFxcdTAwZjRuZyB0XFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIERlYnVnIG1lc3NhZ2UgdG8gY29uZmlybSBidXR0b24gY2xpY2sgaXMgcmVnaXN0ZXJlZFxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJDaGVjayBidXR0b24gY2xpY2tlZCFcXFwiKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ2hlY2sgaWYgcGhvbmUgZmllbGQgaXMgZW1wdHlcXG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKS50cmltKCk7XFxuICAgICAgICBpZiAocGhvbmUuaXNFbXB0eSgpKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIG5oXFx1MWVhZHAgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJQaG9uZSB2YWxpZGF0aW9uIHBhc3NlZDogXFxcIiArIHBob25lKTtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XFxuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiRGF0YWJhc2UgcXVlcnkgY29tcGxldGVkLiBSZXN1bHQ6IFxcXCIgKyAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCA/IFxcXCJGb3VuZFxcXCIgOiBcXFwiTm90IGZvdW5kXFxcIikpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcXG4gICAgICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJUXFx1MDBlY20gdGhcXHUxZWE1eSB0XFx1MDBlMGkga2hvXFx1MWVhM24gdlxcdTFlZGJpIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkgblxcdTAwZTB5IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cXG4gICAgICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiS2hcXHUwMGY0bmcgdFxcdTAwZWNtIHRoXFx1MWVhNXkgdFxcdTAwZTBpIGtob1xcdTFlYTNuIHZcXHUxZWRiaSBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIG5cXHUwMGUweSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJFeGNlcHRpb24gb2NjdXJyZWQ6IFxcXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIkxcXHUxZWQ3aSBraGkgdFxcdTAwZWNtIGtpXFx1MWViZm06IFxcXCIgKyBleC5nZXRNZXNzYWdlKCksIFxcXCJMXFx1MWVkN2lcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMTYsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjQwfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgZml4IHRoZSBpbmRlbnRhdGlvbiBpc3N1ZSBhbmQgYWRkIHRoZSBkZWJ1Z2dpbmcgY29kZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIxN1x0ICAgICAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgMjE4XHQgICAgICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAyMTlcdCAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcbiAgIDIyMFx0XG4gICAyMjFcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMjJcdCAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXG4gICAyMjNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjI0XHRcbiAgIDIyNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMVx0XG4gICAyMzJcdCAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cbiAgIDIzM1x0ICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgIDIzNFx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgMjM1XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0VmlzaWJsZShmYWxzZSk7XG4gICAyMzZcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyMzdcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDIzOFx0ICAgICAgICAgICAgfVxuICAgMjM5XHQgICAgICAgIH1cbiAgIDI0MFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMDdcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFSU2Fmb3RQZFBHcGdCRnh0R3JDbXdXIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MzE6MTEuNzUzWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgSSdsbCBmaXggdGhlIGluZGVudGF0aW9uIGlzc3VlIGFuZCBhZGQgdGhlIGRlYnVnZ2luZyBjb2RlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjAxMWQ3ZjQzLWE2MzgtNDIwMi05YjRiLTljY2I1Nzc3ZTBkNSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE3M2YxUlN6WFJnWDRqaHc3azJiYUxVIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFs0NSwgNTVdfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBhbHNvIGNoZWNrIHRoZSB2YWxpZGF0ZVBob25lIG1ldGhvZCB0byBtYWtlIHN1cmUgaXQncyB3b3JraW5nIGNvcnJlY3RseTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyMTJcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjEzXHQgICAgICAgIH1cbiAgIDIxNFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIxN1x0ICAgICAgICAvLyBEZWJ1ZyBtZXNzYWdlIHRvIGNvbmZpcm0gYnV0dG9uIGNsaWNrIGlzIHJlZ2lzdGVyZWRcbiAgIDIxOFx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDaGVjayBidXR0b24gY2xpY2tlZCFcIik7XG4gICAyMTlcdFxuICAgMjIwXHQgICAgICAgIC8vIENoZWNrIGlmIHBob25lIGZpZWxkIGlzIGVtcHR5XG4gICAyMjFcdCAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgIDIyMlx0ICAgICAgICBpZiAocGhvbmUuaXNFbXB0eSgpKSB7XG4gICAyMjNcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDIyNFx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgMjI1XHQgICAgICAgIH1cbiAgIDIyNlx0XG4gICAyMjdcdCAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgMjI4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJQaG9uZSB2YWxpZGF0aW9uIHBhc3NlZDogXCIgKyBwaG9uZSk7XG4gICAyMjlcdCAgICAgICAgICAgIHRyeSB7XG4gICAyMzBcdCAgICAgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XG4gICAyMzFcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJEYXRhYmFzZSBxdWVyeSBjb21wbGV0ZWQuIFJlc3VsdDogXCIgKyAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCA/IFwiRm91bmRcIiA6IFwiTm90IGZvdW5kXCIpKTtcbiAgIDIzMlx0XG4gICAyMzNcdCAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjM0XHQgICAgICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcbiAgIDIzNVx0ICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjM2XHRcbiAgIDIzN1x0ICAgICAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzhcdCAgICAgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzlcdCAgICAgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjQwXHQgICAgICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNDFcdCAgICAgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI0Mlx0ICAgICAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI0M1x0XG4gICAyNDRcdCAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXG4gICAyNDVcdCAgICAgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjQ2XHQgICAgICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgMjQ3XHQgICAgICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldFZpc2libGUoZmFsc2UpO1xuICAgMjQ4XHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI0OVx0ICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1MFx0ICAgICAgICAgICAgICAgIH1cbiAgIDI1MVx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAyNTJcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFeGNlcHRpb24gb2NjdXJyZWQ6IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgIDI1M1x0ICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgMjU0XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJM4buXaSBraGkgdMOsbSBraeG6v206IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIkzhu5dpXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjU1XHQgICAgICAgICAgICB9XG4gICAyNTZcdCAgICAgICAgfVxuICAgMjU3XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI1OFx0XG4gICAyNTlcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjYwXHQgICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDI2MVx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNEZOR01qRXlkVTRFV0E2UFJiR1pNUSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjMxOjMwLjk4MFoiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGFsc28gY2hlY2sgdGhlIHZhbGlkYXRlUGhvbmUgbWV0aG9kIHRvIG1ha2Ugc3VyZSBpdCdzIHdvcmtpbmcgY29ycmVjdGx5OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjJjZmFkMTI4LWNkMjYtNGJmNS1iMmFhLTc1NjQ5ZjY0M2Q0MSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDEzQjF6b0NxQndvU3d4NDlBanlEZmFZIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZVBob25lKCl7XFxuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XFxuICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIG5oXFx1MWVhZHAgXFx1MDExMVxcdTAwZmFuZyBcXHUwMTExXFx1MWVjYm5oIGRcXHUxZWExbmcgc1xcdTFlZDEgXFx1MDExMWlcXHUxZWM3biB0aG9cXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHRydWU7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcXG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKS50cmltKCk7XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlZhbGlkYXRpbmcgcGhvbmU6IFxcXCIgKyBwaG9uZSk7XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlBob25lIGxlbmd0aDogXFxcIiArIHBob25lLmxlbmd0aCgpKTtcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiTWF0Y2hlcyBwYXR0ZXJuOiBcXFwiICsgcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJWdWkgbFxcdTAwZjJuZyBuaFxcdTFlYWRwIFxcdTAxMTFcXHUwMGZhbmcgXFx1MDExMVxcdTFlY2JuaCBkXFx1MWVhMW5nIHNcXHUxZWQxIFxcdTAxMTFpXFx1MWVjN24gdGhvXFx1MWVhMWkhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiB0cnVlO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1NH1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIHVwZGF0ZSB0aGUgdmFsaWRhdGVQaG9uZSBtZXRob2QgdG8gYWRkIG1vcmUgZGVidWdnaW5nIGluZm9ybWF0aW9uOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhOlxuICAgIDQ1XHQgICAgfVxuICAgIDQ2XHRcbiAgICA0N1x0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcbiAgICA0OFx0ICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgNDlcdCAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDUwXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDUxXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNTJcdCAgICAgICAgfVxuICAgIDUzXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDU0XHQgICAgfVxuICAgIDU1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMyNFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTczZjFSU3pYUmdYNGpodzdrMmJhTFUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTozMTozNS4yOTNaIiwicmVzcG9uc2VfdGV4dCI6IkxldCdzIHVwZGF0ZSB0aGUgdmFsaWRhdGVQaG9uZSBtZXRob2QgdG8gYWRkIG1vcmUgZGVidWdnaW5nIGluZm9ybWF0aW9uOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijk3Yjg4MzFiLTlhY2UtNGE1Yi05YjM5LWMwNTBiMmMxMzMzMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFWZDg2d1pmTnZIaEdlRXlQdnlxYk03IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbODAsIDEwMF19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGFsc28gY2hlY2sgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24gYW5kIHRoZSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUgbWV0aG9kIHRvIG1ha2Ugc3VyZSBpdCdzIHdvcmtpbmcgY29ycmVjdGx5OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0M1x0ICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0NFx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDVcdCAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgIDQ4XHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKS50cmltKCk7XG4gICAgNDlcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVmFsaWRhdGluZyBwaG9uZTogXCIgKyBwaG9uZSk7XG4gICAgNTBcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUGhvbmUgbGVuZ3RoOiBcIiArIHBob25lLmxlbmd0aCgpKTtcbiAgICA1MVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJNYXRjaGVzIHBhdHRlcm46IFwiICsgcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKTtcbiAgICA1Mlx0XG4gICAgNTNcdCAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDU0XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDU1XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNTZcdCAgICAgICAgfVxuICAgIDU3XHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDU4XHQgICAgfVxuICAgIDU5XHRcbiAgICA2MFx0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgNjFcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgIDYyXHQgICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSB0eHRDb25maXJtUGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxM0Ixem9DcUJ3b1N3eDQ5QWp5RGZhWSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjMxOjQ2Ljg1NloiLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGFsc28gY2hlY2sgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24gYW5kIHRoZSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUgbWV0aG9kIHRvIG1ha2Ugc3VyZSBpdCdzIHdvcmtpbmcgY29ycmVjdGx5OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRiMDQ5NjczLTRhYmYtNDZiZS1hN2Q2LWM4YTgwOWU4MWFhMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDEzOTZubTg4TnNlV1JtUE55OXk3MjF1IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5UGhvbmUoU3RyaW5nIHBob25lKSB7XFxuICAgICAgICBTdWJzY3JpYmVyIHN1YnNjcmliZXIgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcXFwiU0VMRUNUIHMuKiwgdS4qIEZST00gU1VCU0NSSUJFUiBzIEpPSU4gVVNFUiB1IE9OIHMudXNlcl9pZCA9IHUudXNlcl9pZCBXSEVSRSBzLnBob25lID0gJ1xcXCIgKyBwaG9uZSArIFxcXCInXFxcIik7XFxuICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIoKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRTdWJzY3JpYmVyX2lkKHJzLmdldEludChcXFwic3Vic2NyaWJlcl9pZFxcXCIpKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRGdWxsTmFtZShycy5nZXRTdHJpbmcoXFxcIm5hbWVcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0QWRkcmVzcyhycy5nZXRTdHJpbmcoXFxcImFkZHJlc3NcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGhvbmUocnMuZ2V0U3RyaW5nKFxcXCJwaG9uZVxcXCIpKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRVc2VyX2lkKHJzLmdldEludChcXFwidXNlcl9pZFxcXCIpKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRVc2VybmFtZShycy5nZXRTdHJpbmcoXFxcInVzZXJuYW1lXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFBhc3N3b3JkKHJzLmdldFN0cmluZyhcXFwicGFzc3dvcmRcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0Um9sZShycy5nZXRTdHJpbmcoXFxcInJvbGVcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0SXNBY3RpdmUocnMuZ2V0Qm9vbGVhbihcXFwiaXNBY3RpdmVcXFwiKSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XFxuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5UGhvbmUoU3RyaW5nIHBob25lKSB7XFxuICAgICAgICBTdWJzY3JpYmVyIHN1YnNjcmliZXIgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlNlYXJjaGluZyBmb3IgcGhvbmU6IFxcXCIgKyBwaG9uZSk7XFxuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCBzLiosIHUuKiBGUk9NIFNVQlNDUklCRVIgcyBKT0lOIFVTRVIgdSBPTiBzLnVzZXJfaWQgPSB1LnVzZXJfaWQgV0hFUkUgcy5waG9uZSA9ICdcXFwiICsgcGhvbmUgKyBcXFwiJ1xcXCI7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJTUUwgUXVlcnk6IFxcXCIgKyBxdWVyeSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEocXVlcnkpO1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiUXVlcnkgZXhlY3V0ZWQsIGNoZWNraW5nIHJlc3VsdHMuLi5cXFwiKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiU3Vic2NyaWJlciBmb3VuZCFcXFwiKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0U3Vic2NyaWJlcl9pZChycy5nZXRJbnQoXFxcInN1YnNjcmliZXJfaWRcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0RnVsbE5hbWUocnMuZ2V0U3RyaW5nKFxcXCJuYW1lXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEFkZHJlc3MocnMuZ2V0U3RyaW5nKFxcXCJhZGRyZXNzXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFBob25lKHJzLmdldFN0cmluZyhcXFwicGhvbmVcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcl9pZChycy5nZXRJbnQoXFxcInVzZXJfaWRcXFwiKSk7XFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcm5hbWUocnMuZ2V0U3RyaW5nKFxcXCJ1c2VybmFtZVxcXCIpKTtcXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQYXNzd29yZChycy5nZXRTdHJpbmcoXFxcInBhc3N3b3JkXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFJvbGUocnMuZ2V0U3RyaW5nKFxcXCJyb2xlXFxcIikpO1xcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldElzQWN0aXZlKHJzLmdldEJvb2xlYW4oXFxcImlzQWN0aXZlXFxcIikpO1xcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlN1YnNjcmliZXIgZGF0YSBsb2FkZWQ6IFxcXCIgKyBzdWJzY3JpYmVyLmdldEZ1bGxOYW1lKCkpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiTm8gc3Vic2NyaWJlciBmb3VuZCB3aXRoIHBob25lOiBcXFwiICsgcGhvbmUpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiRXhjZXB0aW9uIGluIGdldEJ5UGhvbmU6IFxcXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDgxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDEwMX1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIGFkZCBtb3JlIGRlYnVnZ2luZyB0byB0aGUgZ2V0QnlQaG9uZSBtZXRob2Q6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhOlxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeVBob25lKFN0cmluZyBwaG9uZSkge1xuICAgIDgyXHQgICAgICAgIFN1YnNjcmliZXIgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgODNcdCAgICAgICAgdHJ5IHtcbiAgICA4NFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiKTtcbiAgICA4NVx0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgODdcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgODhcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDkwXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTJcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICA5M1x0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgIDk0XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgIDk1XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICB9XG4gICAgOTdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgOThcdCAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDExNFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVZkODZ3WmZOdkhoR2VFeVB2eXFiTTcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTozMTo1Mi43ODhaIiwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGFkZCBtb3JlIGRlYnVnZ2luZyB0byB0aGUgZ2V0QnlQaG9uZSBtZXRob2Q6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiN2Y4YWM4NjgtYTVhNS00YmM5LTg4MzQtY2M5OGE0YjIzNzJkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVlMRnQ2eFZxWEdZaFR1VlZ1bmhBQ0YiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL0RBTy9Db25uZWN0aW9uUHJvdmlkZXIuamF2YVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIGFsc28gY2hlY2sgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb246XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA3N1x0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgNzhcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzlcdCAgICB9XG4gICAgODBcdFxuICAgIDgxXHQgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5UGhvbmUoU3RyaW5nIHBob25lKSB7XG4gICAgODJcdCAgICAgICAgU3Vic2NyaWJlciBzdWJzY3JpYmVyID0gbnVsbDtcbiAgICA4M1x0ICAgICAgICB0cnkge1xuICAgIDg0XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJTZWFyY2hpbmcgZm9yIHBob25lOiBcIiArIHBob25lKTtcbiAgICA4NVx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiO1xuICAgIDg2XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJTUUwgUXVlcnk6IFwiICsgcXVlcnkpO1xuICAgIDg3XHRcbiAgICA4OFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEocXVlcnkpO1xuICAgIDg5XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJRdWVyeSBleGVjdXRlZCwgY2hlY2tpbmcgcmVzdWx0cy4uLlwiKTtcbiAgICA5MFx0XG4gICAgOTFcdCAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICA5Mlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlN1YnNjcmliZXIgZm91bmQhXCIpO1xuICAgIDkzXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgOTRcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgOTVcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDk3XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOThcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTlcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgIDEwMFx0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgMTAxXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgMTAyXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgMTAzXHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiU3Vic2NyaWJlciBkYXRhIGxvYWRlZDogXCIgKyBzdWJzY3JpYmVyLmdldEZ1bGxOYW1lKCkpO1xuICAgMTA0XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMTA1XHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTm8gc3Vic2NyaWJlciBmb3VuZCB3aXRoIHBob25lOiBcIiArIHBob25lKTtcbiAgIDEwNlx0ICAgICAgICAgICAgfVxuICAgMTA3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgMTA4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFeGNlcHRpb24gaW4gZ2V0QnlQaG9uZTogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgMTA5XHQgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExMFx0ICAgICAgICB9XG4gICAxMTFcdCAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAxMTJcdCAgICB9XG4gICAxMTNcdFxuICAgMTE0XHQgICAgcHVibGljIHN0YXRpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkKGludCB1c2VySWQsIFN0cmluZyBuZXdQYXNzd29yZCkge1xuICAgMTE1XHQgICAgICAgIHRyeSB7XG4gICAxMTZcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiVVBEQVRFIFVTRVIgU0VUIHBhc3N3b3JkID0gJ1wiICsgbmV3UGFzc3dvcmQgKyBcIicgV0hFUkUgdXNlcl9pZCA9IFwiICsgdXNlcklkO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxMzk2bm04OE5zZVdSbVBOeTl5NzIxdSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjMyOjA1Ljc2N1oiLCJyZXNwb25zZV90ZXh0IjoiTGV0J3MgYWxzbyBjaGVjayB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhNjY0MTNjZS1hM2Y5LTQ1YmMtYmM2Ni03YzYyNWU0MDljOTYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxUjFoNGV0VkQySG9WOUxFenQzNTFMRCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL0RBTy9Db25uZWN0aW9uUHJvdmlkZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIENsYXNzLmZvck5hbWUoXFxcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclxcXCIpO1xcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XFxuICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIk15U1FMIEpEQkMgRHJpdmVyIG5vdCBmb3VuZC5cXFwiKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIkNvbm5lY3Rpb24gZmFpbGVkLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gY29ubjtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiQXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIGRhdGFiYXNlLi4uXFxcIik7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJVUkw6IFxcXCIgKyBVUkwpO1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXNlcjogXFxcIiArIFVTRVIpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIENsYXNzLmZvck5hbWUoXFxcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclxcXCIpO1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiRHJpdmVyIGxvYWRlZCBzdWNjZXNzZnVsbHlcXFwiKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBjb25uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKFVSTCwgVVNFUiwgUEFTU1dPUkQpO1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiQ29ubmVjdGlvbiBlc3RhYmxpc2hlZDogXFxcIiArIChjb25uICE9IG51bGwpKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcXFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcXFwiQ29ubmVjdGlvbiBmYWlsZWQ6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBjb25uO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxOCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzMn1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIGFkZCBtb3JlIGRlYnVnZ2luZyB0byB0aGUgQ29ubmVjdGlvblByb3ZpZGVyOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhOlxuICAgICAxXHQvKlxuICAgICAyXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IGphdmEuc3FsLio7XG4gICAgIDhcdFxuICAgICA5XHQvKipcbiAgICAxMFx0ICpcbiAgICAxMVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxMlx0ICovXG4gICAgMTNcdHB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIDE0XHQgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVSTCA9IFwiamRiYzpteXNxbDovLzEyNS4yMTIuMjMxLjE4NDo2OTY5L0ludGVybmV0REJcIjtcbiAgICAxNVx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVU0VSID0gXCJtaW50b3JpMDlcIjtcbiAgICAxNlx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgMTdcdCAgICBcbiAgICAxOFx0ICAgIHB1YmxpYyBzdGF0aWMgQ29ubmVjdGlvbiBnZXRDb25uKCl7XG4gICAgMTlcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAyMFx0XG4gICAgMjFcdCAgICAgICAgdHJ5IHtcbiAgICAyMlx0ICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAyM1x0ICAgICAgICAgICAgY29ubiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbihVUkwsIFVTRVIsIFBBU1NXT1JEKTtcbiAgICAyNFx0ICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGUpIHtcbiAgICAyNVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAyNlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyN1x0ICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgIDI4XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgMjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgICAgIHJldHVybiBjb25uO1xuICAgIDMyXHQgICAgfVxuICAgIDMzXHQgICAgXG4gICAgMzRcdCAgICAgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIDM1XHQgICAgICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbiA9IGdldENvbm4oKTtcbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgaWYgKGNvbm5lY3Rpb24gIT0gbnVsbCkge1xuICAgIDM4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJL4bq/dCBu4buRaSB0aMOgbmggY8O0bmchXCIpO1xuICAgIDM5XHQgICAgICAgIH0gZWxzZSB7XG4gICAgNDBcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkvhur90IG7hu5FpIHRo4bqldCBi4bqhaSFcIik7XG4gICAgNDFcdCAgICAgICAgfVxuICAgIDQyXHQgICAgfVxuICAgIDQzXHQgICAgXG4gICAgNDRcdH1cbiAgICA0NVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0NVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVlMRnQ2eFZxWEdZaFR1VlZ1bmhBQ0YifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTozMjowOS4xMjNaIiwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGFkZCBtb3JlIGRlYnVnZ2luZyB0byB0aGUgQ29ubmVjdGlvblByb3ZpZGVyOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIxNTcxYjYzLTAxYzMtNGIyMS1hMjdjLTJkNzBmZjZhNjQzNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFNVnlaMmNNV05CaDJRZUJtZE5IWXBZIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFszMCwgNTBdfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBhbHNvIGNoZWNrIHRoZSBEYk9wZXJhdGlvbnMuZ2V0RGF0YSBtZXRob2Q6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vQ29ubmVjdGlvblByb3ZpZGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDE0XHQgICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVSTCA9IFwiamRiYzpteXNxbDovLzEyNS4yMTIuMjMxLjE4NDo2OTY5L0ludGVybmV0REJcIjtcbiAgICAxNVx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVU0VSID0gXCJtaW50b3JpMDlcIjtcbiAgICAxNlx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgMTdcdFxuICAgIDE4XHQgICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAxOVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDIwXHRcbiAgICAyMVx0ICAgICAgICB0cnkge1xuICAgIDIyXHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBdHRlbXB0aW5nIHRvIGNvbm5lY3QgdG8gZGF0YWJhc2UuLi5cIik7XG4gICAgMjNcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlVSTDogXCIgKyBVUkwpO1xuICAgIDI0XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVc2VyOiBcIiArIFVTRVIpO1xuICAgIDI1XHRcbiAgICAyNlx0ICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAyN1x0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRHJpdmVyIGxvYWRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgMjhcdFxuICAgIDI5XHQgICAgICAgICAgICBjb25uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKFVSTCwgVVNFUiwgUEFTU1dPUkQpO1xuICAgIDMwXHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDb25uZWN0aW9uIGVzdGFibGlzaGVkOiBcIiArIChjb25uICE9IG51bGwpKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBlKSB7XG4gICAgMzNcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIk15U1FMIEpEQkMgRHJpdmVyIG5vdCBmb3VuZC5cIik7XG4gICAgMzRcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMzVcdCAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAzNlx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiQ29ubmVjdGlvbiBmYWlsZWQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDM3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDM4XHQgICAgICAgIH1cbiAgICAzOVx0ICAgICAgICByZXR1cm4gY29ubjtcbiAgICA0MFx0ICAgIH1cbiAgICA0MVx0XG4gICAgNDJcdCAgICAgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIDQzXHQgICAgICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbiA9IGdldENvbm4oKTtcbiAgICA0NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFSMWg0ZXRWRDJIb1Y5TEV6dDM1MUxEIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MzI6MTguNzE4WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgYWxzbyBjaGVjayB0aGUgRGJPcGVyYXRpb25zLmdldERhdGEgbWV0aG9kOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjVjNDI5ODMxLWI2ODMtNDgxYy05MzhiLWZkNTQ0ZGFjZmIzNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFQc2czRG44dkZZZTQ5Z1JlWm1MUVM1IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwdWJsaWMgc3RhdGljIFJlc3VsdFNldCBnZXREYXRhKFN0cmluZyBxdWVyeSl7XFxuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeXtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XFxuICAgICAgICAgICAgcnMgPSBzdC5leGVjdXRlUXVlcnkocXVlcnkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHJldHVybiBycztcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCl7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFxcXCJNZXNzYWdlXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgICAgICB9IFxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBwdWJsaWMgc3RhdGljIFJlc3VsdFNldCBnZXREYXRhKFN0cmluZyBxdWVyeSl7XFxuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeXtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkRiT3BlcmF0aW9ucy5nZXREYXRhIC0gRXhlY3V0aW5nIHF1ZXJ5OiBcXFwiICsgcXVlcnkpO1xcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmIChjb25uID09IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJEYk9wZXJhdGlvbnMuZ2V0RGF0YSAtIENvbm5lY3Rpb24gaXMgbnVsbCFcXFwiKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcXG4gICAgICAgICAgICBycyA9IHN0LmV4ZWN1dGVRdWVyeShxdWVyeSk7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJEYk9wZXJhdGlvbnMuZ2V0RGF0YSAtIFF1ZXJ5IGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseVxcXCIpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHJldHVybiBycztcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCl7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJEYk9wZXJhdGlvbnMuZ2V0RGF0YSAtIEV4Y2VwdGlvbjogXFxcIiArIGV4LmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFxcXCJNZXNzYWdlXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgICAgICB9IFxcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAzMywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0OH1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIGFkZCBkZWJ1Z2dpbmcgdG8gdGhlIGdldERhdGEgbWV0aG9kOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhOlxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0ICAgIFxuICAgIDMzXHQgICAgcHVibGljIHN0YXRpYyBSZXN1bHRTZXQgZ2V0RGF0YShTdHJpbmcgcXVlcnkpe1xuICAgIDM0XHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMzVcdCAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAzNlx0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgIDM3XHQgICAgICAgIFxuICAgIDM4XHQgICAgICAgIHRyeXtcbiAgICAzOVx0ICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgNDBcdCAgICAgICAgICAgIHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICA0MVx0ICAgICAgICAgICAgcnMgPSBzdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuICAgIDQyXHQgICAgICAgICAgICBcbiAgICA0M1x0ICAgICAgICAgICAgcmV0dXJuIHJzO1xuICAgIDQ0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCl7XG4gICAgNDVcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDZcdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIDQ3XHQgICAgICAgIH0gXG4gICAgNDhcdCAgICB9XG4gICAgNDlcdFxuICAgIDUwXHQgICAgcHVibGljIHN0YXRpYyBpbnQgZ2V0TmV4dElkKFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEzMFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMU1WeVoyY01XTkJoMlFlQm1kTkhZcFkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTozMjoyMi44NTVaIiwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGFkZCBkZWJ1Z2dpbmcgdG8gdGhlIGdldERhdGEgbWV0aG9kOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFiMWUzMjY5LTU0YWItNGE5NS1iZGM4LWMxOGY1NDdkMzgwMyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBydW4gdGhlIGFwcGxpY2F0aW9uIGFuZCBzZWUgaWYgd2UgY2FuIGlkZW50aWZ5IHRoZSBpc3N1ZSB3aXRoIHRoZSBkZWJ1Z2dpbmcgaW5mb3JtYXRpb24gd2UndmUgYWRkZWQuIFRoZSBjaGFuZ2VzIHdlJ3ZlIG1hZGUgc2hvdWxkIGhlbHAgdXMgdW5kZXJzdGFuZCB3aGF0J3MgaGFwcGVuaW5nIHdoZW4gdGhlIENoZWNrIGJ1dHRvbiBpcyBjbGlja2VkLlxuXG5IZXJlJ3MgYSBzdW1tYXJ5IG9mIHRoZSBjaGFuZ2VzIHdlJ3ZlIG1hZGU6XG5cbjEuIEFkZGVkIGRlYnVnZ2luZyB0byB0aGUgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQgbWV0aG9kOlxuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBjb25maXJtIHRoZSBidXR0b24gY2xpY2sgaXMgcmVnaXN0ZXJlZFxuICAgLSBBZGRlZCB2YWxpZGF0aW9uIGZvciBlbXB0eSBwaG9uZSBmaWVsZFxuICAgLSBBZGRlZCB0cnktY2F0Y2ggYmxvY2sgdG8gY2F0Y2ggYW5kIGRpc3BsYXkgYW55IGV4Y2VwdGlvbnNcbiAgIC0gQWRkZWQgbW9yZSBkZXRhaWxlZCBjb25zb2xlIG91dHB1dCBhdCBlYWNoIHN0ZXBcblxuMi4gRW5oYW5jZWQgdGhlIHZhbGlkYXRlUGhvbmUgbWV0aG9kOlxuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBzaG93IHRoZSBwaG9uZSBudW1iZXIgYmVpbmcgdmFsaWRhdGVkXG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIHNob3cgdGhlIHZhbGlkYXRpb24gcmVzdWx0c1xuXG4zLiBBZGRlZCBkZWJ1Z2dpbmcgdG8gdGhlIFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZSBtZXRob2Q6XG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIHNob3cgdGhlIFNRTCBxdWVyeSBiZWluZyBleGVjdXRlZFxuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBzaG93IHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeVxuICAgLSBBZGRlZCBtb3JlIGRldGFpbGVkIGV4Y2VwdGlvbiBoYW5kbGluZ1xuXG40LiBBZGRlZCBkZWJ1Z2dpbmcgdG8gdGhlIENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uIG1ldGhvZDpcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gc2hvdyB0aGUgY29ubmVjdGlvbiBkZXRhaWxzXG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIGNvbmZpcm0gd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZFxuXG41LiBBZGRlZCBkZWJ1Z2dpbmcgdG8gdGhlIERiT3BlcmF0aW9ucy5nZXREYXRhIG1ldGhvZDpcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gc2hvdyB0aGUgcXVlcnkgYmVpbmcgZXhlY3V0ZWRcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gY29uZmlybSB3aGVuIHRoZSBxdWVyeSBpcyBleGVjdXRlZCBzdWNjZXNzZnVsbHlcbiAgIC0gQWRkZWQgbW9yZSBkZXRhaWxlZCBleGNlcHRpb24gaGFuZGxpbmdcblxuVGhlc2UgY2hhbmdlcyBzaG91bGQgaGVscCB1cyBpZGVudGlmeSB3aGVyZSB0aGUgaXNzdWUgaXMgb2NjdXJyaW5nLiBXaGVuIHlvdSBydW4gdGhlIGFwcGxpY2F0aW9uIGFuZCBjbGljayB0aGUgQ2hlY2sgYnV0dG9uLCBjaGVjayB0aGUgY29uc29sZSBvdXRwdXQgdG8gc2VlIHdoYXQncyBoYXBwZW5pbmcuIFRoZSBpc3N1ZSBjb3VsZCBiZTpcblxuMS4gVGhlIGJ1dHRvbiBjbGljayBldmVudCBpcyBub3QgYmVpbmcgdHJpZ2dlcmVkXG4yLiBUaGUgcGhvbmUgdmFsaWRhdGlvbiBpcyBmYWlsaW5nXG4zLiBUaGUgZGF0YWJhc2UgY29ubmVjdGlvbiBpcyBmYWlsaW5nXG40LiBUaGUgU1FMIHF1ZXJ5IGlzIG5vdCByZXR1cm5pbmcgYW55IHJlc3VsdHNcblxuQmFzZWQgb24gdGhlIGNvbnNvbGUgb3V0cHV0LCB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSBleGFjdCBpc3N1ZSBhbmQgZml4IGl0LlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyOVx0ICAgICAgICAgICAgfVxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICBwdWJsaWMgc3RhdGljIFJlc3VsdFNldCBnZXREYXRhKFN0cmluZyBxdWVyeSl7XG4gICAgMzRcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAzNVx0ICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgIDM2XHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAgMzdcdFxuICAgIDM4XHQgICAgICAgIHRyeXtcbiAgICAzOVx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBFeGVjdXRpbmcgcXVlcnk6IFwiICsgcXVlcnkpO1xuICAgIDQwXHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA0MVx0XG4gICAgNDJcdCAgICAgICAgICAgIGlmIChjb25uID09IG51bGwpIHtcbiAgICA0M1x0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkRiT3BlcmF0aW9ucy5nZXREYXRhIC0gQ29ubmVjdGlvbiBpcyBudWxsIVwiKTtcbiAgICA0NFx0ICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIDQ1XHQgICAgICAgICAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgNDhcdCAgICAgICAgICAgIHJzID0gc3QuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICA0OVx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBRdWVyeSBleGVjdXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgNTBcdFxuICAgIDUxXHQgICAgICAgICAgICByZXR1cm4gcnM7XG4gICAgNTJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KXtcbiAgICA1M1x0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBFeGNlcHRpb246IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgICA1NFx0ICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTVcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTZcdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIDU3XHQgICAgICAgIH1cbiAgICA1OFx0ICAgIH1cbiAgICA1OVx0XG4gICAgNjBcdCAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xuICAgIDYxXHQgICAgICAgIGludCBuZXh0SWQgPSAxO1xuICAgIDYyXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFQc2czRG44dkZZZTQ5Z1JlWm1MUVM1In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6MzI6MzIuMjk0WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgcnVuIHRoZSBhcHBsaWNhdGlvbiBhbmQgc2VlIGlmIHdlIGNhbiBpZGVudGlmeSB0aGUgaXNzdWUgd2l0aCB0aGUgZGVidWdnaW5nIGluZm9ybWF0aW9uIHdlJ3ZlIGFkZGVkLiBUaGUgY2hhbmdlcyB3ZSd2ZSBtYWRlIHNob3VsZCBoZWxwIHVzIHVuZGVyc3RhbmQgd2hhdCdzIGhhcHBlbmluZyB3aGVuIHRoZSBDaGVjayBidXR0b24gaXMgY2xpY2tlZC5cblxuSGVyZSdzIGEgc3VtbWFyeSBvZiB0aGUgY2hhbmdlcyB3ZSd2ZSBtYWRlOlxuXG4xLiBBZGRlZCBkZWJ1Z2dpbmcgdG8gdGhlIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkIG1ldGhvZDpcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gY29uZmlybSB0aGUgYnV0dG9uIGNsaWNrIGlzIHJlZ2lzdGVyZWRcbiAgIC0gQWRkZWQgdmFsaWRhdGlvbiBmb3IgZW1wdHkgcGhvbmUgZmllbGRcbiAgIC0gQWRkZWQgdHJ5LWNhdGNoIGJsb2NrIHRvIGNhdGNoIGFuZCBkaXNwbGF5IGFueSBleGNlcHRpb25zXG4gICAtIEFkZGVkIG1vcmUgZGV0YWlsZWQgY29uc29sZSBvdXRwdXQgYXQgZWFjaCBzdGVwXG5cbjIuIEVuaGFuY2VkIHRoZSB2YWxpZGF0ZVBob25lIG1ldGhvZDpcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gc2hvdyB0aGUgcGhvbmUgbnVtYmVyIGJlaW5nIHZhbGlkYXRlZFxuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBzaG93IHRoZSB2YWxpZGF0aW9uIHJlc3VsdHNcblxuMy4gQWRkZWQgZGVidWdnaW5nIHRvIHRoZSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUgbWV0aG9kOlxuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBzaG93IHRoZSBTUUwgcXVlcnkgYmVpbmcgZXhlY3V0ZWRcbiAgIC0gQWRkZWQgY29uc29sZSBvdXRwdXQgdG8gc2hvdyB0aGUgcmVzdWx0cyBvZiB0aGUgcXVlcnlcbiAgIC0gQWRkZWQgbW9yZSBkZXRhaWxlZCBleGNlcHRpb24gaGFuZGxpbmdcblxuNC4gQWRkZWQgZGVidWdnaW5nIHRvIHRoZSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubiBtZXRob2Q6XG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIHNob3cgdGhlIGNvbm5lY3Rpb24gZGV0YWlsc1xuICAgLSBBZGRlZCBjb25zb2xlIG91dHB1dCB0byBjb25maXJtIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWRcblxuNS4gQWRkZWQgZGVidWdnaW5nIHRvIHRoZSBEYk9wZXJhdGlvbnMuZ2V0RGF0YSBtZXRob2Q6XG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIHNob3cgdGhlIHF1ZXJ5IGJlaW5nIGV4ZWN1dGVkXG4gICAtIEFkZGVkIGNvbnNvbGUgb3V0cHV0IHRvIGNvbmZpcm0gd2hlbiB0aGUgcXVlcnkgaXMgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5XG4gICAtIEFkZGVkIG1vcmUgZGV0YWlsZWQgZXhjZXB0aW9uIGhhbmRsaW5nXG5cblRoZXNlIGNoYW5nZXMgc2hvdWxkIGhlbHAgdXMgaWRlbnRpZnkgd2hlcmUgdGhlIGlzc3VlIGlzIG9jY3VycmluZy4gV2hlbiB5b3UgcnVuIHRoZSBhcHBsaWNhdGlvbiBhbmQgY2xpY2sgdGhlIENoZWNrIGJ1dHRvbiwgY2hlY2sgdGhlIGNvbnNvbGUgb3V0cHV0IHRvIHNlZSB3aGF0J3MgaGFwcGVuaW5nLiBUaGUgaXNzdWUgY291bGQgYmU6XG5cbjEuIFRoZSBidXR0b24gY2xpY2sgZXZlbnQgaXMgbm90IGJlaW5nIHRyaWdnZXJlZFxuMi4gVGhlIHBob25lIHZhbGlkYXRpb24gaXMgZmFpbGluZ1xuMy4gVGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24gaXMgZmFpbGluZ1xuNC4gVGhlIFNRTCBxdWVyeSBpcyBub3QgcmV0dXJuaW5nIGFueSByZXN1bHRzXG5cbkJhc2VkIG9uIHRoZSBjb25zb2xlIG91dHB1dCwgd2UgY2FuIGRldGVybWluZSB0aGUgZXhhY3QgaXNzdWUgYW5kIGZpeCBpdC5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6IjEzZmI1ZWE2LTVhYWQtNGIyZi05MzM3LWY2MmMwOTQwYjRhOSIsInV1aWQiOiI3NzI3MDM5OS04OGE4LTQxZGMtODFhOC0wZTIyZGE5NTc3MjgiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDcwOTk3MDc0ODYsInRvVGltZXN0YW1wIjoxNzQ3MDk5OTYxOTE5LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6Ijg4Y2RkZTlmLThiNWItNDAyNC04NjNmLWNjNmIzZDQwM2QyNiIsInV1aWQiOiI5MGY3YmJjNC1lMmM1LTQ0MmUtYTNkYi0zZmExMjYwZTU0NzciLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDcwOTk5NjE5MTksInRvVGltZXN0YW1wIjoxNzQ3MDk5OTg0NTkzLCJyZXZlcnRUYXJnZXQiOnsidXVpZCI6IjFiZDYwMzg5LWRmOTgtNDI1YS04YWMzLTE2Mjc4ZWFkNTZiZiJ9LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImE3ODkyYjAxLTk1N2EtNDljNC04ZjkyLTc1Nzg2NDFiM2RjNiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6ImZhaWxlZCIsInJlcXVlc3RfbWVzc2FnZSI6IndoZW4gaSBjbGljayBjaGFuZ2UgcGFzc3dvcmQgYnV0dG9uIGFuZCBlbnRlciBuZXcgcGFzc3dvcmQgaXQgZG9lc24ndCBzaG93IGFueXRoaW5nPyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ3aGVuIGkgY2xpY2sgY2hhbmdlIHBhc3N3b3JkIGJ1dHRvbiBhbmQgZW50ZXIgbmV3IHBhc3N3b3JkIGl0IGRvZXNuJ3Qgc2hvdyBhbnl0aGluZz8ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbXSwic2Vlbl9zdGF0ZSI6InVuc2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50Ijoid2hlbiBpIGNsaWNrIGNoYW5nZSBwYXNzd29yZCBidXR0b24gYW5kIGVudGVyIG5ldyBwYXNzd29yZCBpdCBkb2Vzbid0IHNob3cgYW55dGhpbmc/In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTQ6NDQuMzUxWiJ9XSwiZmVlZGJhY2tTdGF0ZXMiOnsidGVtcC1mZS00NWY4MWM2NC05NzE5LTQ1YTUtYmNhZi0wNTJhYjgwYWJjYWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTUyMzhjZjNkLThmZmMtNGRjOC05YWNkLWJjMDdhYWY4MDYzNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDJiYWVkODItODkzZi00NTBjLWE1NGYtNjYxZDE0NWQwNjNjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NjE0MmMwZi00NmE0LTRjYzUtYTM4ZS03NzM5NDZiZGZkMjMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTZmNmM5ZmVlLTE5N2UtNDY3OC1hYTY2LWI3NWM5ZThlNjJmOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMDZlNjI4OTAtZmZiMS00NzkxLTk1ZjUtMDhmOTg5ZGUxY2IzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mZjQ0Mjk5Mi1mNjhjLTRjYjYtYmNmYS0xNjZkMmY3NmFhMTAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWU4NDM0NGVhLWJmN2MtNGM3ZS05ZGFjLTk4Y2Y1MTVhYzY4OCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTQ0MTdjNTgtN2I3NS00NGY1LWEyZGUtNTU1ZTNjZWNkNDFjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xZWZhMzJmNy1kYzI0LTQ5NWEtODI5Ny04Yjg3YjIwM2I5N2UiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWZkODQ3OTdlLTZmNWMtNDVjNC05NTQ0LTc5NDYxZDcyNjc5NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDM1MWRjZGMtMjk3Yi00OGMxLWE3MjItNDY3OWQ1YmVmNmNkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jNWI2NGZmMS0wYmVjLTRhMGYtYmZiYi01ZjI5NGJmMzZmYzUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTRmZGIwMzg2LWNjMjUtNGJkNC04MTg2LWNkNzJlYWE5YjlhZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNTMxMjI0NDktNGJiZS00OTVhLTliYzEtNDMxY2FlZmJmOTA5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zMTY1MzY1OS0wZDQ1LTQ1ODAtYjVlMy0yMGVmMGM1NWQzNjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIwYjI2NTkxLTcxNTktNDA4YS05YmI5LTY5MDY5NTRjNThmNSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTc5ODYxNjctMWRmMC00YmJlLWE2NTUtNjAwMmYzODcxZWIwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00ZmNmMjczMy01YTE0LTRkN2YtYTYyNC05NjI3MjEwZDJlNDciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTA3MTEzODJhLWJmMzAtNGZiNy1hMzRjLWY5NGM1MTcwNWIzMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMmMyMmM2NjItMzgyZS00MTFhLThiZDItMjUyNmIzOTI1MTAwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iZWI1M2ZjYi0zNmNmLTRmOWEtYjAyOC05N2FmZjNhYWY2ZDEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTc4YWVjNzdmLWJhYTYtNDBhMy1hZDIyLTc0OWU5ZmZjZDcyYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzJiYWRkM2MtMzAwMi00YWM2LThhNWUtMGIwYjRiMTNlMDdlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNzgwMGNlNy05OTNkLTQ2ZDEtYjE5Mi0wMzNiZWEyYTg5OTEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWI2NmY0NGZjLTFmNjktNGQxYS04ZjliLTNhODE2OGU3ZWIxZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtY2Y3ODhmZGEtODE5MS00ODQxLTg5MWYtY2U0NWU5NDU3MWMxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lYTU4ZDM4Ni1iYTUyLTQyYjYtOGU0Yy02YTgyMDA3YmU4MzkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTY1ZDhhYWU2LTg3ZmEtNDVhYS05ZGQyLWYxZDZlNTI1ZTNhOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTE0ZDZiZmYtODY2ZC00MmJkLWE0M2UtNDZkMzFlNDFlOGI1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00NzFjODRjYS0wM2QxLTQ5YmYtODBlOC0zOTA3YTA1ZDE1ODYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyJkNjE4NWYyOS0wNzg0LTQzNDAtYmJhYi1jZjBlMDdlNzE1ZmE7dG9vbHVfMDFKYlRjeDFiQVVwMWtLY0w3TVJXVzVMIjp7InJlcXVlc3RJZCI6ImQ2MTg1ZjI5LTA3ODQtNDM0MC1iYmFiLWNmMGUwN2U3MTVmYSIsInRvb2xVc2VJZCI6InRvb2x1XzAxSmJUY3gxYkFVcDFrS2NMN01SV1c1TCIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBGb3Jnb3RQYXNzd29yZFxuICAgICAqL1xuICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICAgICAgXG4gICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZVBob25lKCl7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gdHh0Q29uZmlybVBhc3N3b3JkLmdldFRleHQoKTtcblxuICAgICAgICBpZihwYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuICAgICAqIHJlZ2VuZXJhdGVkIGJ5IHRoZSBGb3JtIEVkaXRvci5cbiAgICAgKi9cbiAgICBAU3VwcHJlc3NXYXJuaW5ncyhcInVuY2hlY2tlZFwiKVxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiR2VuZXJhdGVkIENvZGVcIj4vL0dFTi1CRUdJTjppbml0Q29tcG9uZW50c1xuICAgIHByaXZhdGUgdm9pZCBpbml0Q29tcG9uZW50cygpIHtcblxuICAgICAgICBqTGFiZWwxID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgICAgICB0eHRQaG9uZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoZWNrID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoYW5nZSA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuXG4gICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XG5cbiAgICAgICAgakxhYmVsMS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMzYpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9yZWdyb3VuZChqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0RGVmYXVsdHMoKS5nZXRDb2xvcihcIkFjdGlvbnMuWWVsbG93XCIpKTtcbiAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcblxuICAgICAgICBqTGFiZWwyLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMi5zZXRUZXh0KFwiU+G7kSDEkWnhu4duIHRob+G6oWk6IFwiKTtcblxuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRUZXh0KFwiTeG6rXQga2jhuql1IG3hu5tpOlwiKTtcblxuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuXG4gICAgICAgIGJ0bkNoZWNrLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoZWNrLnNldFRleHQoXCJLaeG7g20gdHJhXCIpO1xuICAgICAgICBidG5DaGVjay5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBqYXZheC5zd2luZy5Hcm91cExheW91dCBsYXlvdXQgPSBuZXcgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQoZ2V0Q29udGVudFBhbmUoKSk7XG4gICAgICAgIGdldENvbnRlbnRQYW5lKCkuc2V0TGF5b3V0KGxheW91dCk7XG4gICAgICAgIGxheW91dC5zZXRIb3Jpem9udGFsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTEwLCAxMTAsIDExMClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoalNlcGFyYXRvcjEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg1NiwgNTYsIDU2KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQaG9uZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDU3LCA1NywgNTcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDEwMiwgMTAyLCAxMDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2spKSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuVFJBSUxJTkcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZEdhcChqYXZheC5zd2luZy5MYXlvdXRTdHlsZS5Db21wb25lbnRQbGFjZW1lbnQuUkVMQVRFRCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBTaG9ydC5NQVhfVkFMVUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTgsIDE4LCAxOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSkpXG4gICAgICAgICAgICAgICAgLmFkZEdhcCg2OSwgNjksIDY5KSlcbiAgICAgICAgKTtcbiAgICAgICAgbGF5b3V0LnNldFZlcnRpY2FsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDQwLCA0MCwgNDApXG4gICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTQsIDE0LCAxNClcbiAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpTZXBhcmF0b3IxLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMikpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGhvbmUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBhc3N3b3JkLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgyLCAyLCAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGVjaywgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoOCwgOCwgOClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQobGJDb25maXJtUGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkJBU0VMSU5FKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAgXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmdzW10pIHtcbiAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXCI+XG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxuICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sIFxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiTmltYnVzXCIuZXF1YWxzKGluZm8uZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoamF2YXguc3dpbmcuVW5zdXBwb3J0ZWRMb29rQW5kRmVlbEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfVxuICAgICAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAgICAgIGphdmEuYXd0LkV2ZW50UXVldWUuaW52b2tlTGF0ZXIobmV3IFJ1bm5hYmxlKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkge1xuICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhcmlhYmxlcyBkZWNsYXJhdGlvbiAtIGRvIG5vdCBtb2RpZnkvL0dFTi1CRUdJTjp2YXJpYWJsZXNcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuRXhpdDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiTmV3UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRDb25maXJtUGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpUZXh0RmllbGQgdHh0UGhvbmU7XG4gICAgLy8gRW5kIG9mIHZhcmlhYmxlcyBkZWNsYXJhdGlvbi8vR0VOLUVORDp2YXJpYWJsZXNcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiA/PlxuXG48Rm9ybSB2ZXJzaW9uPVwiMS4zXCIgbWF4VmVyc2lvbj1cIjEuOVwiIHR5cGU9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmZvcm1pbmZvLkpGcmFtZUZvcm1JbmZvXCI+XG4gIDxQcm9wZXJ0aWVzPlxuICAgIDxQcm9wZXJ0eSBuYW1lPVwiZGVmYXVsdENsb3NlT3BlcmF0aW9uXCIgdHlwZT1cImludFwiIHZhbHVlPVwiM1wiLz5cbiAgPC9Qcm9wZXJ0aWVzPlxuICA8U3ludGhldGljUHJvcGVydGllcz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImZvcm1TaXplUG9saWN5XCIgdHlwZT1cImludFwiIHZhbHVlPVwiMVwiLz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImdlbmVyYXRlQ2VudGVyXCIgdHlwZT1cImJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICA8L1N5bnRoZXRpY1Byb3BlcnRpZXM+XG4gIDxBdXhWYWx1ZXM+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1Jlc291cmNpbmdcIiB0eXBlPVwiamF2YS5sYW5nLkludGVnZXJcIiB2YWx1ZT1cIjBcIi8+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1NldENvbXBvbmVudE5hbWVcIiB0eXBlPVwiamF2YS5sYW5nLkJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlRlFOXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJ0cnVlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlTW5lbW9uaWNzQ29kZVwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4uLi5cblxuICA8TGF5b3V0PlxuICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMFwiPlxuICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjExMFwiIHByZWY9XCIxMTBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwxXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpTZXBhcmF0b3IxXCIgbWluPVwiLTJcIiBwcmVmPVwiMzcwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwyXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjU2XCIgcHJlZj1cIjU2XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbi4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWF4PVwiMzI3NjdcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoYW5nZVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwibGJDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjE4XCIgcHJlZj1cIjE4XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cInR4dENvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIi0yXCIgcHJlZj1cIjY5XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICA8L0dyb3VwPlxuICAgICAgPC9Hcm91cD5cbiAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgICA8RGltZW5zaW9uTGF5b3V0IGRpbT1cIjFcIj5cbiAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIwXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjQwXCIgcHJlZj1cIjQwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbi4uLlxuICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiM1wiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuQ2hhbmdlXCIgYWxpZ25tZW50PVwiM1wiIG1pbj1cIi0yXCIgcHJlZj1cIjMwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICA8L0dyb3VwPlxuICAgICAgPC9Hcm91cD5cbiAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgPC9MYXlvdXQ+XG4gIDxTdWJDb21wb25lbnRzPlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KTGFiZWxcIiBuYW1lPVwiakxhYmVsMVwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIzNlwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb3JlZ3JvdW5kXCIgdHlwZT1cImphdmEuYXd0LkNvbG9yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuQ29sb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgYmx1ZT1cIjBcIiBncmVlbj1cImEyXCIgaWQ9XCJBY3Rpb25zLlllbGxvd1wiIHBhbGV0dGU9XCIzXCIgcmVkPVwiZWRcIiB0eXBlPVwicGFsZXR0ZVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbi4uLlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiTSYjeDFlYWQ7dCBraCYjeDFlYTk7dSBtJiN4MWVkYjtpOlwiLz5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiQ29uZmlybVBhc3N3b3JkXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiWCYjeGUxO2MgbmgmI3gxZWFkO24gbSYjeDFlYWQ7dCBraCYjeDFlYTk7dTpcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpTZXBhcmF0b3JcIiBuYW1lPVwialNlcGFyYXRvcjFcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlRleHRGaWVsZFwiIG5hbWU9XCJ0eHRQaG9uZVwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoZWNrXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9zZWFyY2gucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiS2kmI3gxZWMzO20gdHJhXCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRQYXNzd29yZFwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRDb25maXJtUGFzc3dvcmRcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5DaGFuZ2VcIj5cbiAgICAgIDxQcm9wZXJ0aWVzPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIiYjeDExMDsmI3gxZWQ1O2kgbSYjeDFlYWQ7dCBraCYjeDFlYTk7dVwiLz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5FeGl0XCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9sb2dvdXQucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiVGhvJiN4ZTE7dFwiLz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICAgIDxFdmVudHM+XG4gICAgICAgIDxFdmVudEhhbmRsZXIgZXZlbnQ9XCJhY3Rpb25QZXJmb3JtZWRcIiBsaXN0ZW5lcj1cImphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyXCIgcGFyYW1ldGVycz1cImphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50XCIgaGFuZGxlcj1cImJ0bkV4aXRBY3Rpb25QZXJmb3JtZWRcIi8+XG4gICAgICA8L0V2ZW50cz5cbiAgICA8L0NvbXBvbmVudD5cbiAgPC9TdWJDb21wb25lbnRzPlxuPC9Gb3JtPlxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhN2VlOGVkNS0yYzUwLTQ5NWMtYjk5Yy0xMjI1ZTlhZjhhMTM7dG9vbHVfMDE5QTNUREI2Z2FCVkEyZ2kzb0hpcVBLIjp7InJlcXVlc3RJZCI6ImE3ZWU4ZWQ1LTJjNTAtNDk1Yy1iOTljLTEyMjVlOWFmOGExMyIsInRvb2xVc2VJZCI6InRvb2x1XzAxOUEzVERCNmdhQlZBMmdpM29IaXFQSyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9EQU8vVXNlckRBTy5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IE1vZGVsLlVzZXI7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBVc2VyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChmaW5hbCBVc2VyIG9iaikge1xuICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlVTRVJcIiwgXCJ1c2VyX2lkXCIpO1xuICAgICAgICBcbiAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcbiAgICAgICAgXG4gICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCJUaMOqbSB0w6BpIGtob+G6o24gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBib29sZWFuIGxvZ2luKGZpbmFsIFN0cmluZyB1c2VyTmFtZSwgZmluYWwgU3RyaW5nIHBhc3N3b3JkKSB7XG4gICAgICAgIFVzZXIgdXNlciA9IG51bGw7XG4gICAgICAgIGJvb2xlYW4gaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXCJTRUxFQ1QgKiBGUk9NIFVTRVIgV0hFUkUgdXNlcm5hbWUgPSAnXCIgKyB1c2VyTmFtZSArIFwiJyBhbmQgcGFzc3dvcmQgPSAnXCIgKyBwYXNzd29yZCArXCInXCIpO1xuICAgICAgICAgICAgd2hpbGUgKHJzLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNBY3RpdmUgPSBycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9IFxuXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoVXNlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBkZWxldGUoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFVzZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFNpZ25VcCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG5cbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICBwcml2YXRlIFN0cmluZyBERUZBVUxUX1JPTEUgPSBcInVzZXJcIjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIFNpZ25JblxuICAgICAqL1xuICAgIHB1YmxpYyBTaWduVXAoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0TmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRVc2VyTmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIG5hbWUgPSB0eHROYW1lLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBhZGRyZXNzID0gdHh0QWRkcmVzcy5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcblxuICAgICAgICBpZihuYW1lLmlzRW1wdHkoKSB8fCB1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpIHx8IGFkZHJlc3MuaXNFbXB0eSgpIHx8IHBob25lLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVyIHN1YiA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgICAgICAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0UGFzc3dvcmQodHh0UGFzc3dvcmQuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0UGhvbmUodHh0UGhvbmUuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgICAgICAgICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XG4gICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4uLi5cblBhdGg6IHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJTVUJTQ1JJQkVSXCIsIFwic3Vic2NyaWJlcl9pZFwiKTtcblxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuXG4gICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQsIGlzQWN0aXZlKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0Qm9vbGVhbig2LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXG4gICAgICovXG4gICAgcHVibGljIEZvcmdvdFBhc3N3b3JkKCkge1xuICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgICAgICBcbiAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgXG4gICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSB0eHRDb25maXJtUGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGlmKHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBjb25maXJtUGFzc3dvcmQuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG4gICAgICogcmVnZW5lcmF0ZWQgYnkgdGhlIEZvcm0gRWRpdG9yLlxuICAgICAqL1xuICAgIEBTdXBwcmVzc1dhcm5pbmdzKFwidW5jaGVja2VkXCIpXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCJHZW5lcmF0ZWQgQ29kZVwiPi8vR0VOLUJFR0lOOmluaXRDb21wb25lbnRzXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRDb21wb25lbnRzKCkge1xuXG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIHR4dFBob25lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgYnRuQ2hlY2sgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgYnRuQ2hhbmdlID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgYnRuRXhpdCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG5cbiAgICAgICAgc2V0RGVmYXVsdENsb3NlT3BlcmF0aW9uKGphdmF4LnN3aW5nLldpbmRvd0NvbnN0YW50cy5FWElUX09OX0NMT1NFKTtcblxuICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMS5zZXRGb3JlZ3JvdW5kKGphdmF4LnN3aW5nLlVJTWFuYWdlci5nZXREZWZhdWx0cygpLmdldENvbG9yKFwiQWN0aW9ucy5ZZWxsb3dcIikpO1xuICAgICAgICBqTGFiZWwxLnNldFRleHQoXCLEkOG7lEkgTeG6rFQgS0jhuqhVXCIpO1xuLi4uXG5cbiAgICAgICAgYnRuQ2hhbmdlLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoYW5nZS5zZXRUZXh0KFwixJDhu5VpIG3huq10IGto4bqpdVwiKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuXG4gICAgICAgIGJ0bkV4aXQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5FeGl0LnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9sb2dvdXQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5FeGl0LnNldFRleHQoXCJUaG/DoXRcIik7XG4gICAgICAgIGJ0bkV4aXQuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkJBU0VMSU5FKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAgXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4uLi5cbiAgICAgICAgLy88L2VkaXRvci1mb2xkPlxuXG4gICAgICAgIC8qIENyZWF0ZSBhbmQgZGlzcGxheSB0aGUgZm9ybSAqL1xuICAgICAgICBqYXZhLmF3dC5FdmVudFF1ZXVlLmludm9rZUxhdGVyKG5ldyBSdW5uYWJsZSgpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiAgICAgICAgICAgICAgICBuZXcgRm9yZ290UGFzc3dvcmQoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWYXJpYWJsZXMgZGVjbGFyYXRpb24gLSBkbyBub3QgbW9kaWZ5Ly9HRU4tQkVHSU46dmFyaWFibGVzXG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoYW5nZTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hlY2s7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkV4aXQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwyO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMTtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBsYkNvbmZpcm1QYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBsYk5ld1Bhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0Q29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KVGV4dEZpZWxkIHR4dFBob25lO1xuICAgIC8vIEVuZCBvZiB2YXJpYWJsZXMgZGVjbGFyYXRpb24vL0dFTi1FTkQ6dmFyaWFibGVzXG59XG4uLi5cblBhdGg6IHNyYy9EQU8vQ29ubmVjdGlvblByb3ZpZGVyLmphdmFcbi4uLlxuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgQ29ubmVjdGlvblByb3ZpZGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgVVJMID0gXCJqZGJjOm15c3FsOi8vMTI1LjIxMi4yMzEuMTg0OjY5NjkvSW50ZXJuZXREQlwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVU0VSID0gXCJtaW50b3JpMDlcIjtcbiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFTU1dPUkQgPSBcIk1pbnRvcnkwOUA5NlwiO1xuICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgQ29ubmVjdGlvbiBnZXRDb25uKCl7XG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIENsYXNzLmZvck5hbWUoXCJjb20ubXlzcWwuY2ouamRiYy5Ecml2ZXJcIik7XG4gICAgICAgICAgICBjb25uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKFVSTCwgVVNFUiwgUEFTU1dPUkQpO1xuICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIk15U1FMIEpEQkMgRHJpdmVyIG5vdCBmb3VuZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiQ29ubmVjdGlvbiBmYWlsZWQuXCIpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubjtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcblxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlVzZXJEQU87XG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbi4uLlxuUGF0aDogc3JjL01vZGVsL1VzZXIuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXIge1xuICAgIHByaXZhdGUgaW50IHVzZXJfaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdXNlcm5hbWU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcm9sZTtcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0O1xuICAgIHByaXZhdGUgYm9vbGVhbiBpc0FjdGl2ZTtcblxuICAgIHB1YmxpYyBVc2VyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKGludCB1c2VyX2lkLCBTdHJpbmcgdXNlcm5hbWUsIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIHJvbGUsIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0LCBib29sZWFuIGlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGlzQWN0aXZlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0VXNlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VXNlcl9pZChpbnQgdXNlcl9pZCkge1xuICAgICAgICB0aGlzLnVzZXJfaWQgPSB1c2VyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VXNlcm5hbWUoKSB7XG4gICAgICAgIHJldHVybiB1c2VybmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VybmFtZShTdHJpbmcgdXNlcm5hbWUpIHtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Um9sZSgpIHtcbiAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Um9sZShTdHJpbmcgcm9sZSkge1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldENyZWF0ZV9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gaXNJc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIGlzQWN0aXZlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldElzQWN0aXZlKGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGlzQWN0aXZlO1xuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1N1YnNjcmliZXIuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlciBleHRlbmRzIFVzZXIge1xuICAgIHByaXZhdGUgaW50IHN1YnNjcmliZXJfaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgZnVsbE5hbWU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgYWRkcmVzcztcbiAgICBwcml2YXRlIFN0cmluZyBwaG9uZTtcbiAgICBcbiAgICBwdWJsaWMgU3Vic2NyaWJlcigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3Vic2NyaWJlcihpbnQgc3Vic2NyaWJlcl9pZCwgU3RyaW5nIGZ1bGxOYW1lLCBTdHJpbmcgYWRkcmVzcywgU3RyaW5nIHBob25lKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUsIGludCB1c2VyX2lkLCBTdHJpbmcgdXNlcm5hbWUsIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIHJvbGUsIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0LCBib29sZWFuIGlzQWN0aXZlKSB7XG4gICAgICAgIHN1cGVyKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlX2F0LCBpc0FjdGl2ZSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgaW50IGdldFN1YnNjcmliZXJfaWQoKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFN1YnNjcmliZXJfaWQoaW50IHN1YnNjcmliZXJfaWQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEZ1bGxOYW1lKCkge1xuICAgICAgICByZXR1cm4gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RnVsbE5hbWUoU3RyaW5nIGZ1bGxOYW1lKSB7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEFkZHJlc3MoU3RyaW5nIGFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFBob25lKCkge1xuICAgICAgICByZXR1cm4gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0UGhvbmUoU3RyaW5nIHBob25lKSB7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9QbGFuLmphdmFcbi4uLlxuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgUGxhbiB7XG4gICAgcHJpdmF0ZSBpbnQgcGxhbl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBuYW1lO1xuICAgIHByaXZhdGUgbG9uZyBwcmljZTtcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIHByaXZhdGUgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuXG4gICAgcHVibGljIFBsYW4oKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFBsYW4oaW50IHBsYW5faWQsIFN0cmluZyBuYW1lLCBsb25nIHByaWNlLCBpbnQgbWF4X3NwZWVkX2RvbWVzdGljLCBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWwsIGludCBtaW5fc3BlZWRfZG9tZXN0aWMsIGludCBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbCkge1xuICAgICAgICB0aGlzLnBsYW5faWQgPSBwbGFuX2lkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaWNlID0gcHJpY2U7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2RvbWVzdGljID0gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1heF9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2RvbWVzdGljID0gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRQbGFuX2lkKCkge1xuICAgICAgICByZXR1cm4gcGxhbl9pZDtcbiAgICB9XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjZiMWM2NmIyLThiYTAtNDc5Yy04YTY5LTM2MjZlMTE0ZmE1MTt0b29sdV8wMUhhTVY1aGZ1VHppMTlvcW9vVnRnN3UiOnsicmVxdWVzdElkIjoiNmIxYzY2YjItOGJhMC00NzljLThhNjktMzYyNmUxMTRmYTUxIiwidG9vbFVzZUlkIjoidG9vbHVfMDFIYU1WNWhmdVR6aTE5b3Fvb1Z0Zzd1IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFVzZXIgb2JqKSB7XG4gICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgICAgIFxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIlRow6ptIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gbG9naW4oZmluYWwgU3RyaW5nIHVzZXJOYW1lLCBmaW5hbCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlciB1c2VyID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcIlNFTEVDVCAqIEZST00gVVNFUiBXSEVSRSB1c2VybmFtZSA9ICdcIiArIHVzZXJOYW1lICsgXCInIGFuZCBwYXNzd29yZCA9ICdcIiArIHBhc3N3b3JkICtcIidcIik7XG4gICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgYm9vbGVhbiBpc0FjdGl2ZSA9IHJzLmdldEJvb2xlYW4oXCJpc0FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVXNlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChmaW5hbCBTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlVTRVJcIiwgXCJ1c2VyX2lkXCIpO1xuICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuXG4gICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG5cbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCwgaXNBY3RpdmUpIFZBTFVFUyAoPywgPywgPywgPywgPywgPylcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRCb29sZWFuKDYsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCg1LCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuXG59XG4uLi5cblBhdGg6IHNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcblxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBSZXN1bHRTZXQgZ2V0RGF0YShTdHJpbmcgcXVlcnkpe1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBycyA9IHN0LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBycztcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xuICAgICAgICBpbnQgbmV4dElkID0gMTtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgTUFYKFwiICsgaWRDb2x1bW5OYW1lICsgXCIpIEFTIG1heF9pZCBGUk9NIFwiICsgdGFibGVOYW1lO1xuICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG5cbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZSwgXCJFcnJvclwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0SWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBib29sZWFuIGV4ZWN1dGVUcmFuc2FjdGlvbihTcWxPcGVyYXRpb25bXSBvcGVyYXRpb25zLCBTdHJpbmcgc3VjY2Vzc01zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuXG4gICAgICAgICAgICBmb3IgKFNxbE9wZXJhdGlvbiBvcGVyYXRpb24gOiBvcGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQob3BlcmF0aW9uLmdldFNxbCgpKTtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24uc2V0UGFyYW1ldGVycyhwcyk7XG4gICAgICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHBzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NNc2cgIT0gbnVsbCAmJiAhc3VjY2Vzc01zZy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBzdWNjZXNzTXNnLCBcIlRow6BuaCBjw7RuZ1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkVycm9yOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBcIkzhu5dpXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50ZXJmYWNlIFNxbE9wZXJhdGlvbiB7XG4gICAgICAgIFN0cmluZyBnZXRTcWwoKTtcbiAgICAgICAgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLi4uXG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYocGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpe1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4uLi5cblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uVXNlckRBTztcbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgTG9naW4gZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBMb2dpblxuICAgICAqL1xuICAgIHB1YmxpYyBMb2dpbigpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0VXNlck5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcblxuICAgICAgICBpZih1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuLi4uXG5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRUZXh0KFwiUXXDqm4gbeG6rXQga2jhuql1P1wiKTtcbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEhvcml6b250YWxBbGlnbm1lbnQoamF2YXguc3dpbmcuU3dpbmdDb25zdGFudHMuTEVGVCk7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHtcbiAgICAgICAgICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkxvZ2luQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gVXNlckRBTy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIsSQxINuZyBuaOG6rXAgdGjDoG5oIGPDtG5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuLy8gICAgICAgICAgICAgICAgICAgIG5ldyBNYWluRnJhbWUoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIlNhaSB0w6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdS5cIiwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9Vc2VyLmphdmFcbi4uLlxuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgdXNlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyByb2xlO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzQWN0aXZlO1xuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgICAgIHRoaXMuY3JlYXRlX2F0ID0gY3JlYXRlX2F0O1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRVc2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyX2lkKGludCB1c2VyX2lkKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0lzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gaXNBY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0SXNBY3RpdmUoYm9vbGVhbiBpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU2lnblVwIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIHByaXZhdGUgU3RyaW5nIERFRkFVTFRfUk9MRSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gU2lnbkluXG4gICAgICovXG4gICAgcHVibGljIFNpZ25VcCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHROYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgICAgICBTdHJpbmcgbmFtZSA9IHR4dE5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIGFkZHJlc3MgPSB0eHRBZGRyZXNzLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGlmKG5hbWUuaXNFbXB0eSgpIHx8IHVzZXJOYW1lLmlzRW1wdHkoKSB8fCBwYXNzd29yZC5pc0VtcHR5KCkgfHwgYWRkcmVzcy5pc0VtcHR5KCkgfHwgcGhvbmUuaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1N1YnNjcmliZXIuamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyIGV4dGVuZHMgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgc3Vic2NyaWJlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBmdWxsTmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgU3RyaW5nIHBob25lO1xuICAgIFxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSwgaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQsIGJvb2xlYW4gaXNBY3RpdmUpIHtcbiAgICAgICAgc3VwZXIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVfYXQsIGlzQWN0aXZlKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBpbnQgZ2V0U3Vic2NyaWJlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3Vic2NyaWJlcl9pZChpbnQgc3Vic2NyaWJlcl9pZCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RnVsbE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRGdWxsTmFtZShTdHJpbmcgZnVsbE5hbWUpIHtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGhvbmUoKSB7XG4gICAgICAgIHJldHVybiBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQaG9uZShTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuLi4uXG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuQ2hhbmdlXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNTtpIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3VcIi8+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmZvcm1cbi4uLlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXQuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5NDE3MjIzYS00ZGZlLTQ0NGEtYmQ2ZC0zMjkxYjVkMWZiOTE7dG9vbHVfMDFMZXpvSHJVWGhMZ3ZDWUFheHptaGZIIjp7InJlcXVlc3RJZCI6Ijk0MTcyMjNhLTRkZmUtNDQ0YS1iZDZkLTMyOTFiNWQxZmI5MSIsInRvb2xVc2VJZCI6InRvb2x1XzAxTGV6b0hyVVhoTGd2Q1lBYXh6bWhmSCIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBGb3Jnb3RQYXNzd29yZFxuICAgICAqL1xuICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICAgICAgXG4gICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZVBob25lKCl7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gdHh0Q29uZmlybVBhc3N3b3JkLmdldFRleHQoKTtcblxuICAgICAgICBpZihwYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuICAgICAqIHJlZ2VuZXJhdGVkIGJ5IHRoZSBGb3JtIEVkaXRvci5cbiAgICAgKi9cbiAgICBAU3VwcHJlc3NXYXJuaW5ncyhcInVuY2hlY2tlZFwiKVxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiR2VuZXJhdGVkIENvZGVcIj4vL0dFTi1CRUdJTjppbml0Q29tcG9uZW50c1xuICAgIHByaXZhdGUgdm9pZCBpbml0Q29tcG9uZW50cygpIHtcblxuICAgICAgICBqTGFiZWwxID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgICAgICB0eHRQaG9uZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoZWNrID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIGJ0bkNoYW5nZSA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuXG4gICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XG5cbiAgICAgICAgakxhYmVsMS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMzYpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9yZWdyb3VuZChqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0RGVmYXVsdHMoKS5nZXRDb2xvcihcIkFjdGlvbnMuWWVsbG93XCIpKTtcbiAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcblxuICAgICAgICBqTGFiZWwyLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMi5zZXRUZXh0KFwiU+G7kSDEkWnhu4duIHRob+G6oWk6IFwiKTtcblxuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRUZXh0KFwiTeG6rXQga2jhuql1IG3hu5tpOlwiKTtcblxuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuXG4gICAgICAgIGJ0bkNoZWNrLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkNoZWNrLnNldFRleHQoXCJLaeG7g20gdHJhXCIpO1xuICAgICAgICBidG5DaGVjay5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcblxuICAgICAgICBidG5DaGFuZ2Uuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL2xvZ291dC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgICAgICAgYnRuRXhpdC5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuRXhpdC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBqYXZheC5zd2luZy5Hcm91cExheW91dCBsYXlvdXQgPSBuZXcgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQoZ2V0Q29udGVudFBhbmUoKSk7XG4gICAgICAgIGdldENvbnRlbnRQYW5lKCkuc2V0TGF5b3V0KGxheW91dCk7XG4gICAgICAgIGxheW91dC5zZXRIb3Jpem9udGFsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTEwLCAxMTAsIDExMClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoalNlcGFyYXRvcjEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg1NiwgNTYsIDU2KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQaG9uZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDU3LCA1NywgNTcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDEwMiwgMTAyLCAxMDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2spKSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuVFJBSUxJTkcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZFByZWZlcnJlZEdhcChqYXZheC5zd2luZy5MYXlvdXRTdHlsZS5Db21wb25lbnRQbGFjZW1lbnQuUkVMQVRFRCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBTaG9ydC5NQVhfVkFMVUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTgsIDE4LCAxOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSkpXG4gICAgICAgICAgICAgICAgLmFkZEdhcCg2OSwgNjksIDY5KSlcbiAgICAgICAgKTtcbiAgICAgICAgbGF5b3V0LnNldFZlcnRpY2FsR3JvdXAoXG4gICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDQwLCA0MCwgNDApXG4gICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTQsIDE0LCAxNClcbiAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpTZXBhcmF0b3IxLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMikpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGhvbmUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBhc3N3b3JkLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgyLCAyLCAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGVjaywgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoOCwgOCwgOClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQobGJDb25maXJtUGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dENvbmZpcm1QYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkJBU0VMSU5FKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAgXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmdzW10pIHtcbiAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXCI+XG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxuICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sIFxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiTmltYnVzXCIuZXF1YWxzKGluZm8uZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoSWxsZWdhbEFjY2Vzc0V4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfSBjYXRjaCAoamF2YXguc3dpbmcuVW5zdXBwb3J0ZWRMb29rQW5kRmVlbEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgICAgICAgfVxuICAgICAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAgICAgIGphdmEuYXd0LkV2ZW50UXVldWUuaW52b2tlTGF0ZXIobmV3IFJ1bm5hYmxlKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkge1xuICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhcmlhYmxlcyBkZWNsYXJhdGlvbiAtIGRvIG5vdCBtb2RpZnkvL0dFTi1CRUdJTjp2YXJpYWJsZXNcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuRXhpdDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiTmV3UGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRDb25maXJtUGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpUZXh0RmllbGQgdHh0UGhvbmU7XG4gICAgLy8gRW5kIG9mIHZhcmlhYmxlcyBkZWNsYXJhdGlvbi8vR0VOLUVORDp2YXJpYWJsZXNcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiA/PlxuXG48Rm9ybSB2ZXJzaW9uPVwiMS4zXCIgbWF4VmVyc2lvbj1cIjEuOVwiIHR5cGU9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmZvcm1pbmZvLkpGcmFtZUZvcm1JbmZvXCI+XG4gIDxQcm9wZXJ0aWVzPlxuICAgIDxQcm9wZXJ0eSBuYW1lPVwiZGVmYXVsdENsb3NlT3BlcmF0aW9uXCIgdHlwZT1cImludFwiIHZhbHVlPVwiM1wiLz5cbiAgPC9Qcm9wZXJ0aWVzPlxuICA8U3ludGhldGljUHJvcGVydGllcz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImZvcm1TaXplUG9saWN5XCIgdHlwZT1cImludFwiIHZhbHVlPVwiMVwiLz5cbiAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImdlbmVyYXRlQ2VudGVyXCIgdHlwZT1cImJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICA8L1N5bnRoZXRpY1Byb3BlcnRpZXM+XG4gIDxBdXhWYWx1ZXM+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1Jlc291cmNpbmdcIiB0eXBlPVwiamF2YS5sYW5nLkludGVnZXJcIiB2YWx1ZT1cIjBcIi8+XG4gICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfYXV0b1NldENvbXBvbmVudE5hbWVcIiB0eXBlPVwiamF2YS5sYW5nLkJvb2xlYW5cIiB2YWx1ZT1cImZhbHNlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlRlFOXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJ0cnVlXCIvPlxuICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlTW5lbW9uaWNzQ29kZVwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4uLi5cblxuICA8TGF5b3V0PlxuICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMFwiPlxuICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjExMFwiIHByZWY9XCIxMTBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwxXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpTZXBhcmF0b3IxXCIgbWluPVwiLTJcIiBwcmVmPVwiMzcwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwyXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjU2XCIgcHJlZj1cIjU2XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbi4uLlxuICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiM1wiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuQ2hhbmdlXCIgYWxpZ25tZW50PVwiM1wiIG1pbj1cIi0yXCIgcHJlZj1cIjMwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICA8L0dyb3VwPlxuICAgICAgPC9Hcm91cD5cbiAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgPC9MYXlvdXQ+XG4gIDxTdWJDb21wb25lbnRzPlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KTGFiZWxcIiBuYW1lPVwiakxhYmVsMVwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIzNlwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb3JlZ3JvdW5kXCIgdHlwZT1cImphdmEuYXd0LkNvbG9yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuQ29sb3JFZGl0b3JcIj5cbiAgICAgICAgICA8Q29sb3IgYmx1ZT1cIjBcIiBncmVlbj1cImEyXCIgaWQ9XCJBY3Rpb25zLlllbGxvd1wiIHBhbGV0dGU9XCIzXCIgcmVkPVwiZWRcIiB0eXBlPVwicGFsZXR0ZVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIiYjeDExMDsmI3gxZWQ0O0kgTSYjeDFlYWM7VCBLSCYjeDFlYTg7VVwiLz5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImpMYWJlbDJcIj5cbiAgICAgIDxQcm9wZXJ0aWVzPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJTJiN4MWVkMTsgJiN4MTExO2kmI3gxZWM3O24gdGhvJiN4MWVhMTtpOiBcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJsYk5ld1Bhc3N3b3JkXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiTSYjeDFlYWQ7dCBraCYjeDFlYTk7dSBtJiN4MWVkYjtpOlwiLz5cbiAgICAgIDwvUHJvcGVydGllcz5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiQ29uZmlybVBhc3N3b3JkXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiWCYjeGUxO2MgbmgmI3gxZWFkO24gbSYjeDFlYWQ7dCBraCYjeDFlYTk7dTpcIi8+XG4gICAgICA8L1Byb3BlcnRpZXM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpTZXBhcmF0b3JcIiBuYW1lPVwialNlcGFyYXRvcjFcIj5cbiAgICA8L0NvbXBvbmVudD5cbiAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlRleHRGaWVsZFwiIG5hbWU9XCJ0eHRQaG9uZVwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoZWNrXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9zZWFyY2gucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiS2kmI3gxZWMzO20gdHJhXCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRQYXNzd29yZFwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZFwiIG5hbWU9XCJ0eHRDb25maXJtUGFzc3dvcmRcIj5cbiAgICA8L0NvbXBvbmVudD5cbi4uLlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL2xvZ291dC5wbmdcIi8+XG4gICAgICAgIDwvUHJvcGVydHk+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJUaG8mI3hlMTt0XCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgICAgPEV2ZW50cz5cbiAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLz5cbiAgICAgIDwvRXZlbnRzPlxuICAgIDwvQ29tcG9uZW50PlxuICA8L1N1YkNvbXBvbmVudHM+XG48L0Zvcm0+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTaWduVXAgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgREVGQVVMVF9ST0xFID0gXCJ1c2VyXCI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBTaWduSW5cbiAgICAgKi9cbiAgICBwdWJsaWMgU2lnblVwKCkge1xuICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dE5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0VXNlck5hbWUuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0QWRkcmVzcy5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgIH1cbi4uLlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZmMzYzFhZDgtNGY5My00YzBmLTljZmYtYzcxMWI3Mzk0MTc4O3Rvb2x1XzAxNzFzU0xtb1loZ2h3Mm5SMnhKNUZmRCI6eyJyZXF1ZXN0SWQiOiJmYzNjMWFkOC00ZjkzLTRjMGYtOWNmZi1jNzExYjczOTQxNzgiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTcxc1NMbW9ZaGdodzJuUjJ4SjVGZkQiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhOlxuICAgICAxXHQvKlxuICAgICAyXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDExXHRpbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG4gICAgMTJcdFxuICAgIDEzXHQvKipcbiAgICAxNFx0ICpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNlx0ICovXG4gICAgMTdcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAyMFx0ICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlVTRVJcIiwgXCJ1c2VyX2lkXCIpO1xuICAgIDIxXHQgICAgICAgIGZpbmFsIGludCBzdWJzY3JpYmVySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiU1VCU0NSSUJFUlwiLCBcInN1YnNjcmliZXJfaWRcIik7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgMjRcdCAgICAgICAgb2JqLnNldFN1YnNjcmliZXJfaWQoc3Vic2NyaWJlcklkKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgMjdcdCAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgMjhcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAyOVx0ICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgIDMwXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0LCBpc0FjdGl2ZSkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDMxXHQgICAgICAgICAgICAgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDM0XHQgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgMzVcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgMzZcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAzN1x0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgIDM4XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAzOVx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgNDBcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0Qm9vbGVhbig2LCB0cnVlKTtcbiAgICA0MVx0ICAgICAgICAgICAgICAgIH1cbiAgICA0Mlx0ICAgICAgICAgICAgfSxcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgNDVcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICA0Nlx0ICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgIDQ3XHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgNDhcdCAgICAgICAgICAgICAgICB9XG4gICAgNDlcdFxuICAgIDUwXHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgNTFcdCAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICA1Mlx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcbiAgICA1M1x0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgIDU0XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICA1NVx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgIDU2XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCg1LCB1c2VySWQpO1xuICAgIDU3XHQgICAgICAgICAgICAgICAgfVxuICAgIDU4XHQgICAgICAgICAgICB9XG4gICAgNTlcdCAgICAgICAgfTtcbiAgICA2MFx0XG4gICAgNjFcdCAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICA2Mlx0ICAgIH1cbiAgICA2M1x0XG4gICAgNjRcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgNjVcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNjZcdCAgICB9XG4gICAgNjdcdFxuICAgIDY4XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICA2OVx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICA3M1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3NFx0ICAgIH1cbiAgICA3NVx0XG4gICAgNzZcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDc3XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDc4XHQgICAgfVxuICAgIDc5XHRcbiAgICA4MFx0XG4gICAgODFcdH1cbiAgICA4Mlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA4MlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2U3MmFiMDItMTc0Mi00ZmU2LTliODMtZGFkNDViNzJiMmE1O3Rvb2x1XzAxNldhNjhWWjFueWhTb2c3UWpyRVhacCI6eyJyZXF1ZXN0SWQiOiI3ZTcyYWIwMi0xNzQyLTRmZTYtOWI4My1kYWQ0NWI3MmIyYTUiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTZXYTY4VloxbnloU29nN1FqckVYWnAiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAxMVx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMlx0aW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuICAgIDEzXHRcbiAgICAxNFx0LyoqXG4gICAgMTVcdCAqXG4gICAgMTZcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNzNcdCAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICA3NFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3NVx0ICAgIH1cbiAgICA3Nlx0XG4gICAgNzdcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDc4XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDc5XHQgICAgfVxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeVBob25lKFN0cmluZyBwaG9uZSkge1xuICAgIDgyXHQgICAgICAgIFN1YnNjcmliZXIgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgODNcdCAgICAgICAgdHJ5IHtcbiAgICA4NFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiKTtcbiAgICA4NVx0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgODdcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgODhcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDkwXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTJcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICA5M1x0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgIDk0XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgIDk1XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICB9XG4gICAgOTdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgOThcdCAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgIDEwMVx0ICAgIH1cbiAgIDEwMlx0XG4gICAxMDNcdCAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gdXBkYXRlUGFzc3dvcmQoaW50IHVzZXJJZCwgU3RyaW5nIG5ld1Bhc3N3b3JkKSB7XG4gICAxMDRcdCAgICAgICAgdHJ5IHtcbiAgIDEwNVx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJVUERBVEUgVVNFUiBTRVQgcGFzc3dvcmQgPSAnXCIgKyBuZXdQYXNzd29yZCArIFwiJyBXSEVSRSB1c2VyX2lkID0gXCIgKyB1c2VySWQ7XG4gICAxMDZcdCAgICAgICAgICAgIERiT3BlcmF0aW9ucy5zZXREYXRhT3JEZWxldGUocXVlcnksIFwiQ+G6rXAgbmjhuq10IG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchXCIpO1xuICAgMTA3XHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgIDEwOFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgIDEwOVx0ICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMTBcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDExMVx0ICAgICAgICB9XG4gICAxMTJcdCAgICB9XG4gICAxMTNcdH1cbiAgIDExNFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjgwN2M3YjU2LWY4NDEtNGE3Ny1iNTdhLTE5M2ZiNTk4NzNjNjt0b29sdV8wMUEyRjY5eWt0RFdhYWdUV1BHd0doZmEiOnsicmVxdWVzdElkIjoiODA3YzdiNTYtZjg0MS00YTc3LWI1N2EtMTkzZmI1OTg3M2M2IiwidG9vbFVzZUlkIjoidG9vbHVfMDFBMkY2OXlrdERXYWFnVFdQR3dHaGZhIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0XG4gICAgMTFcdC8qKlxuICAgIDEyXHQgKlxuICAgIDEzXHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDExXHQvKipcbiAgICAxMlx0ICpcbiAgICAxM1x0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNFx0ICovXG4gICAgMTVcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgMTZcdCAgICBwcml2YXRlIFN1YnNjcmliZXIgY3VycmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIDE3XHQgICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgMThcdFxuICAgIDE5XHQgICAgLyoqXG4gICAgMjBcdCAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzJdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNTFcdCAgICAgICAgfVxuICAgIDUyXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUzXHQgICAgfVxuICAgIDU0XHRcbiAgICA1NVx0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgNTZcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgIDU3XHQgICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSB0eHRDb25maXJtUGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgIDU4XHRcbiAgICA1OVx0ICAgICAgICBpZihwYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgNjBcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNjFcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA2Mlx0ICAgICAgICB9XG4gICAgNjNcdFxuICAgIDY0XHQgICAgICAgIGlmKCFwYXNzd29yZC5lcXVhbHMoY29uZmlybVBhc3N3b3JkKSl7XG4gICAgNjVcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTeG6rXQga2jhuql1IHjDoWMgbmjhuq1uIGtow7RuZyBraOG7m3AhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNjZcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA2N1x0ICAgICAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDcwXHQgICAgfVxuICAgIDcxXHRcbiAgICA3Mlx0ICAgIC8qKlxuICAgIDczXHQgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuICAgIDc0XHQgICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFszXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMTA0XHRcbiAgIDEwNVx0ICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDZcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIljDoWMgbmjhuq1uIG3huq10IGto4bqpdTpcIik7XG4gICAxMDdcdFxuICAgMTA4XHQgICAgICAgIGJ0bkNoZWNrLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgIDEwOVx0ICAgICAgICBidG5DaGVjay5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvc2VhcmNoLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgIDExMFx0ICAgICAgICBidG5DaGVjay5zZXRUZXh0KFwiS2nhu4NtIHRyYVwiKTtcbiAgIDExMVx0ICAgICAgICBidG5DaGVjay5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgIDExMlx0ICAgICAgICBidG5DaGVjay5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAxMTNcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIGFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHtcbiAgIDExNFx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAxMTVcdCAgICAgICAgICAgIH1cbiAgIDExNlx0ICAgICAgICB9KTtcbiAgIDExN1x0XG4gICAxMThcdCAgICAgICAgYnRuQ2hhbmdlLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgIDExOVx0ICAgICAgICBidG5DaGFuZ2Uuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgIDEyMFx0ICAgICAgICBidG5DaGFuZ2Uuc2V0VGV4dChcIsSQ4buVaSBt4bqtdCBraOG6qXVcIik7XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzRdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAxMTRcdCAgICAgICAgICAgICAgICBidG5DaGVja0FjdGlvblBlcmZvcm1lZChldnQpO1xuICAgMTE1XHQgICAgICAgICAgICB9XG4gICAxMTZcdCAgICAgICAgfSk7XG4gICAxMTdcdFxuICAgMTE4XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMTlcdCAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMjBcdCAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgMTIxXHQgICAgICAgIGJ0bkNoYW5nZS5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgIDEyMlx0ICAgICAgICBidG5DaGFuZ2UuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTIzXHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMjRcdCAgICAgICAgICAgICAgICBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgIDEyNVx0ICAgICAgICAgICAgfVxuICAgMTI2XHQgICAgICAgIH0pO1xuICAgMTI3XHRcbiAgIDEyOFx0ICAgICAgICBidG5FeGl0LnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgIDEyOVx0ICAgICAgICBidG5FeGl0LnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9sb2dvdXQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgMTMwXHQgICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbNV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDIxMFx0XG4gICAyMTFcdCAgICAgICAgcGFjaygpO1xuICAgMjEyXHQgICAgfS8vIDwvZWRpdG9yLWZvbGQ+Ly9HRU4tRU5EOmluaXRDb21wb25lbnRzXG4gICAyMTNcdFxuICAgMjE0XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjE1XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjE2XHQgICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuICAgMjE3XHRcbiAgIDIxOFx0ICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgIDIxOVx0ICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyMFx0ICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyMjFcdCAgICAgICAgfVxuICAgMjIyXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjIzXHRcbiAgIDIyNFx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjI1XHQgICAgICAgIGlmICh2YWxpZGF0ZVBob25lKCkpIHtcbiAgIDIyNlx0ICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgMjI3XHQgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XG4gICAyMjhcdFxuICAgMjI5XHQgICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjMwXHQgICAgICAgICAgICAgICAgLy8gUGhvbmUgbnVtYmVyIGZvdW5kLCBzaG93IHBhc3N3b3JkIGZpZWxkc1xuICAgMjMxXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJUw6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgIDIzMlx0XG4gICAyMzNcdCAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzRcdCAgICAgICAgICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzNVx0ICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzdcdCAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM4XHQgICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzlcdFxuICAgMjQwXHQgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwaG9uZSBmaWVsZCBhbmQgY2hlY2sgYnV0dG9uXG4gICAyNDFcdCAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAyNDJcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgIDI0M1x0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI0NFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjQ1XHQgICAgICAgICAgICB9XG4gICAyNDZcdCAgICAgICAgfVxuICAgMjQ3XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0OFx0XG4gICAyNDlcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjUwXHQgICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDI1MVx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgMjUyXHRcbiAgIDI1M1x0ICAgICAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI1NFx0XG4gICAyNTVcdCAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAyNTZcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjDoG5oIGPDtG5nISBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaS5cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgIDI1N1x0ICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNThcdCAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgIDI1OVx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI2MFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUuXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNjFcdCAgICAgICAgICAgIH1cbiAgIDI2Mlx0ICAgICAgICB9XG4gICAyNjNcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI2NFx0XG4gICAyNjVcdCAgICAvKipcbiAgIDI2Nlx0ICAgICAqIEBwYXJhbSBhcmdzIHRoZSBjb21tYW5kIGxpbmUgYXJndW1lbnRzXG4gICAyNjdcdCAgICAgKi9cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMGI5NGIzNDEtMGU2ZC00YjZmLWE4MmUtZDY5MGM0NWZiZmY0O3Rvb2x1XzAxSlpTM2FuTTVDelE0NTdLbnVmcEJqdCI6eyJyZXF1ZXN0SWQiOiIwYjk0YjM0MS0wZTZkLTRiNmYtYTgyZS1kNjkwYzQ1ZmJmZjQiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUpaUzNhbk01Q3pRNDU3S251ZnBCanQiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmZvcm06XG4gICAgIDFcdDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgPz5cbiAgICAgMlx0XG4gICAgIDNcdDxGb3JtIHZlcnNpb249XCIxLjNcIiBtYXhWZXJzaW9uPVwiMS45XCIgdHlwZT1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZm9ybWluZm8uSkZyYW1lRm9ybUluZm9cIj5cbiAgICAgNFx0ICA8UHJvcGVydGllcz5cbiAgICAgNVx0ICAgIDxQcm9wZXJ0eSBuYW1lPVwiZGVmYXVsdENsb3NlT3BlcmF0aW9uXCIgdHlwZT1cImludFwiIHZhbHVlPVwiM1wiLz5cbiAgICAgNlx0ICA8L1Byb3BlcnRpZXM+XG4gICAgIDdcdCAgPFN5bnRoZXRpY1Byb3BlcnRpZXM+XG4gICAgIDhcdCAgICA8U3ludGhldGljUHJvcGVydHkgbmFtZT1cImZvcm1TaXplUG9saWN5XCIgdHlwZT1cImludFwiIHZhbHVlPVwiMVwiLz5cbiAgICAgOVx0ICAgIDxTeW50aGV0aWNQcm9wZXJ0eSBuYW1lPVwiZ2VuZXJhdGVDZW50ZXJcIiB0eXBlPVwiYm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMTBcdCAgPC9TeW50aGV0aWNQcm9wZXJ0aWVzPlxuICAgIDExXHQgIDxBdXhWYWx1ZXM+XG4gICAgMTJcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19hdXRvUmVzb3VyY2luZ1wiIHR5cGU9XCJqYXZhLmxhbmcuSW50ZWdlclwiIHZhbHVlPVwiMFwiLz5cbiAgICAxM1x0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2F1dG9TZXRDb21wb25lbnROYW1lXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgICAxNFx0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2dlbmVyYXRlRlFOXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJ0cnVlXCIvPlxuICAgIDE1XHQgICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfZ2VuZXJhdGVNbmVtb25pY3NDb2RlXCIgdHlwZT1cImphdmEubGFuZy5Cb29sZWFuXCIgdmFsdWU9XCJmYWxzZVwiLz5cbiAgICAxNlx0ICAgIDxBdXhWYWx1ZSBuYW1lPVwiRm9ybVNldHRpbmdzX2kxOG5BdXRvTW9kZVwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMTdcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc19sYXlvdXRDb2RlVGFyZ2V0XCIgdHlwZT1cImphdmEubGFuZy5JbnRlZ2VyXCIgdmFsdWU9XCIxXCIvPlxuICAgIDE4XHQgICAgPEF1eFZhbHVlIG5hbWU9XCJGb3JtU2V0dGluZ3NfbGlzdGVuZXJHZW5lcmF0aW9uU3R5bGVcIiB0eXBlPVwiamF2YS5sYW5nLkludGVnZXJcIiB2YWx1ZT1cIjBcIi8+XG4gICAgMTlcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc192YXJpYWJsZXNMb2NhbFwiIHR5cGU9XCJqYXZhLmxhbmcuQm9vbGVhblwiIHZhbHVlPVwiZmFsc2VcIi8+XG4gICAgMjBcdCAgICA8QXV4VmFsdWUgbmFtZT1cIkZvcm1TZXR0aW5nc192YXJpYWJsZXNNb2RpZmllclwiIHR5cGU9XCJqYXZhLmxhbmcuSW50ZWdlclwiIHZhbHVlPVwiMlwiLz5cbiAgICAyMVx0ICA8L0F1eFZhbHVlcz5cbiAgICAyMlx0XG4gICAgMjNcdCAgPExheW91dD5cbiAgICAyNFx0ICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMFwiPlxuICAgIDI1XHQgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjZcdCAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjdcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDI4XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMjlcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMTBcIiBwcmVmPVwiMTEwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAzMFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqTGFiZWwxXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDMxXHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDMyXHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMzNcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgMzRcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwialNlcGFyYXRvcjFcIiBtaW49XCItMlwiIHByZWY9XCIzNzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDM1XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDM2XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgMzhcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiakxhYmVsMlwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAzOVx0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjU2XCIgcHJlZj1cIjU2XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA0MFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQaG9uZVwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA0M1x0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjYxXCIgcHJlZj1cIjYxXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA0NFx0ICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYk5ld1Bhc3N3b3JkXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDQ1XHQgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNTdcIiBwcmVmPVwiNTdcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDQ2XHQgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDQ3XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQYXNzd29yZFwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNDhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDQ5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMDJcIiBwcmVmPVwiMTAyXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA1MFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoZWNrXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDUxXHQgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNTJcdCAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDUzXHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDU0XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGFsaWdubWVudD1cIjBcIiBncm91cEFsaWdubWVudD1cIjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNTVcdCAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNTZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjBcIiBwcmVmPVwiNjBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDU4XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1heD1cIjMyNzY3XCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNTlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoYW5nZVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA2MFx0ICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNjFcdCAgICAgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgNjJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNjFcIiBwcmVmPVwiNjFcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDYzXHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYkNvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA2NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxOFwiIHByZWY9XCIxOFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNjVcdCAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cInR4dENvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgcHJlZj1cIjIxMVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNjZcdCAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDY3XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDY4XHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgNjlcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiLTJcIiBwcmVmPVwiNjlcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDcwXHQgICAgICAgICAgPC9Hcm91cD5cbiAgICA3MVx0ICAgICAgPC9Hcm91cD5cbiAgICA3Mlx0ICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICAgIDczXHQgICAgPERpbWVuc2lvbkxheW91dCBkaW09XCIxXCI+XG4gICAgNzRcdCAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIwXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA3NVx0ICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA3Nlx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI0MFwiIHByZWY9XCI0MFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNzdcdCAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpMYWJlbDFcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgNzhcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiMTRcIiBwcmVmPVwiMTRcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDc5XHQgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJqU2VwYXJhdG9yMVwiIG1pbj1cIi0yXCIgcHJlZj1cIjEwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4MFx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIxMlwiIHByZWY9XCIxMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgODFcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgIDgyXHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgODNcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIzXCIgcHJlZj1cIjNcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDg0XHQgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImpMYWJlbDJcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgODVcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgODZcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRQaG9uZVwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4N1x0ICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDg4XHQgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjE4XCIgcHJlZj1cIjE4XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA4OVx0ICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgOTBcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICA5MVx0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjNcIiBwcmVmPVwiM1wiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgOTJcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwibGJOZXdQYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICA5M1x0ICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICA5NFx0ICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cInR4dFBhc3N3b3JkXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk1XHQgICAgICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwMlwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAgOTZcdCAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIyXCIgcHJlZj1cIjJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk3XHQgICAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudCBpZD1cImJ0bkNoZWNrXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgIDk4XHQgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgIDk5XHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMDBcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiOFwiIHByZWY9XCI4XCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgIDEwMVx0ICAgICAgICAgICAgICA8R3JvdXAgdHlwZT1cIjEwM1wiIGdyb3VwQWxpZ25tZW50PVwiMFwiIGF0dHJpYnV0ZXM9XCIwXCI+XG4gICAxMDJcdCAgICAgICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgIDEwM1x0ICAgICAgICAgICAgICAgICAgICAgIDxFbXB0eVNwYWNlIG1pbj1cIjNcIiBwcmVmPVwiM1wiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDRcdCAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwibGJDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDVcdCAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMDZcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJ0eHRDb25maXJtUGFzc3dvcmRcIiBtaW49XCItMlwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDdcdCAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgIDEwOFx0ICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCIzMFwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMDlcdCAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjNcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgMTEwXHQgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuRXhpdFwiIGFsaWdubWVudD1cIjNcIiBtaW49XCItMlwiIHByZWY9XCIzMFwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAxMTFcdCAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5DaGFuZ2VcIiBhbGlnbm1lbnQ9XCIzXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgMTEyXHQgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAxMTNcdCAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgcHJlZj1cIjQwXCIgbWF4PVwiMzI3NjdcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgIDExNFx0ICAgICAgICAgIDwvR3JvdXA+XG4gICAxMTVcdCAgICAgIDwvR3JvdXA+XG4gICAxMTZcdCAgICA8L0RpbWVuc2lvbkxheW91dD5cbiAgIDExN1x0ICA8L0xheW91dD5cbiAgIDExOFx0ICA8U3ViQ29tcG9uZW50cz5cbiAgIDExOVx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KTGFiZWxcIiBuYW1lPVwiakxhYmVsMVwiPlxuICAgMTIwXHQgICAgICA8UHJvcGVydGllcz5cbiAgIDEyMVx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDEyMlx0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIzNlwiIHN0eWxlPVwiMVwiLz5cbiAgIDEyM1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTI0XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9yZWdyb3VuZFwiIHR5cGU9XCJqYXZhLmF3dC5Db2xvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkNvbG9yRWRpdG9yXCI+XG4gICAxMjVcdCAgICAgICAgICA8Q29sb3IgYmx1ZT1cIjBcIiBncmVlbj1cImEyXCIgaWQ9XCJBY3Rpb25zLlllbGxvd1wiIHBhbGV0dGU9XCIzXCIgcmVkPVwiZWRcIiB0eXBlPVwicGFsZXR0ZVwiLz5cbiAgIDEyNlx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTI3XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNDtJIE0mI3gxZWFjO1QgS0gmI3gxZWE4O1VcIi8+XG4gICAxMjhcdCAgICAgIDwvUHJvcGVydGllcz5cbiAgIDEyOVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTMwXHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJqTGFiZWwyXCI+XG4gICAxMzFcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTMyXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTMzXHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTM0XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxMzVcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlMmI3gxZWQxOyAmI3gxMTE7aSYjeDFlYzc7biB0aG8mI3gxZWExO2k6IFwiLz5cbiAgIDEzNlx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTM3XHQgICAgPC9Db21wb25lbnQ+XG4gICAxMzhcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiTmV3UGFzc3dvcmRcIj5cbiAgIDEzOVx0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxNDBcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAxNDFcdCAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAxNDJcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE0M1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiTSYjeDFlYWQ7dCBraCYjeDFlYTk7dSBtJiN4MWVkYjtpOlwiLz5cbiAgIDE0NFx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTQ1XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNDZcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkxhYmVsXCIgbmFtZT1cImxiQ29uZmlybVBhc3N3b3JkXCI+XG4gICAxNDdcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTQ4XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTQ5XHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTUwXHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNTFcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlgmI3hlMTtjIG5oJiN4MWVhZDtuIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3U6XCIvPlxuICAgMTUyXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAxNTNcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1NFx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KU2VwYXJhdG9yXCIgbmFtZT1cImpTZXBhcmF0b3IxXCI+XG4gICAxNTVcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1Nlx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KVGV4dEZpZWxkXCIgbmFtZT1cInR4dFBob25lXCI+XG4gICAxNTdcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE1OFx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoZWNrXCI+XG4gICAxNTlcdCAgICAgIDxQcm9wZXJ0aWVzPlxuICAgMTYwXHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgMTYxXHQgICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjE0XCIgc3R5bGU9XCIxXCIvPlxuICAgMTYyXHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNjNcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgIDE2NFx0ICAgICAgICAgIDxJbWFnZSBpY29uVHlwZT1cIjNcIiBuYW1lPVwiL0ltYWdlcy9zZWFyY2gucG5nXCIvPlxuICAgMTY1XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxNjZcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIktpJiN4MWVjMzttIHRyYVwiLz5cbiAgIDE2N1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgMTY4XHQgICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAxNjlcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE3MFx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTcxXHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzJcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0UGFzc3dvcmRcIj5cbiAgIDE3M1x0ICAgIDwvQ29tcG9uZW50PlxuICAgMTc0XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dENvbmZpcm1QYXNzd29yZFwiPlxuICAgMTc1XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzZcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSkJ1dHRvblwiIG5hbWU9XCJidG5DaGFuZ2VcIj5cbiAgIDE3N1x0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxNzhcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAxNzlcdCAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAxODBcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE4MVx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgMTgyXHQgICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiLz5cbiAgIDE4M1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTg0XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCImI3gxMTA7JiN4MWVkNTtpIG0mI3gxZWFkO3Qga2gmI3gxZWE5O3VcIi8+XG4gICAxODVcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJjdXJzb3JcIiB0eXBlPVwiamF2YS5hd3QuQ3Vyc29yXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5DdXJzb3JFZGl0b3JcIj5cbiAgIDE4Nlx0ICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgMTg3XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxODhcdCAgICAgIDwvUHJvcGVydGllcz5cbiAgIDE4OVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTkwXHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgMTkxXHQgICAgICA8UHJvcGVydGllcz5cbiAgIDE5Mlx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDE5M1x0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgIDE5NFx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTk1XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAxOTZcdCAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvbG9nb3V0LnBuZ1wiLz5cbiAgIDE5N1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTk4XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwidGV4dFwiIHR5cGU9XCJqYXZhLmxhbmcuU3RyaW5nXCIgdmFsdWU9XCJUaG8mI3hlMTt0XCIvPlxuICAgMTk5XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAyMDBcdCAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgIDIwMVx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMjAyXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAyMDNcdCAgICAgIDxFdmVudHM+XG4gICAyMDRcdCAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLz5cbiAgIDIwNVx0ICAgICAgPC9FdmVudHM+XG4gICAyMDZcdCAgICA8L0NvbXBvbmVudD5cbiAgIDIwN1x0ICA8L1N1YkNvbXBvbmVudHM+XG4gICAyMDhcdDwvRm9ybT5cbiAgIDIwOVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyMDlcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRkMTk0ZjA0LWVmY2YtNDNmNy05NGNmLTU1YjMwOGRmYTlmYzt0b29sdV8wMVRxZlVLN1J0dll5ZnE5c0JDRTdoMXEiOnsicmVxdWVzdElkIjoiZGQxOTRmMDQtZWZjZi00M2Y3LTk0Y2YtNTViMzA4ZGZhOWZjIiwidG9vbFVzZUlkIjoidG9vbHVfMDFUcWZVSzdSdHZZeWZxOXNCQ0U3aDFxIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5mb3JtLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDE1NVx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTU2XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpUZXh0RmllbGRcIiBuYW1lPVwidHh0UGhvbmVcIj5cbiAgIDE1N1x0ICAgIDwvQ29tcG9uZW50PlxuICAgMTU4XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuQ2hlY2tcIj5cbiAgIDE1OVx0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxNjBcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAxNjFcdCAgICAgICAgICA8Rm9udCBuYW1lPVwiQXJpYWxcIiBzaXplPVwiMTRcIiBzdHlsZT1cIjFcIi8+XG4gICAxNjJcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE2M1x0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImljb25cIiB0eXBlPVwiamF2YXguc3dpbmcuSWNvblwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuSWNvbkVkaXRvclwiPlxuICAgMTY0XHQgICAgICAgICAgPEltYWdlIGljb25UeXBlPVwiM1wiIG5hbWU9XCIvSW1hZ2VzL3NlYXJjaC5wbmdcIi8+XG4gICAxNjVcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE2Nlx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiS2kmI3gxZWMzO20gdHJhXCIvPlxuICAgMTY3XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cImphdmEuYXd0LkN1cnNvclwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5tb2R1bGVzLmZvcm0uZWRpdG9yczIuQ3Vyc29yRWRpdG9yXCI+XG4gICAxNjhcdCAgICAgICAgICA8Q29sb3IgaWQ9XCJIYW5kIEN1cnNvclwiLz5cbiAgIDE2OVx0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTcwXHQgICAgICA8L1Byb3BlcnRpZXM+XG4gICAxNzFcdCAgICAgIDxFdmVudHM+XG4gICAxNzJcdCAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcIi8+XG4gICAxNzNcdCAgICAgIDwvRXZlbnRzPlxuICAgMTc0XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzVcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0UGFzc3dvcmRcIj5cbiAgIDE3Nlx0ICAgIDwvQ29tcG9uZW50PlxuICAgMTc3XHQgICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dENvbmZpcm1QYXNzd29yZFwiPlxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMTc2XHQgICAgPC9Db21wb25lbnQ+XG4gICAxNzdcdCAgICA8Q29tcG9uZW50IGNsYXNzPVwiamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGRcIiBuYW1lPVwidHh0Q29uZmlybVBhc3N3b3JkXCI+XG4gICAxNzhcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE3OVx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoYW5nZVwiPlxuICAgMTgwXHQgICAgICA8UHJvcGVydGllcz5cbiAgIDE4MVx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvbnRcIiB0eXBlPVwiamF2YS5hd3QuRm9udFwiIGVkaXRvcj1cIm9yZy5uZXRiZWFucy5iZWFuaW5mby5lZGl0b3JzLkZvbnRFZGl0b3JcIj5cbiAgIDE4Mlx0ICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgIDE4M1x0ICAgICAgICA8L1Byb3BlcnR5PlxuICAgMTg0XHQgICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiaWNvblwiIHR5cGU9XCJqYXZheC5zd2luZy5JY29uXCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLm1vZHVsZXMuZm9ybS5lZGl0b3JzMi5JY29uRWRpdG9yXCI+XG4gICAxODVcdCAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIvPlxuICAgMTg2XHQgICAgICAgIDwvUHJvcGVydHk+XG4gICAxODdcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIiYjeDExMDsmI3gxZWQ1O2kgbSYjeDFlYWQ7dCBraCYjeDFlYTk7dVwiLz5cbiAgIDE4OFx0ICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgMTg5XHQgICAgICAgICAgPENvbG9yIGlkPVwiSGFuZCBDdXJzb3JcIi8+XG4gICAxOTBcdCAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgIDE5MVx0ICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgMTkyXHQgICAgICA8RXZlbnRzPlxuICAgMTkzXHQgICAgICAgIDxFdmVudEhhbmRsZXIgZXZlbnQ9XCJhY3Rpb25QZXJmb3JtZWRcIiBsaXN0ZW5lcj1cImphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyXCIgcGFyYW1ldGVycz1cImphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50XCIgaGFuZGxlcj1cImJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFwiLz5cbiAgIDE5NFx0ICAgICAgPC9FdmVudHM+XG4gICAxOTVcdCAgICA8L0NvbXBvbmVudD5cbiAgIDE5Nlx0ICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkV4aXRcIj5cbiAgIDE5N1x0ICAgICAgPFByb3BlcnRpZXM+XG4gICAxOThcdCAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjAzMWFlY2MzLTZmNTItNDJjMy1hOTM5LWYyMDhkM2MxNmU4Njt0b29sdV8wMVlTeW9UNjE0WkFIY21nYnJrOFZOTlYiOnsicmVxdWVzdElkIjoiMDMxYWVjYzMtNmY1Mi00MmMzLWE5MzktZjIwOGQzYzE2ZTg2IiwidG9vbFVzZUlkIjoidG9vbHVfMDFZU3lvVDYxNFpBSGNtZ2JyazhWTk5WIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0XG4gICAgMTFcdC8qKlxuICAgIDEyXHQgKlxuICAgIDEzXHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxMDJkNmE3My01ZTQ5LTRmYjUtOTgxNy0yMDZiODgxYjJkMDk7dG9vbHVfMDFQcFdpMTlQakVuOU4xZzNIZllHbzhLIjp7InJlcXVlc3RJZCI6IjEwMmQ2YTczLTVlNDktNGZiNS05ODE3LTIwNmI4ODFiMmQwOSIsInRvb2xVc2VJZCI6InRvb2x1XzAxUHBXaTE5UGpFbjlOMWczSGZZR284SyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0XG4gICAgMTFcdC8qKlxuICAgIDEyXHQgKlxuICAgIDEzXHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE0XHQgKi9cbiAgICAxNVx0cHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcbiAgICAxNlx0ICAgIHByaXZhdGUgU3Vic2NyaWJlciBjdXJyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgMTdcdCAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICAxOFx0XG4gICAgMTlcdCAgICAvKipcbiAgICAyMFx0ICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMwNVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2M4ODQxOGMtY2U4Ni00NzlhLTllMjQtY2FjMzcwMTkxZDAzO3Rvb2x1XzAxTWlmWHJ2YnM1eFFkdWNNaFI5V0pzVyI6eyJyZXF1ZXN0SWQiOiI3Yzg4NDE4Yy1jZTg2LTQ3OWEtOWUyNC1jYWMzNzAxOTFkMDMiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMU1pZlhydmJzNXhRZHVjTWhSOVdKc1ciLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICAgICA0XHQgKi9cbiAgICAgNVx0cGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xuICAgICA4XHRpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbiAgICAgOVx0aW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuICAgIDEwXHRpbXBvcnQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5Mb2dpbjtcbiAgICAxMVx0XG4gICAgMTJcdC8qKlxuICAgIDEzXHQgKlxuICAgIDE0XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJjMmY2NWUzZC1lMDYzLTQxYjUtYjYwMC04OGNhZjc0ZDdhNTI7dG9vbHVfMDExb0NHUldvYVF1TWNBd0NaN0tIUnZCIjp7InJlcXVlc3RJZCI6ImMyZjY1ZTNkLWUwNjMtNDFiNS1iNjAwLTg4Y2FmNzRkN2E1MiIsInRvb2xVc2VJZCI6InRvb2x1XzAxMW9DR1JXb2FRdU1jQXdDWjdLSFJ2QiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgIDIyMFx0XG4gICAyMjFcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMjJcdCAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXG4gICAyMjNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjI0XHRcbiAgIDIyNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMVx0XG4gICAyMzJcdCAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHBob25lIGZpZWxkIGFuZCBjaGVjayBidXR0b25cbiAgIDIzM1x0ICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgIDIzNFx0ICAgICAgICAgICAgICAgIGJ0bkNoZWNrLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgMjM1XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjM2XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyMzdcdCAgICAgICAgICAgIH1cbiAgIDIzOFx0ICAgICAgICB9XG4gICAyMzlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjQwXHRcbiAgIDI0MVx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNDJcdCAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgMjQzXHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAyNDRcdFxuICAgMjQ1XHQgICAgICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgIDI0OFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpLlwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjQ5XHQgICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI1MFx0ICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjUxXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjUyXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRo4bqldCBi4bqhaSEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdS5cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1M1x0ICAgICAgICAgICAgfVxuICAgMjU0XHQgICAgICAgIH1cbiAgIDI1NVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjU2XHRcbiAgIDI1N1x0ICAgIC8qKlxuICAgMjU4XHQgICAgICogQHBhcmFtIGFyZ3MgdGhlIGNvbW1hbmQgbGluZSBhcmd1bWVudHNcbiAgIDI1OVx0ICAgICAqL1xuICAgMjYwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3NbXSkge1xuVG90YWwgbGluZXMgaW4gZmlsZTogMzA2XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1MmI0ZDkxNy1iOGRkLTQ3NGUtOWI0ZC05YmY5NDJjOTk3MjY7dG9vbHVfMDFXcm5MQzNNRWV5MmI5dmU5ckNBRUp3Ijp7InJlcXVlc3RJZCI6IjUyYjRkOTE3LWI4ZGQtNDc0ZS05YjRkLTliZjk0MmM5OTcyNiIsInRvb2xVc2VJZCI6InRvb2x1XzAxV3JuTEMzTUVleTJiOXZlOXJDQUVKdyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyMTJcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjEzXHQgICAgICAgIH1cbiAgIDIxNFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIxN1x0ICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XG4gICAyMThcdCAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgIDIxOVx0ICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgMjIwXHRcbiAgIDIyMVx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDIyMlx0ICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcbiAgIDIyM1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyMjRcdFxuICAgMjI1XHQgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI2XHQgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjdcdCAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjhcdCAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI5XHQgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMFx0ICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjMxXHRcbiAgIDIzMlx0ICAgICAgICAgICAgICAgIC8vIERpc2FibGUgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvblxuICAgMjMzXHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjM0XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyMzVcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDIzN1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjM4XHQgICAgICAgICAgICB9XG4gICAyMzlcdCAgICAgICAgfVxuICAgMjQwXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0MVx0XG4gICAyNDJcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjQzXHQgICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDI0NFx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyZGQxMmQwNS1mN2ZiLTQwMDQtYTNmZC00ZmYyZWM4NTA5Zjg7dG9vbHVfMDFGMnpnZnpCbzdzY2FkcXpIMlBRbXk2Ijp7InJlcXVlc3RJZCI6IjJkZDEyZDA1LWY3ZmItNDAwNC1hM2ZkLTRmZjJlYzg1MDlmOCIsInRvb2xVc2VJZCI6InRvb2x1XzAxRjJ6Z2Z6Qm83c2NhZHF6SDJQUW15NiIsInBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IkZhaWxlZCB0byBlZGl0IHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuIFNlZSBiZWxvdyBmb3IgZGV0YWlscy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuTm8gcmVwbGFjZW1lbnQgd2FzIHBlcmZvcm1lZCwgb2xkU3RyIGRpZCBub3QgYXBwZWFyIHZlcmJhdGltIGluIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgIDIxMlx0ICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyMTNcdCAgICAgICAgfVxuICAgMjE0XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjE1XHRcbiAgIDIxNlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjE3XHQgICAgICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XG4gICAyMThcdCAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgIDIxOVx0ICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgMjIwXHRcbiAgIDIyMVx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDIyMlx0ICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcbiAgIDIyM1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyMjRcdFxuICAgMjI1XHQgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI2XHQgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjdcdCAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjhcdCAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI5XHQgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMFx0ICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjMxXHRcbiAgIDIzMlx0ICAgICAgICAgICAgICAgIC8vIERpc2FibGUgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvblxuICAgMjMzXHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjM0XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyMzVcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDIzN1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjM4XHQgICAgICAgICAgICB9XG4gICAyMzlcdCAgICAgICAgfVxuICAgMjQwXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0MVx0XG4gICAyNDJcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjQzXHQgICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDI0NFx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtMSw1ICsxLDUgQEBcbiAgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4tICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XG4rICAgICAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgICAgICBjdXJyZW50U3Vic2NyaWJlciA9IFN1YnNjcmliZXJEQU8uZ2V0QnlQaG9uZShwaG9uZSk7XG4gXG5cblxuRml4IGZhaWxlZCBzdHJfcmVwbGFjZSBlbnRyaWVzIGFjY29yZGluZ2x5IGFuZCB0cnkgYWdhaW4uXG4iLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sImRmMTI5ODRiLWFiMzEtNGUxOC1hNjJhLTI4ZGUxMDkwNGJiMzt0b29sdV8wMVJTYWZvdFBkUEdwZ0JGeHRHckNtd1ciOnsicmVxdWVzdElkIjoiZGYxMjk4NGItYWIzMS00ZTE4LWE2MmEtMjhkZTEwOTA0YmIzIiwidG9vbFVzZUlkIjoidG9vbHVfMDFSU2Fmb3RQZFBHcGdCRnh0R3JDbXdXIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhOlxuICAgMjE1XHRcbiAgIDIxNlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjE3XHQgICAgICAgICAgICBpZiAodmFsaWRhdGVQaG9uZSgpKSB7XG4gICAyMThcdCAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgIDIxOVx0ICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgMjIwXHRcbiAgIDIyMVx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDIyMlx0ICAgICAgICAgICAgICAgIC8vIFBob25lIG51bWJlciBmb3VuZCwgc2hvdyBwYXNzd29yZCBmaWVsZHNcbiAgIDIyM1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyMjRcdFxuICAgMjI1XHQgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI2XHQgICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjdcdCAgICAgICAgICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjhcdCAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI5XHQgICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzMFx0ICAgICAgICAgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjMxXHRcbiAgIDIzMlx0ICAgICAgICAgICAgICAgIC8vIERpc2FibGUgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvblxuICAgMjMzXHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjM0XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyMzVcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDIzN1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjM4XHQgICAgICAgICAgICB9XG4gICAyMzlcdCAgICAgICAgfVxuICAgMjQwXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMwN1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNGY2ODdmMzQtMGJkNy00MGY0LTliNTctNTU5OWZhZDk4OGY3O3Rvb2x1XzAxNEZOR01qRXlkVTRFV0E2UFJiR1pNUSI6eyJyZXF1ZXN0SWQiOiI0ZjY4N2YzNC0wYmQ3LTQwZjQtOWI1Ny01NTk5ZmFkOTg4ZjciLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTRGTkdNakV5ZFU0RVdBNlBSYkdaTVEiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjEyXHQgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgIDIxM1x0ICAgICAgICB9XG4gICAyMTRcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAyMTVcdFxuICAgMjE2XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyMTdcdCAgICAgICAgLy8gRGVidWcgbWVzc2FnZSB0byBjb25maXJtIGJ1dHRvbiBjbGljayBpcyByZWdpc3RlcmVkXG4gICAyMThcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ2hlY2sgYnV0dG9uIGNsaWNrZWQhXCIpO1xuICAgMjE5XHRcbiAgIDIyMFx0ICAgICAgICAvLyBDaGVjayBpZiBwaG9uZSBmaWVsZCBpcyBlbXB0eVxuICAgMjIxXHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKS50cmltKCk7XG4gICAyMjJcdCAgICAgICAgaWYgKHBob25lLmlzRW1wdHkoKSkge1xuICAgMjIzXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyMjRcdCAgICAgICAgICAgIHJldHVybjtcbiAgIDIyNVx0ICAgICAgICB9XG4gICAyMjZcdFxuICAgMjI3XHQgICAgICAgIGlmICh2YWxpZGF0ZVBob25lKCkpIHtcbiAgIDIyOFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUGhvbmUgdmFsaWRhdGlvbiBwYXNzZWQ6IFwiICsgcGhvbmUpO1xuICAgMjI5XHQgICAgICAgICAgICB0cnkge1xuICAgMjMwXHQgICAgICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgMjMxXHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGF0YWJhc2UgcXVlcnkgY29tcGxldGVkLiBSZXN1bHQ6IFwiICsgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwgPyBcIkZvdW5kXCIgOiBcIk5vdCBmb3VuZFwiKSk7XG4gICAyMzJcdFxuICAgMjMzXHQgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgIDIzNFx0ICAgICAgICAgICAgICAgICAgICAvLyBQaG9uZSBudW1iZXIgZm91bmQsIHNob3cgcGFzc3dvcmQgZmllbGRzXG4gICAyMzVcdCAgICAgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJUw6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgIDIzNlx0XG4gICAyMzdcdCAgICAgICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM4XHQgICAgICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM5XHQgICAgICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI0MFx0ICAgICAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjQxXHQgICAgICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNDJcdCAgICAgICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNDNcdFxuICAgMjQ0XHQgICAgICAgICAgICAgICAgICAgIC8vIERpc2FibGUgcGhvbmUgZmllbGQgYW5kIGNoZWNrIGJ1dHRvblxuICAgMjQ1XHQgICAgICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgIDI0Nlx0ICAgICAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgIDI0N1x0ICAgICAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgIDI0OFx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNDlcdCAgICAgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNTBcdCAgICAgICAgICAgICAgICB9XG4gICAyNTFcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgMjUyXHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXhjZXB0aW9uIG9jY3VycmVkOiBcIiArIGV4LmdldE1lc3NhZ2UoKSk7XG4gICAyNTNcdCAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDI1NFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2kga2hpIHTDrG0ga2nhur9tOiBcIiArIGV4LmdldE1lc3NhZ2UoKSwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1NVx0ICAgICAgICAgICAgfVxuICAgMjU2XHQgICAgICAgIH1cbiAgIDI1N1x0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNThcdFxuICAgMjU5XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI2MFx0ICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyNjFcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMDExZDdmNDMtYTYzOC00MjAyLTliNGItOWNjYjU3NzdlMGQ1O3Rvb2x1XzAxNzNmMVJTelhSZ1g0amh3N2syYmFMVSI6eyJyZXF1ZXN0SWQiOiIwMTFkN2Y0My1hNjM4LTQyMDItOWI0Yi05Y2NiNTc3N2UwZDUiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTczZjFSU3pYUmdYNGpodzdrMmJhTFUiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAgNDVcdCAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgIDQ4XHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICA0OVx0ICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNTBcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTFcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA1Mlx0ICAgICAgICB9XG4gICAgNTNcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTRcdCAgICB9XG4gICAgNTVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzI0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyY2ZhZDEyOC1jZDI2LTRiZjUtYjJhYS03NTY0OWY2NDNkNDE7dG9vbHVfMDEzQjF6b0NxQndvU3d4NDlBanlEZmFZIjp7InJlcXVlc3RJZCI6IjJjZmFkMTI4LWNkMjYtNGJmNS1iMmFhLTc1NjQ5ZjY0M2Q0MSIsInRvb2xVc2VJZCI6InRvb2x1XzAxM0Ixem9DcUJ3b1N3eDQ5QWp5RGZhWSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNDNcdCAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDRcdCAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDQ1XHQgICAgfVxuICAgIDQ2XHRcbiAgICA0N1x0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcbiAgICA0OFx0ICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCkudHJpbSgpO1xuICAgIDQ5XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlZhbGlkYXRpbmcgcGhvbmU6IFwiICsgcGhvbmUpO1xuICAgIDUwXHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlBob25lIGxlbmd0aDogXCIgKyBwaG9uZS5sZW5ndGgoKSk7XG4gICAgNTFcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTWF0Y2hlcyBwYXR0ZXJuOiBcIiArIHBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSk7XG4gICAgNTJcdFxuICAgIDUzXHQgICAgICAgIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICA1NFx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcgbmjhuq1wIMSRw7puZyDEkeG7i25oIGThuqFuZyBz4buRIMSRaeG7h24gdGhv4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA1NVx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDU2XHQgICAgICAgIH1cbiAgICA1N1x0ICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICA1OFx0ICAgIH1cbiAgICA1OVx0XG4gICAgNjBcdCAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgIDYxXHQgICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICA2Mlx0ICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gdHh0Q29uZmlybVBhc3N3b3JkLmdldFRleHQoKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOTdiODgzMWItOWFjZS00YTViLTliMzktYzA1MGIyYzEzMzMxO3Rvb2x1XzAxVmQ4NndaZk52SGhHZUV5UHZ5cWJNNyI6eyJyZXF1ZXN0SWQiOiI5N2I4ODMxYi05YWNlLTRhNWItOWIzOS1jMDUwYjJjMTMzMzEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVZkODZ3WmZOdkhoR2VFeVB2eXFiTTciLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhOlxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeVBob25lKFN0cmluZyBwaG9uZSkge1xuICAgIDgyXHQgICAgICAgIFN1YnNjcmliZXIgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgODNcdCAgICAgICAgdHJ5IHtcbiAgICA4NFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEoXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiKTtcbiAgICA4NVx0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgIDg2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgODdcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgODhcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDkwXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOTFcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTJcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICA5M1x0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgIDk0XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgIDk1XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICB9XG4gICAgOTdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgOThcdCAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk5XHQgICAgICAgIH1cbiAgIDEwMFx0ICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDExNFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGIwNDk2NzMtNGFiZi00NmJlLWE3ZDYtYzhhODA5ZTgxYWEyO3Rvb2x1XzAxMzk2bm04OE5zZVdSbVBOeTl5NzIxdSI6eyJyZXF1ZXN0SWQiOiJkYjA0OTY3My00YWJmLTQ2YmUtYTdkNi1jOGE4MDllODFhYTIiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTM5Nm5tODhOc2VXUm1QTnk5eTcyMXUiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA3N1x0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgNzhcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzlcdCAgICB9XG4gICAgODBcdFxuICAgIDgxXHQgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5UGhvbmUoU3RyaW5nIHBob25lKSB7XG4gICAgODJcdCAgICAgICAgU3Vic2NyaWJlciBzdWJzY3JpYmVyID0gbnVsbDtcbiAgICA4M1x0ICAgICAgICB0cnkge1xuICAgIDg0XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJTZWFyY2hpbmcgZm9yIHBob25lOiBcIiArIHBob25lKTtcbiAgICA4NVx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1Qgcy4qLCB1LiogRlJPTSBTVUJTQ1JJQkVSIHMgSk9JTiBVU0VSIHUgT04gcy51c2VyX2lkID0gdS51c2VyX2lkIFdIRVJFIHMucGhvbmUgPSAnXCIgKyBwaG9uZSArIFwiJ1wiO1xuICAgIDg2XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJTUUwgUXVlcnk6IFwiICsgcXVlcnkpO1xuICAgIDg3XHRcbiAgICA4OFx0ICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gRGJPcGVyYXRpb25zLmdldERhdGEocXVlcnkpO1xuICAgIDg5XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJRdWVyeSBleGVjdXRlZCwgY2hlY2tpbmcgcmVzdWx0cy4uLlwiKTtcbiAgICA5MFx0XG4gICAgOTFcdCAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICA5Mlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlN1YnNjcmliZXIgZm91bmQhXCIpO1xuICAgIDkzXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgOTRcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFN1YnNjcmliZXJfaWQocnMuZ2V0SW50KFwic3Vic2NyaWJlcl9pZFwiKSk7XG4gICAgOTVcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldEZ1bGxOYW1lKHJzLmdldFN0cmluZyhcIm5hbWVcIikpO1xuICAgIDk2XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgIDk3XHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRQaG9uZShycy5nZXRTdHJpbmcoXCJwaG9uZVwiKSk7XG4gICAgOThcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJfaWQocnMuZ2V0SW50KFwidXNlcl9pZFwiKSk7XG4gICAgOTlcdCAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgIDEwMFx0ICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGFzc3dvcmQocnMuZ2V0U3RyaW5nKFwicGFzc3dvcmRcIikpO1xuICAgMTAxXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRSb2xlKHJzLmdldFN0cmluZyhcInJvbGVcIikpO1xuICAgMTAyXHQgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgMTAzXHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiU3Vic2NyaWJlciBkYXRhIGxvYWRlZDogXCIgKyBzdWJzY3JpYmVyLmdldEZ1bGxOYW1lKCkpO1xuICAgMTA0XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMTA1XHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTm8gc3Vic2NyaWJlciBmb3VuZCB3aXRoIHBob25lOiBcIiArIHBob25lKTtcbiAgIDEwNlx0ICAgICAgICAgICAgfVxuICAgMTA3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgMTA4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFeGNlcHRpb24gaW4gZ2V0QnlQaG9uZTogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgMTA5XHQgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExMFx0ICAgICAgICB9XG4gICAxMTFcdCAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAxMTJcdCAgICB9XG4gICAxMTNcdFxuICAgMTE0XHQgICAgcHVibGljIHN0YXRpYyBib29sZWFuIHVwZGF0ZVBhc3N3b3JkKGludCB1c2VySWQsIFN0cmluZyBuZXdQYXNzd29yZCkge1xuICAgMTE1XHQgICAgICAgIHRyeSB7XG4gICAxMTZcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiVVBEQVRFIFVTRVIgU0VUIHBhc3N3b3JkID0gJ1wiICsgbmV3UGFzc3dvcmQgKyBcIicgV0hFUkUgdXNlcl9pZCA9IFwiICsgdXNlcklkO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3ZjhhYzg2OC1hNWE1LTRiYzktODgzNC1jYzk4YTRiMjM3MmQ7dG9vbHVfMDFZTEZ0NnhWcVhHWWhUdVZWdW5oQUNGIjp7InJlcXVlc3RJZCI6IjdmOGFjODY4LWE1YTUtNGJjOS04ODM0LWNjOThhNGIyMzcyZCIsInRvb2xVc2VJZCI6InRvb2x1XzAxWUxGdDZ4VnFYR1loVHVWVnVuaEFDRiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL0RBTy9Db25uZWN0aW9uUHJvdmlkZXIuamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBqYXZhLnNxbC4qO1xuICAgICA4XHRcbiAgICAgOVx0LyoqXG4gICAgMTBcdCAqXG4gICAgMTFcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTJcdCAqL1xuICAgIDEzXHRwdWJsaWMgY2xhc3MgQ29ubmVjdGlvblByb3ZpZGVyIHtcbiAgICAxNFx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgMTVcdCAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgVVNFUiA9IFwibWludG9yaTA5XCI7XG4gICAgMTZcdCAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFTU1dPUkQgPSBcIk1pbnRvcnkwOUA5NlwiO1xuICAgIDE3XHQgICAgXG4gICAgMThcdCAgICBwdWJsaWMgc3RhdGljIENvbm5lY3Rpb24gZ2V0Q29ubigpe1xuICAgIDE5XHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgIHRyeSB7XG4gICAgMjJcdCAgICAgICAgICAgIENsYXNzLmZvck5hbWUoXCJjb20ubXlzcWwuY2ouamRiYy5Ecml2ZXJcIik7XG4gICAgMjNcdCAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgMjRcdCAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBlKSB7XG4gICAgMjVcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIk15U1FMIEpEQkMgRHJpdmVyIG5vdCBmb3VuZC5cIik7XG4gICAgMjZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjdcdCAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAyOFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiQ29ubmVjdGlvbiBmYWlsZWQuXCIpO1xuICAgIDI5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgICAgICByZXR1cm4gY29ubjtcbiAgICAzMlx0ICAgIH1cbiAgICAzM1x0ICAgIFxuICAgIDM0XHQgICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiAgICAzNVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb24gPSBnZXRDb25uKCk7XG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgIGlmIChjb25uZWN0aW9uICE9IG51bGwpIHtcbiAgICAzOFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiS+G6v3QgbuG7kWkgdGjDoG5oIGPDtG5nIVwiKTtcbiAgICAzOVx0ICAgICAgICB9IGVsc2Uge1xuICAgIDQwXHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJL4bq/dCBu4buRaSB0aOG6pXQgYuG6oWkhXCIpO1xuICAgIDQxXHQgICAgICAgIH1cbiAgICA0Mlx0ICAgIH1cbiAgICA0M1x0ICAgIFxuICAgIDQ0XHR9XG4gICAgNDVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNDVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImE2NjQxM2NlLWEzZjktNDViYy1iYzY2LTdjNjI1ZTQwOWM5Njt0b29sdV8wMVIxaDRldFZEMkhvVjlMRXp0MzUxTEQiOnsicmVxdWVzdElkIjoiYTY2NDEzY2UtYTNmOS00NWJjLWJjNjYtN2M2MjVlNDA5Yzk2IiwidG9vbFVzZUlkIjoidG9vbHVfMDFSMWg0ZXRWRDJIb1Y5TEV6dDM1MUxEIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxNFx0ICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgMTVcdCAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgVVNFUiA9IFwibWludG9yaTA5XCI7XG4gICAgMTZcdCAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFTU1dPUkQgPSBcIk1pbnRvcnkwOUA5NlwiO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgIHB1YmxpYyBzdGF0aWMgQ29ubmVjdGlvbiBnZXRDb25uKCl7XG4gICAgMTlcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAyMFx0XG4gICAgMjFcdCAgICAgICAgdHJ5IHtcbiAgICAyMlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIGRhdGFiYXNlLi4uXCIpO1xuICAgIDIzXHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVUkw6IFwiICsgVVJMKTtcbiAgICAyNFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXNlcjogXCIgKyBVU0VSKTtcbiAgICAyNVx0XG4gICAgMjZcdCAgICAgICAgICAgIENsYXNzLmZvck5hbWUoXCJjb20ubXlzcWwuY2ouamRiYy5Ecml2ZXJcIik7XG4gICAgMjdcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkRyaXZlciBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgIDI4XHRcbiAgICAyOVx0ICAgICAgICAgICAgY29ubiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbihVUkwsIFVTRVIsIFBBU1NXT1JEKTtcbiAgICAzMFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ29ubmVjdGlvbiBlc3RhYmxpc2hlZDogXCIgKyAoY29ubiAhPSBudWxsKSk7XG4gICAgMzFcdFxuICAgIDMyXHQgICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgIDMzXHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJNeVNRTCBKREJDIERyaXZlciBub3QgZm91bmQuXCIpO1xuICAgIDM0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDM1XHQgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgMzZcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkNvbm5lY3Rpb24gZmFpbGVkOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAzN1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAzOFx0ICAgICAgICB9XG4gICAgMzlcdCAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgNDBcdCAgICB9XG4gICAgNDFcdFxuICAgIDQyXHQgICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiAgICA0M1x0ICAgICAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb24gPSBnZXRDb25uKCk7XG4gICAgNDRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiMTU3MWI2My0wMWMzLTRiMjEtYTI3Yy0yZDcwZmY2YTY0MzQ7dG9vbHVfMDFNVnlaMmNNV05CaDJRZUJtZE5IWXBZIjp7InJlcXVlc3RJZCI6ImIxNTcxYjYzLTAxYzMtNGIyMS1hMjdjLTJkNzBmZjZhNjQzNCIsInRvb2xVc2VJZCI6InRvb2x1XzAxTVZ5WjJjTVdOQmgyUWVCbWROSFlwWSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YTpcbiAgICAzMFx0ICAgICAgICB9XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdCAgICBcbiAgICAzM1x0ICAgIHB1YmxpYyBzdGF0aWMgUmVzdWx0U2V0IGdldERhdGEoU3RyaW5nIHF1ZXJ5KXtcbiAgICAzNFx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDM1XHQgICAgICAgIFN0YXRlbWVudCBzdCA9IG51bGw7XG4gICAgMzZcdCAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgICAzN1x0ICAgICAgICBcbiAgICAzOFx0ICAgICAgICB0cnl7XG4gICAgMzlcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDQwXHQgICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgNDFcdCAgICAgICAgICAgIHJzID0gc3QuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICA0Mlx0ICAgICAgICAgICAgXG4gICAgNDNcdCAgICAgICAgICAgIHJldHVybiBycztcbiAgICA0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpe1xuICAgIDQ1XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ2XHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICA0N1x0ICAgICAgICB9IFxuICAgIDQ4XHQgICAgfVxuICAgIDQ5XHRcbiAgICA1MFx0ICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldE5leHRJZChTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMzBcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjVjNDI5ODMxLWI2ODMtNDgxYy05MzhiLWZkNTQ0ZGFjZmIzNDt0b29sdV8wMVBzZzNEbjh2RlllNDlnUmVabUxRUzUiOnsicmVxdWVzdElkIjoiNWM0Mjk4MzEtYjY4My00ODFjLTkzOGItZmQ1NDRkYWNmYjM0IiwidG9vbFVzZUlkIjoidG9vbHVfMDFQc2czRG44dkZZZTQ5Z1JlWm1MUVM1IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyOVx0ICAgICAgICAgICAgfVxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICBwdWJsaWMgc3RhdGljIFJlc3VsdFNldCBnZXREYXRhKFN0cmluZyBxdWVyeSl7XG4gICAgMzRcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAzNVx0ICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgIDM2XHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAgMzdcdFxuICAgIDM4XHQgICAgICAgIHRyeXtcbiAgICAzOVx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBFeGVjdXRpbmcgcXVlcnk6IFwiICsgcXVlcnkpO1xuICAgIDQwXHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICA0MVx0XG4gICAgNDJcdCAgICAgICAgICAgIGlmIChjb25uID09IG51bGwpIHtcbiAgICA0M1x0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkRiT3BlcmF0aW9ucy5nZXREYXRhIC0gQ29ubmVjdGlvbiBpcyBudWxsIVwiKTtcbiAgICA0NFx0ICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIDQ1XHQgICAgICAgICAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgNDhcdCAgICAgICAgICAgIHJzID0gc3QuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICA0OVx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBRdWVyeSBleGVjdXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgNTBcdFxuICAgIDUxXHQgICAgICAgICAgICByZXR1cm4gcnM7XG4gICAgNTJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KXtcbiAgICA1M1x0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRGJPcGVyYXRpb25zLmdldERhdGEgLSBFeGNlcHRpb246IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgICA1NFx0ICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTVcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTZcdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIDU3XHQgICAgICAgIH1cbiAgICA1OFx0ICAgIH1cbiAgICA1OVx0XG4gICAgNjBcdCAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xuICAgIDYxXHQgICAgICAgIGludCBuZXh0SWQgPSAxO1xuICAgIDYyXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX19LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJzdGF0dXMiOiJkcmFmdCJ9LCJkcmFmdEFjdGl2ZUNvbnRleHRJZHMiOlsiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtL3NyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEiLCJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW1mYWxzZWZhbHNlIiwidXNlckd1aWRlbGluZXMiLCJhZ2VudE1lbW9yaWVzIl0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzRGlydHlFZGl0cyI6ZmFsc2UsImJhc2VsaW5lVGltZXN0YW1wIjoxNzQ3MDk5NzA3NDg2fSwicGVyc29uYVR5cGUiOjB9LCJjYWI4MjAyZS00ODFlLTRkOWQtOTNkYy1iZTc5ZDc3MGYzMzIiOnsiaWQiOiJjYWI4MjAyZS00ODFlLTRkOWQtOTNkYy1iZTc5ZDc3MGYzMzIiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA1LTEzVDAxOjU1OjEzLjQ2MFoiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNS0xM1QwMjowMDoyNy44MDBaIiwiY2hhdEhpc3RvcnkiOlt7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjU1M2UzOGQtMDU4MS00ZGZlLThiZjgtMDUxNjIzNzE0ZWQ3IiwicmVxdWVzdF9tZXNzYWdlIjoid2hlbiBpIGNsaWNrIGNoYW5nZSBwYXNzd29yZCBidXR0b24gYW5kIGVudGVyIG5ldyBwYXNzd29yZCBpdCBkb2Vzbid0IHNob3cgYW55dGhpbmc/IiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IndoZW4gaSBjbGljayBjaGFuZ2UgcGFzc3dvcmQgYnV0dG9uIGFuZCBlbnRlciBuZXcgcGFzc3dvcmQgaXQgZG9lc24ndCBzaG93IGFueXRoaW5nPyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMTF4UmFiTHhBZGdSN295Smc5eXprWGEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwifSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW52ZXN0aWdhdGUgd2h5IHRoZSBjaGFuZ2UgcGFzc3dvcmQgYnV0dG9uIGlzbid0IHNob3dpbmcgYW55dGhpbmcgd2hlbiBjbGlja2VkLiBMZXQncyBmaXJzdCBsb29rIGF0IHRoZSBgRm9yZ290UGFzc3dvcmQuamF2YWAgZmlsZSB0byB1bmRlcnN0YW5kIGhvdyBpdCdzIGN1cnJlbnRseSBpbXBsZW1lbnRlZC5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50Ijoid2hlbiBpIGNsaWNrIGNoYW5nZSBwYXNzd29yZCBidXR0b24gYW5kIGVudGVyIG5ldyBwYXNzd29yZCBpdCBkb2Vzbid0IHNob3cgYW55dGhpbmc/In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTU6MTUuMjc0WiIsInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGludmVzdGlnYXRlIHdoeSB0aGUgY2hhbmdlIHBhc3N3b3JkIGJ1dHRvbiBpc24ndCBzaG93aW5nIGFueXRoaW5nIHdoZW4gY2xpY2tlZC4gTGV0J3MgZmlyc3QgbG9vayBhdCB0aGUgYEZvcmdvdFBhc3N3b3JkLmphdmFgIGZpbGUgdG8gdW5kZXJzdGFuZCBob3cgaXQncyBjdXJyZW50bHkgaW1wbGVtZW50ZWQuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmY4Yzg5MzItY2I1ZC00Y2JiLWI3OWItMzllOTRhYWY4MTYyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVZkZzliSDdxd0ZQa3R1WmZ0YjQxRDEiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgdGhlIFN1YnNjcmliZXJEQU8gY2xhc3MgYW5kIHNwZWNpZmljYWxseSB0aGUgdXBkYXRlUGFzc3dvcmQgbWV0aG9kXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgYWxzbyBsb29rIGF0IHRoZSBTdWJzY3JpYmVyREFPIGNsYXNzIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBwYXNzd29yZCB1cGRhdGUgZnVuY3Rpb25hbGl0eSB3b3JrczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0aW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4gICAgMTFcdFxuICAgIDEyXHQvKipcbiAgICAxM1x0ICpcbiAgICAxNFx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNVx0ICovXG4gICAgMTZcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgMTdcdCAgICBwcml2YXRlIFN1YnNjcmliZXIgY3VycmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIDE4XHQgICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLyoqXG4gICAgMjFcdCAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXG4gICAgMjJcdCAgICAgKi9cbiAgICAyM1x0ICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcbiAgICAyNFx0ICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIDI1XHRcbiAgICAyNlx0ICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgIDI3XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAyOFx0ICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDI5XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDMwXHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDMxXHQgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAzMlx0ICAgIH1cbiAgICAzM1x0XG4gICAgMzRcdCAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgIDM1XHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgMzZcdCAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAzN1x0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAzOFx0XG4gICAgMzlcdCAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0MFx0ICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDFcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0Mlx0ICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0M1x0ICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0NFx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDVcdCAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgIDQ4XHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICA0OVx0ICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNTBcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTFcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA1Mlx0ICAgICAgICB9XG4gICAgNTNcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTRcdCAgICB9XG4gICAgNTVcdFxuICAgIDU2XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICA1N1x0ICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgNThcdCAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgIGlmKHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBjb25maXJtUGFzc3dvcmQuaXNFbXB0eSgpKXtcbiAgICA2MVx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA2Mlx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICAgICAgaWYoIXBhc3N3b3JkLmVxdWFscyhjb25maXJtUGFzc3dvcmQpKXtcbiAgICA2Nlx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJN4bqtdCBraOG6qXUgeMOhYyBuaOG6rW4ga2jDtG5nIGto4bubcCFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA2N1x0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY4XHQgICAgICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNzFcdCAgICB9XG4gICAgNzJcdFxuICAgIDczXHQgICAgLyoqXG4gICAgNzRcdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgNzVcdCAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG4gICAgNzZcdCAgICAgKiByZWdlbmVyYXRlZCBieSB0aGUgRm9ybSBFZGl0b3IuXG4gICAgNzdcdCAgICAgKi9cbiAgICA3OFx0ICAgIEBTdXBwcmVzc1dhcm5pbmdzKFwidW5jaGVja2VkXCIpXG4gICAgNzlcdCAgICAvLyA8ZWRpdG9yLWZvbGQgZGVmYXVsdHN0YXRlPVwiY29sbGFwc2VkXCIgZGVzYz1cIkdlbmVyYXRlZCBDb2RlXCI+Ly9HRU4tQkVHSU46aW5pdENvbXBvbmVudHNcbiAgICA4MFx0ICAgIHByaXZhdGUgdm9pZCBpbml0Q29tcG9uZW50cygpIHtcbiAgICA4MVx0XG4gICAgODJcdCAgICAgICAgakxhYmVsMSA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA4M1x0ICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgIDg0XHQgICAgICAgIGxiTmV3UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgODVcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgODZcdCAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgIDg3XHQgICAgICAgIHR4dFBob25lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICA4OFx0ICAgICAgICBidG5DaGVjayA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgODlcdCAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5MFx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5MVx0ICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDkyXHQgICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDkzXHRcbiAgICA5NFx0ICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuICAgIDk1XHRcbiAgICA5Nlx0ICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgICA5N1x0ICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAgOThcdCAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcbiAgICA5OVx0XG4gICAxMDBcdCAgICAgICAgakxhYmVsMi5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDFcdCAgICAgICAgakxhYmVsMi5zZXRUZXh0KFwiU+G7kSDEkWnhu4duIHRob+G6oWk6IFwiKTtcbiAgIDEwMlx0XG4gICAxMDNcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDRcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRUZXh0KFwiTeG6rXQga2jhuql1IG3hu5tpOlwiKTtcbiAgIDEwNVx0XG4gICAxMDZcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgMTA3XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuICAgMTA4XHRcbiAgIDEwOVx0ICAgICAgICBidG5DaGVjay5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMTBcdCAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMTFcdCAgICAgICAgYnRuQ2hlY2suc2V0VGV4dChcIktp4buDbSB0cmFcIik7XG4gICAxMTJcdCAgICAgICAgYnRuQ2hlY2suc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAxMTNcdCAgICAgICAgYnRuQ2hlY2suYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTE0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMTVcdCAgICAgICAgICAgICAgICBidG5DaGVja0FjdGlvblBlcmZvcm1lZChldnQpO1xuICAgMTE2XHQgICAgICAgICAgICB9XG4gICAxMTdcdCAgICAgICAgfSk7XG4gICAxMThcdFxuICAgMTE5XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMjBcdCAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMjFcdCAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgMTIyXHQgICAgICAgIGJ0bkNoYW5nZS5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgIDEyM1x0ICAgICAgICBidG5DaGFuZ2UuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTI0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMjVcdCAgICAgICAgICAgICAgICBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgIDEyNlx0ICAgICAgICAgICAgfVxuICAgMTI3XHQgICAgICAgIH0pO1xuICAgMTI4XHRcbiAgIDEyOVx0ICAgICAgICBidG5FeGl0LnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgIDEzMFx0ICAgICAgICBidG5FeGl0LnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9sb2dvdXQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgMTMxXHQgICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgIDEzMlx0ICAgICAgICBidG5FeGl0LnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgMTMzXHQgICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTM0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMzVcdCAgICAgICAgICAgICAgICBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAxMzZcdCAgICAgICAgICAgIH1cbiAgIDEzN1x0ICAgICAgICB9KTtcbiAgIDEzOFx0XG4gICAxMzlcdCAgICAgICAgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQgbGF5b3V0ID0gbmV3IGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0KGdldENvbnRlbnRQYW5lKCkpO1xuICAgMTQwXHQgICAgICAgIGdldENvbnRlbnRQYW5lKCkuc2V0TGF5b3V0KGxheW91dCk7XG4gICAxNDFcdCAgICAgICAgbGF5b3V0LnNldEhvcml6b250YWxHcm91cChcbiAgIDE0Mlx0ICAgICAgICAgICAgbGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxNDNcdCAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE0NFx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE0NVx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNDZcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTEwLCAxMTAsIDExMClcbiAgIDE0N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKSlcbiAgIDE0OFx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNDlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgIDE1MFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM3MCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTUxXHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE1Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgMTUzXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDIpXG4gICAxNTRcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNTYsIDU2LCA1NilcbiAgIDE1NVx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQaG9uZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTU2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE1N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgMTU4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpXG4gICAxNTlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNTcsIDU3LCA1NylcbiAgIDE2MFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTYxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxNjJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNjNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgxMDIsIDEwMiwgMTAyKVxuICAgMTY0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2spKSkpXG4gICAxNjVcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5UUkFJTElORywgZmFsc2UpXG4gICAxNjZcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE2N1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgIDE2OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdClcbiAgIDE2OVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRHYXAoamF2YXguc3dpbmcuTGF5b3V0U3R5bGUuQ29tcG9uZW50UGxhY2VtZW50LlJFTEFURUQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgU2hvcnQuTUFYX1ZBTFVFKVxuICAgMTcwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UpKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMTEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgLmFkZEdhcCg2OSwgNjksIDY5KSlcbiAgIDE3N1x0ICAgICAgICApO1xuICAgMTc4XHQgICAgICAgIGxheW91dC5zZXRWZXJ0aWNhbEdyb3VwKFxuICAgMTc5XHQgICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4MFx0ICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTgxXHQgICAgICAgICAgICAgICAgLmFkZEdhcCg0MCwgNDAsIDQwKVxuICAgMTgyXHQgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKVxuICAgMTgzXHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxNCwgMTQsIDE0KVxuICAgMTg0XHQgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDEwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgIDE4NVx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgIDE4Nlx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4N1x0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxODhcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwyKSlcbiAgIDE5MFx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBob25lLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxOTFcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAxOTJcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxOTNcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTk0XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxOTVcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQobGJOZXdQYXNzd29yZCkpXG4gICAxOTZcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxOTdcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTk4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDIsIDIsIDIpXG4gICAxOTlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2ssIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSlcbiAgIDIwMFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoOCwgOCwgOClcbiAgIDIwMVx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDIwMlx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAyMDNcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDIwNFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChsYkNvbmZpcm1QYXNzd29yZCkpXG4gICAyMDVcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDIwNlx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgIDIwN1x0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuQkFTRUxJTkUpXG4gICAyMDhcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5FeGl0LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgMjA5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDIxMFx0ICAgICAgICAgICAgICAgIC5hZGRDb250YWluZXJHYXAoNDAsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAyMTFcdCAgICAgICAgKTtcbiAgIDIxMlx0XG4gICAyMTNcdCAgICAgICAgcGFjaygpO1xuICAgMjE0XHQgICAgfS8vIDwvZWRpdG9yLWZvbGQ+Ly9HRU4tRU5EOmluaXRDb21wb25lbnRzXG4gICAyMTVcdFxuICAgMjE2XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjE3XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjE4XHQgICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuICAgMjE5XHRcbiAgIDIyMFx0ICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgIDIyMVx0ICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyMlx0ICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyMjNcdCAgICAgICAgfVxuICAgMjI0XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjI1XHRcbiAgIDIyNlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjI3XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjI4XHQgICAgICAgIGlmKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgMjI5XHQgICAgICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAyMzBcdCAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcbiAgIDIzMVx0ICAgICAgICAgICAgXG4gICAyMzJcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMzNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjM0XHRcbiAgIDIzNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNDBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI0MVx0XG4gICAyNDJcdCAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAyNDNcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgIDI0NFx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI0NVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjQ2XHQgICAgICAgICAgICB9XG4gICAyNDdcdCAgICAgICAgfVxuICAgMjQ4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0OVx0XG4gICAyNTBcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjUxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjUyXHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAyNTNcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1NFx0ICAgICAgICAgICAgXG4gICAyNTVcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI1Nlx0ICAgICAgICAgICAgXG4gICAyNTdcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjU4XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNTlcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjYwXHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjJcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpfCBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjYzXHQgICAgICAgICAgICB9XG4gICAyNjRcdCAgICAgICAgfVxuICAgMjY1XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNjZcdFxuICAgMjY3XHQgICAgLyoqXG4gICAyNjhcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjY5XHQgICAgICovXG4gICAyNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XG4gICAyNzFcdCAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgMjcyXHQgICAgICAgIC8vPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCIgTG9vayBhbmQgZmVlbCBzZXR0aW5nIGNvZGUgKG9wdGlvbmFsKSBcIj5cbiAgIDI3M1x0ICAgICAgICAvKiBJZiBOaW1idXMgKGludHJvZHVjZWQgaW4gSmF2YSBTRSA2KSBpcyBub3QgYXZhaWxhYmxlLCBzdGF5IHdpdGggdGhlIGRlZmF1bHQgbG9vayBhbmQgZmVlbC5cbiAgIDI3NFx0ICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sXG4gICAyNzVcdCAgICAgICAgICovXG4gICAyNzZcdCAgICAgICAgdHJ5IHtcbiAgIDI3N1x0ICAgICAgICAgICAgZm9yIChqYXZheC5zd2luZy5VSU1hbmFnZXIuTG9va0FuZEZlZWxJbmZvIGluZm8gOiBqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0SW5zdGFsbGVkTG9va0FuZEZlZWxzKCkpIHtcbiAgIDI3OFx0ICAgICAgICAgICAgICAgIGlmIChcIk5pbWJ1c1wiLmVxdWFscyhpbmZvLmdldE5hbWUoKSkpIHtcbiAgIDI3OVx0ICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAyODBcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAyODFcdCAgICAgICAgICAgICAgICB9XG4gICAyODJcdCAgICAgICAgICAgIH1cbiAgIDI4M1x0ICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGV4KSB7XG4gICAyODRcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyODVcdCAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgMjg2XHQgICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xuICAgMjg3XHQgICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBY2Nlc3NFeGNlcHRpb24gZXgpIHtcbiAgIDI4OFx0ICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgIDI4OVx0ICAgICAgICB9IGNhdGNoIChqYXZheC5zd2luZy5VbnN1cHBvcnRlZExvb2tBbmRGZWVsRXhjZXB0aW9uIGV4KSB7XG4gICAyOTBcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyOTFcdCAgICAgICAgfVxuICAgMjkyXHQgICAgICAgIC8vPC9lZGl0b3ItZm9sZD5cbiAgIDI5M1x0XG4gICAyOTRcdCAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAyOTVcdCAgICAgICAgamF2YS5hd3QuRXZlbnRRdWV1ZS5pbnZva2VMYXRlcihuZXcgUnVubmFibGUoKSB7XG4gICAyOTZcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiAgIDI5N1x0ICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyOThcdCAgICAgICAgICAgIH1cbiAgIDI5OVx0ICAgICAgICB9KTtcbiAgIDMwMFx0ICAgIH1cbiAgIDMwMVx0XG4gICAzMDJcdCAgICAvLyBWYXJpYWJsZXMgZGVjbGFyYXRpb24gLSBkbyBub3QgbW9kaWZ5Ly9HRU4tQkVHSU46dmFyaWFibGVzXG4gICAzMDNcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgMzA0XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoZWNrO1xuICAgMzA1XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkV4aXQ7XG4gICAzMDZcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgMzA3XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMjtcbiAgIDMwOFx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMTtcbiAgIDMwOVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgMzEwXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgbGJOZXdQYXNzd29yZDtcbiAgIDMxMVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0Q29uZmlybVBhc3N3b3JkO1xuICAgMzEyXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgIDMxM1x0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlRleHRGaWVsZCB0eHRQaG9uZTtcbiAgIDMxNFx0ICAgIC8vIEVuZCBvZiB2YXJpYWJsZXMgZGVjbGFyYXRpb24vL0dFTi1FTkQ6dmFyaWFibGVzXG4gICAzMTVcdH1cbiAgIDMxNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMTZcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDExeFJhYkx4QWRnUjdveUpnOXl6a1hhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTU6MjQuMjg3WiIsInJlc3BvbnNlX3RleHQiOiJMZXQncyBhbHNvIGxvb2sgYXQgdGhlIFN1YnNjcmliZXJEQU8gY2xhc3MgdG8gdW5kZXJzdGFuZCBob3cgdGhlIHBhc3N3b3JkIHVwZGF0ZSBmdW5jdGlvbmFsaXR5IHdvcmtzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjE2NmFkOWZkLWZmZGEtNGRlNC1hMjY1LTgxMWZhMDI4Mjc4YSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFIdDE5RGlGTHY5b1VjZ0J6cURwcHpUIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyID09IG51bGwpe1xcbiAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYoaXNTdWNjZXNzKSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJcXHUwMTEwXFx1MWVkNWkgbVxcdTFlYWR0IGtoXFx1MWVhOXUgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyEgVnVpIGxcXHUwMGYybmcgXFx1MDExMVxcdTAxMDNuZyBuaFxcdTFlYWRwIGxcXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJcXHUwMTEwXFx1MWVkNWkgbVxcdTFlYWR0IGtoXFx1MWVhOXUgdGhcXHUxZWE1dCBiXFx1MWVhMWl8IFZ1aSBsXFx1MDBmMm5nIHRoXFx1MWVlZCBsXFx1MWVhMWkgc2F1IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxcbiAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKXtcXG4gICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTFlZDVpIG1cXHUxZWFkdCBraFxcdTFlYTl1IHRoXFx1MDBlMG5oIGNcXHUwMGY0bmchIFZ1aSBsXFx1MDBmMm5nIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcCBsXFx1MWVhMWkhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xcbiAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTFlZDVpIG1cXHUxZWFkdCBraFxcdTFlYTl1IHRoXFx1MWVhNXQgYlxcdTFlYTFpISBWdWkgbFxcdTAwZjJuZyB0aFxcdTFlZWQgbFxcdTFlYTFpIHNhdSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI1MCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyNjV9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ3ZlIGZvdW5kIHRoZSBpc3N1ZSBpbiB0aGUgYEZvcmdvdFBhc3N3b3JkLmphdmFgIGZpbGUuIExldCBtZSBleHBsYWluIHRoZSBwcm9ibGVtIGFuZCBwcm92aWRlIGEgc29sdXRpb246XG5cbiMjIFRoZSBJc3N1ZVxuXG5JbiB0aGUgYGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZGAgbWV0aG9kIChsaW5lcyAyNTAtMjY1KSwgdGhlcmUncyBhIGxvZ2ljYWwgZXJyb3IgaW4gdGhlIGNvbmRpdGlvbjpcblxuPGF1Z21lbnRfY29kZV9zbmlwcGV0IHBhdGg9XCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXCIgbW9kZT1cIkVYQ0VSUFRcIj5cbmBgYGphdmFcbnByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciA9PSBudWxsKXtcbiAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBcbiAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuICAgICAgICBcbiAgICAgICAgaWYoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjDoG5oIGPDtG5nISBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWl8IFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICB9XG59Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuVGhlIGNvbmRpdGlvbiBgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciA9PSBudWxsKWAgaXMgaW5jb3JyZWN0LiBJdCdzIGNoZWNraW5nIGlmIGBjdXJyZW50U3Vic2NyaWJlcmAgaXMgbnVsbCwgYnV0IGl0IHNob3VsZCBiZSBjaGVja2luZyBpZiBgY3VycmVudFN1YnNjcmliZXJgIGlzIE5PVCBudWxsLiBUaGlzIGlzIHdoeSBub3RoaW5nIGhhcHBlbnMgd2hlbiB5b3UgY2xpY2sgdGhlIGNoYW5nZSBwYXNzd29yZCBidXR0b24gLSB0aGUgY29uZGl0aW9uIGlzIG5ldmVyIHRydWUuXG5cbkFkZGl0aW9uYWxseSwgaWYgYGN1cnJlbnRTdWJzY3JpYmVyYCBpcyBudWxsLCB0aGUgY29kZSB3b3VsZCB0aHJvdyBhIE51bGxQb2ludGVyRXhjZXB0aW9uIHdoZW4gdHJ5aW5nIHRvIGNhbGwgYGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKWAuXG5cbiMjIFRoZSBTb2x1dGlvblxuXG5MZXQncyBmaXggdGhlIGNvbmRpdGlvbiBpbiB0aGUgYGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZGAgbWV0aG9kOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IkkndmUgZm91bmQgdGhlIGlzc3VlIGluIHRoZSBgRm9yZ290UGFzc3dvcmQuamF2YWAgZmlsZS4gTGV0IG1lIGV4cGxhaW4gdGhlIHByb2JsZW0gYW5kIHByb3ZpZGUgYSBzb2x1dGlvbjpcblxuIyMgVGhlIElzc3VlXG5cbkluIHRoZSBgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkYCBtZXRob2QgKGxpbmVzIDI1MC0yNjUpLCB0aGVyZSdzIGEgbG9naWNhbCBlcnJvciBpbiB0aGUgY29uZGl0aW9uOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEgbW9kZT1FWENFUlBUXG5wcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgXG4gICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgICAgICAgXG4gICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpfCBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgfVxufS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG5gYGBgXG5cblRoZSBjb25kaXRpb24gYGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbClgIGlzIGluY29ycmVjdC4gSXQncyBjaGVja2luZyBpZiBgY3VycmVudFN1YnNjcmliZXJgIGlzIG51bGwsIGJ1dCBpdCBzaG91bGQgYmUgY2hlY2tpbmcgaWYgYGN1cnJlbnRTdWJzY3JpYmVyYCBpcyBOT1QgbnVsbC4gVGhpcyBpcyB3aHkgbm90aGluZyBoYXBwZW5zIHdoZW4geW91IGNsaWNrIHRoZSBjaGFuZ2UgcGFzc3dvcmQgYnV0dG9uIC0gdGhlIGNvbmRpdGlvbiBpcyBuZXZlciB0cnVlLlxuXG5BZGRpdGlvbmFsbHksIGlmIGBjdXJyZW50U3Vic2NyaWJlcmAgaXMgbnVsbCwgdGhlIGNvZGUgd291bGQgdGhyb3cgYSBOdWxsUG9pbnRlckV4Y2VwdGlvbiB3aGVuIHRyeWluZyB0byBjYWxsIGBjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKClgLlxuXG4jIyBUaGUgU29sdXRpb25cblxuTGV0J3MgZml4IHRoZSBjb25kaXRpb24gaW4gdGhlIGBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRgIG1ldGhvZDpcbiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJTVUJTQ1JJQkVSXCIsIFwic3Vic2NyaWJlcl9pZFwiKTtcblxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuXG4gICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQsIGlzQWN0aXZlKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0Qm9vbGVhbig2LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBkZWxldGUoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlQaG9uZShTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgU3Vic2NyaWJlciBzdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IERiT3BlcmF0aW9ucy5nZXREYXRhKFwiU0VMRUNUIHMuKiwgdS4qIEZST00gU1VCU0NSSUJFUiBzIEpPSU4gVVNFUiB1IE9OIHMudXNlcl9pZCA9IHUudXNlcl9pZCBXSEVSRSBzLnBob25lID0gJ1wiICsgcGhvbmUgKyBcIidcIik7XG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRTdWJzY3JpYmVyX2lkKHJzLmdldEludChcInN1YnNjcmliZXJfaWRcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0RnVsbE5hbWUocnMuZ2V0U3RyaW5nKFwibmFtZVwiKSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGhvbmUocnMuZ2V0U3RyaW5nKFwicGhvbmVcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcl9pZChycy5nZXRJbnQoXCJ1c2VyX2lkXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFBhc3N3b3JkKHJzLmdldFN0cmluZyhcInBhc3N3b3JkXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFJvbGUocnMuZ2V0U3RyaW5nKFwicm9sZVwiKSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiB1cGRhdGVQYXNzd29yZChpbnQgdXNlcklkLCBTdHJpbmcgbmV3UGFzc3dvcmQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiVVBEQVRFIFVTRVIgU0VUIHBhc3N3b3JkID0gJ1wiICsgbmV3UGFzc3dvcmQgKyBcIicgV0hFUkUgdXNlcl9pZCA9IFwiICsgdXNlcklkO1xuICAgICAgICAgICAgRGJPcGVyYXRpb25zLnNldERhdGFPckRlbGV0ZShxdWVyeSwgXCJD4bqtcCBuaOG6rXQgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyFcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuaW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4uLi5cblxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGlmKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG5cbiAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWl8IFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbi4uLlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFVzZXIgb2JqKSB7XG4gICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgICAgIFxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIlRow6ptIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gbG9naW4oZmluYWwgU3RyaW5nIHVzZXJOYW1lLCBmaW5hbCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlciB1c2VyID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcIlNFTEVDVCAqIEZST00gVVNFUiBXSEVSRSB1c2VybmFtZSA9ICdcIiArIHVzZXJOYW1lICsgXCInIGFuZCBwYXNzd29yZCA9ICdcIiArIHBhc3N3b3JkICtcIidcIik7XG4gICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgYm9vbGVhbiBpc0FjdGl2ZSA9IHJzLmdldEJvb2xlYW4oXCJpc0FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVXNlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFNpZ25VcCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG5cbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICBwcml2YXRlIFN0cmluZyBERUZBVUxUX1JPTEUgPSBcInVzZXJcIjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIFNpZ25JblxuICAgICAqL1xuICAgIHB1YmxpYyBTaWduVXAoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0TmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRVc2VyTmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkzhu5dpOiBcIiArIGV4LmdldE1lc3NhZ2UoKSwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuLi4uXG5QYXRoOiBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG5cbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgUmVzdWx0U2V0IGdldERhdGEoU3RyaW5nIHF1ZXJ5KXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgcnMgPSBzdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcnM7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbnQgZ2V0TmV4dElkKFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHtcbiAgICAgICAgaW50IG5leHRJZCA9IDE7XG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFwibWF4X2lkXCIpO1xuICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGUsIFwiRXJyb3JcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dElkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBleGVjdXRlVHJhbnNhY3Rpb24oU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucywgU3RyaW5nIHN1Y2Nlc3NNc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcblxuICAgICAgICAgICAgZm9yIChTcWxPcGVyYXRpb24gb3BlcmF0aW9uIDogb3BlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KG9wZXJhdGlvbi5nZXRTcWwoKSk7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLnNldFBhcmFtZXRlcnMocHMpO1xuICAgICAgICAgICAgICAgIHBzLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBwcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChzdWNjZXNzTXNnICE9IG51bGwgJiYgIXN1Y2Nlc3NNc2cuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgc3VjY2Vzc01zZywgXCJUaMOgbmggY8O0bmdcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJFcnJvcjogXCIgKyBlLmdldE1lc3NhZ2UoKSwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIGludGVyZmFjZSBTcWxPcGVyYXRpb24ge1xuICAgICAgICBTdHJpbmcgZ2V0U3FsKCk7XG4gICAgICAgIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbjtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9TdWJzY3JpYmVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBVc2VyIHtcbiAgICBwcml2YXRlIGludCBzdWJzY3JpYmVyX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIGZ1bGxOYW1lO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGhvbmU7XG4gICAgXG4gICAgcHVibGljIFN1YnNjcmliZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3Vic2NyaWJlcihpbnQgc3Vic2NyaWJlcl9pZCwgU3RyaW5nIGZ1bGxOYW1lLCBTdHJpbmcgYWRkcmVzcywgU3RyaW5nIHBob25lLCBpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCwgYm9vbGVhbiBpc0FjdGl2ZSkge1xuICAgICAgICBzdXBlcih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZV9hdCwgaXNBY3RpdmUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGludCBnZXRTdWJzY3JpYmVyX2lkKCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJzY3JpYmVyX2lkKGludCBzdWJzY3JpYmVyX2lkKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEZ1bGxOYW1lKFN0cmluZyBmdWxsTmFtZSkge1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQaG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBob25lKFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLio7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVTRVIgPSBcIm1pbnRvcmkwOVwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uVXNlckRBTztcbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuLi4uXG5QYXRoOiBuYnByb2plY3QvcHJpdmF0ZS9wcml2YXRlLnhtbFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48cHJvamVjdC1wcml2YXRlIHhtbG5zPVwiaHR0cDovL3d3dy5uZXRiZWFucy5vcmcvbnMvcHJvamVjdC1wcml2YXRlLzFcIj5cbiAgICA8ZWRpdG9yLWJvb2ttYXJrcyB4bWxucz1cImh0dHA6Ly93d3cubmV0YmVhbnMub3JnL25zL2VkaXRvci1ib29rbWFya3MvMlwiIGxhc3RCb29rbWFya0lkPVwiMFwiLz5cbiAgICA8b3Blbi1maWxlcyB4bWxucz1cImh0dHA6Ly93d3cubmV0YmVhbnMub3JnL25zL3Byb2plY3R1aS1vcGVuLWZpbGVzLzJcIj5cbiAgICAgICAgPGdyb3VwPlxuICAgICAgICAgICAgPGZpbGU+ZmlsZTovRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCUyME1hbmdlbWVudCUyMFN5c3RlbS9zcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVZkZzliSDdxd0ZQa3R1WmZ0YjQxRDEifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTo1NTozMS44NDVaIiwicmVzcG9uc2VfdGV4dCI6IkkndmUgZm91bmQgdGhlIGlzc3VlIGluIHRoZSBgRm9yZ290UGFzc3dvcmQuamF2YWAgZmlsZS4gTGV0IG1lIGV4cGxhaW4gdGhlIHByb2JsZW0gYW5kIHByb3ZpZGUgYSBzb2x1dGlvbjpcblxuIyMgVGhlIElzc3VlXG5cbkluIHRoZSBgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkYCBtZXRob2QgKGxpbmVzIDI1MC0yNjUpLCB0aGVyZSdzIGEgbG9naWNhbCBlcnJvciBpbiB0aGUgY29uZGl0aW9uOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEgbW9kZT1FWENFUlBUXG5wcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAgICAgXG4gICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgICAgICAgXG4gICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpfCBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgfVxufS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG5gYGBgXG5cblRoZSBjb25kaXRpb24gYGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbClgIGlzIGluY29ycmVjdC4gSXQncyBjaGVja2luZyBpZiBgY3VycmVudFN1YnNjcmliZXJgIGlzIG51bGwsIGJ1dCBpdCBzaG91bGQgYmUgY2hlY2tpbmcgaWYgYGN1cnJlbnRTdWJzY3JpYmVyYCBpcyBOT1QgbnVsbC4gVGhpcyBpcyB3aHkgbm90aGluZyBoYXBwZW5zIHdoZW4geW91IGNsaWNrIHRoZSBjaGFuZ2UgcGFzc3dvcmQgYnV0dG9uIC0gdGhlIGNvbmRpdGlvbiBpcyBuZXZlciB0cnVlLlxuXG5BZGRpdGlvbmFsbHksIGlmIGBjdXJyZW50U3Vic2NyaWJlcmAgaXMgbnVsbCwgdGhlIGNvZGUgd291bGQgdGhyb3cgYSBOdWxsUG9pbnRlckV4Y2VwdGlvbiB3aGVuIHRyeWluZyB0byBjYWxsIGBjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKClgLlxuXG4jIyBUaGUgU29sdXRpb25cblxuTGV0J3MgZml4IHRoZSBjb25kaXRpb24gaW4gdGhlIGBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRgIG1ldGhvZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhMTc0ZjVlZi1iMzdlLTQzNTQtODk4Yi1lMDViNDgzZTg2MTMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyBFeHBsYW5hdGlvbiBvZiB0aGUgRml4XG5cbkkndmUgbWFkZSB0aGUgZm9sbG93aW5nIGNoYW5nZSB0byBmaXggdGhlIGlzc3VlOlxuXG4xLiBDaGFuZ2VkIHRoZSBjb25kaXRpb24gZnJvbSBgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciA9PSBudWxsKWAgdG8gYGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbClgLlxuXG5UaGlzIGNoYW5nZSBlbnN1cmVzIHRoYXQ6XG4xLiBUaGUgcGFzc3dvcmQgY2hhbmdlIGZ1bmN0aW9uYWxpdHkgd2lsbCBvbmx5IHByb2NlZWQgaWYgdGhlIGZpZWxkcyBhcmUgdmFsaWQgQU5EIGEgc3Vic2NyaWJlciBoYXMgYmVlbiBmb3VuZFxuMi4gSXQgd2lsbCBwcmV2ZW50IGEgTnVsbFBvaW50ZXJFeGNlcHRpb24gdGhhdCB3b3VsZCBvY2N1ciBpZiB0cnlpbmcgdG8gYWNjZXNzIGBjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKClgIHdoZW4gYGN1cnJlbnRTdWJzY3JpYmVyYCBpcyBudWxsXG4zLiBBbHNvIGZpeGVkIGEgc21hbGwgdHlwbyBpbiB0aGUgZXJyb3IgbWVzc2FnZSAoY2hhbmdlZCBcInRo4bqldCBi4bqhaXxcIiB0byBcInRo4bqldCBi4bqhaSFcIilcblxuIyMgSG93IHRvIFRlc3QgdGhlIEZpeFxuXG4xLiBSdW4geW91ciBhcHBsaWNhdGlvblxuMi4gR28gdG8gdGhlIEZvcmdvdCBQYXNzd29yZCBzY3JlZW5cbjMuIEVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIGFuZCBjbGljayBcIktp4buDbSB0cmFcIlxuNC4gSWYgdGhlIHBob25lIG51bWJlciBpcyBmb3VuZCwgdGhlIHBhc3N3b3JkIGZpZWxkcyBzaG91bGQgYXBwZWFyXG41LiBFbnRlciBhIG5ldyBwYXNzd29yZCBhbmQgY29uZmlybSBwYXNzd29yZFxuNi4gQ2xpY2sgdGhlIFwixJDhu5VpIG3huq10IGto4bqpdVwiIGJ1dHRvblxuNy4gWW91IHNob3VsZCBub3cgc2VlIGEgc3VjY2VzcyBtZXNzYWdlIGFuZCBiZSByZWRpcmVjdGVkIHRvIHRoZSBsb2dpbiBzY3JlZW5cblxuVGhlIGlzc3VlIHdhcyB0aGF0IHRoZSBjb25kaXRpb24gd2FzIGNoZWNraW5nIGZvciBgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbGAgd2hpY2ggaXMgdGhlIG9wcG9zaXRlIG9mIHdoYXQgaXQgc2hvdWxkIGJlIGNoZWNraW5nLiBUaGUgcGFzc3dvcmQgY2hhbmdlIGZ1bmN0aW9uYWxpdHkgc2hvdWxkIG9ubHkgcHJvY2VlZCBpZiBhIHN1YnNjcmliZXIgaGFzIGJlZW4gZm91bmQgKGkuZS4sIGBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsYCkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjQ2XHQgICAgICAgICAgICB9XG4gICAyNDdcdCAgICAgICAgfVxuICAgMjQ4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0OVx0XG4gICAyNTBcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjUxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjUyXHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XG4gICAyNTNcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1NFx0XG4gICAyNTVcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI1Nlx0XG4gICAyNTdcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjU4XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNTlcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjYwXHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjJcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjYzXHQgICAgICAgICAgICB9XG4gICAyNjRcdCAgICAgICAgfVxuICAgMjY1XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNjZcdFxuICAgMjY3XHQgICAgLyoqXG4gICAyNjhcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjY5XHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFIdDE5RGlGTHY5b1VjZ0J6cURwcHpUIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTU6NTEuMzMyWiIsInJlc3BvbnNlX3RleHQiOiIjIyBFeHBsYW5hdGlvbiBvZiB0aGUgRml4XG5cbkkndmUgbWFkZSB0aGUgZm9sbG93aW5nIGNoYW5nZSB0byBmaXggdGhlIGlzc3VlOlxuXG4xLiBDaGFuZ2VkIHRoZSBjb25kaXRpb24gZnJvbSBgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciA9PSBudWxsKWAgdG8gYGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbClgLlxuXG5UaGlzIGNoYW5nZSBlbnN1cmVzIHRoYXQ6XG4xLiBUaGUgcGFzc3dvcmQgY2hhbmdlIGZ1bmN0aW9uYWxpdHkgd2lsbCBvbmx5IHByb2NlZWQgaWYgdGhlIGZpZWxkcyBhcmUgdmFsaWQgQU5EIGEgc3Vic2NyaWJlciBoYXMgYmVlbiBmb3VuZFxuMi4gSXQgd2lsbCBwcmV2ZW50IGEgTnVsbFBvaW50ZXJFeGNlcHRpb24gdGhhdCB3b3VsZCBvY2N1ciBpZiB0cnlpbmcgdG8gYWNjZXNzIGBjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKClgIHdoZW4gYGN1cnJlbnRTdWJzY3JpYmVyYCBpcyBudWxsXG4zLiBBbHNvIGZpeGVkIGEgc21hbGwgdHlwbyBpbiB0aGUgZXJyb3IgbWVzc2FnZSAoY2hhbmdlZCBcInRo4bqldCBi4bqhaXxcIiB0byBcInRo4bqldCBi4bqhaSFcIilcblxuIyMgSG93IHRvIFRlc3QgdGhlIEZpeFxuXG4xLiBSdW4geW91ciBhcHBsaWNhdGlvblxuMi4gR28gdG8gdGhlIEZvcmdvdCBQYXNzd29yZCBzY3JlZW5cbjMuIEVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIGFuZCBjbGljayBcIktp4buDbSB0cmFcIlxuNC4gSWYgdGhlIHBob25lIG51bWJlciBpcyBmb3VuZCwgdGhlIHBhc3N3b3JkIGZpZWxkcyBzaG91bGQgYXBwZWFyXG41LiBFbnRlciBhIG5ldyBwYXNzd29yZCBhbmQgY29uZmlybSBwYXNzd29yZFxuNi4gQ2xpY2sgdGhlIFwixJDhu5VpIG3huq10IGto4bqpdVwiIGJ1dHRvblxuNy4gWW91IHNob3VsZCBub3cgc2VlIGEgc3VjY2VzcyBtZXNzYWdlIGFuZCBiZSByZWRpcmVjdGVkIHRvIHRoZSBsb2dpbiBzY3JlZW5cblxuVGhlIGlzc3VlIHdhcyB0aGF0IHRoZSBjb25kaXRpb24gd2FzIGNoZWNraW5nIGZvciBgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbGAgd2hpY2ggaXMgdGhlIG9wcG9zaXRlIG9mIHdoYXQgaXQgc2hvdWxkIGJlIGNoZWNraW5nLiBUaGUgcGFzc3dvcmQgY2hhbmdlIGZ1bmN0aW9uYWxpdHkgc2hvdWxkIG9ubHkgcHJvY2VlZCBpZiBhIHN1YnNjcmliZXIgaGFzIGJlZW4gZm91bmQgKGkuZS4sIGBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsYCkuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI3OTBlN2RlMy1mYTQ0LTRhYTYtOTI1Yi1lYTEzMDY1Mjg2ZmIiLCJ1dWlkIjoiZmQ4NDU2NmEtODllNS00YjJlLTkyYjMtNWU0MzYxY2ZiYWU3IiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NzEwMTM1OTg0NSwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InJlcXVlc3RfaWQiOiIwMTBlODBhNS0xYjM2LTRjYWItODRjZi1mM2UwZTg1NjA3N2QiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI0MGI3ODYyLTNhMzUtNGQxMS1iMDIxLWU4MmNlYjA0ODIyMSIsInJlcXVlc3RfbWVzc2FnZSI6IldoZW4geW91IHByZXNzIHRoZSBmb3Jnb3QgcGFzc3dvcmQgYnV0dG9uIHdoaWxlIGxvZ2dpbmcgaW4sIEZvcmdvdFBhc3N3b3JkIHdpbGwgYXBwZWFyIGFzIGEgcG9wdXAgd2luZG93LiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJXaGVuIHlvdSBwcmVzcyB0aGUgZm9yZ290IHBhc3N3b3JkIGJ1dHRvbiB3aGlsZSBsb2dnaW5nIGluLCBGb3Jnb3RQYXNzd29yZCB3aWxsIGFwcGVhciBhcyBhIHBvcHVwIHdpbmRvdy4ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE0ZW1TQTFSeXRxZXhmajlmR0UzN052IiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIHRoZSBMb2dpbi5qYXZhIGZpbGUgYW5kIHNwZWNpZmljYWxseSBob3cgdGhlIGZvcmdvdCBwYXNzd29yZCBidXR0b24gaXMgaW1wbGVtZW50ZWRcIn0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJIHVuZGVyc3RhbmQgeW91IHdhbnQgdGhlIEZvcmdvdFBhc3N3b3JkIGZ1bmN0aW9uYWxpdHkgdG8gYXBwZWFyIGFzIGEgcG9wdXAgd2luZG93IHdoZW4gY2xpY2tpbmcgdGhlIGZvcmdvdCBwYXNzd29yZCBidXR0b24gZnJvbSB0aGUgbG9naW4gc2NyZWVuLCByYXRoZXIgdGhhbiBhcyBhIHNlcGFyYXRlIHdpbmRvdy4gTGV0J3MgaW1wbGVtZW50IHRoaXMgY2hhbmdlLlxuXG5GaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgTG9naW4uamF2YSBmaWxlIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBmb3Jnb3QgcGFzc3dvcmQgYnV0dG9uIGlzIGN1cnJlbnRseSBpbXBsZW1lbnRlZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiV2hlbiB5b3UgcHJlc3MgdGhlIGZvcmdvdCBwYXNzd29yZCBidXR0b24gd2hpbGUgbG9nZ2luZyBpbiwgRm9yZ290UGFzc3dvcmQgd2lsbCBhcHBlYXIgYXMgYSBwb3B1cCB3aW5kb3cuIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTg6MjMuMDQ2WiIsInJlc3BvbnNlX3RleHQiOiJJIHVuZGVyc3RhbmQgeW91IHdhbnQgdGhlIEZvcmdvdFBhc3N3b3JkIGZ1bmN0aW9uYWxpdHkgdG8gYXBwZWFyIGFzIGEgcG9wdXAgd2luZG93IHdoZW4gY2xpY2tpbmcgdGhlIGZvcmdvdCBwYXNzd29yZCBidXR0b24gZnJvbSB0aGUgbG9naW4gc2NyZWVuLCByYXRoZXIgdGhhbiBhcyBhIHNlcGFyYXRlIHdpbmRvdy4gTGV0J3MgaW1wbGVtZW50IHRoaXMgY2hhbmdlLlxuXG5GaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgTG9naW4uamF2YSBmaWxlIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBmb3Jnb3QgcGFzc3dvcmQgYnV0dG9uIGlzIGN1cnJlbnRseSBpbXBsZW1lbnRlZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1OTFjNmQ5Zi1jNmY4LTQ0YWQtYWUyNC03ZmUzZmY3YjdmZDIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSkE1blN0RXRxYVV5bkZZZ1lVaks0MiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJwYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XFxuXFxuaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcXG5pbXBvcnQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5Mb2dpbjtcXG5cXG4vKipcXG4gKlxcbiAqIEBhdXRob3IgTmdvYyBUaGFvXFxuICovXFxucHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcIiwgXCJuZXdfc3RyXCI6IFwicGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xcblxcbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XFxuaW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XFxuaW1wb3J0IGphdmEuYXd0LkZyYW1lO1xcblxcbi8qKlxcbiAqXFxuICogQGF1dGhvciBOZ29jIFRoYW9cXG4gKi9cXG5wdWJsaWMgY2xhc3MgRm9yZ290UGFzc3dvcmQgZXh0ZW5kcyBqYXZheC5zd2luZy5KRGlhbG9nIHtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTZ9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSB1bmRlcnN0YW5kIHRoZSB0YXNrLiBJIG5lZWQgdG86XG5cbjEuIE1vZGlmeSB0aGUgRm9yZ290UGFzc3dvcmQgY2xhc3MgdG8gYmUgYSBKRGlhbG9nIGluc3RlYWQgb2YgYSBKRnJhbWUgc28gaXQgY2FuIGJlIGRpc3BsYXllZCBhcyBhIG1vZGFsIHBvcHVwXG4yLiBVcGRhdGUgdGhlIExvZ2luIGNsYXNzIHRvIG9wZW4gRm9yZ290UGFzc3dvcmQgYXMgYSBkaWFsb2cgd2hlbiB0aGUgZm9yZ290IHBhc3N3b3JkIGJ1dHRvbiBpcyBjbGlja2VkXG5cbkxldCdzIGltcGxlbWVudCB0aGVzZSBjaGFuZ2VzOlxuXG4jIyBTdGVwIDE6IENvbnZlcnQgRm9yZ290UGFzc3dvcmQgZnJvbSBKRnJhbWUgdG8gSkRpYWxvZ1xuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcbiAgICAgKi9cbiAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcblxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbi4uLlxuXG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIHR4dFBob25lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgYnRuQ2hlY2sgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgYnRuQ2hhbmdlID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgYnRuRXhpdCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG5cbiAgICAgICAgc2V0RGVmYXVsdENsb3NlT3BlcmF0aW9uKGphdmF4LnN3aW5nLldpbmRvd0NvbnN0YW50cy5FWElUX09OX0NMT1NFKTtcblxuICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMS5zZXRGb3JlZ3JvdW5kKGphdmF4LnN3aW5nLlVJTWFuYWdlci5nZXREZWZhdWx0cygpLmdldENvbG9yKFwiQWN0aW9ucy5ZZWxsb3dcIikpO1xuICAgICAgICBqTGFiZWwxLnNldFRleHQoXCLEkOG7lEkgTeG6rFQgS0jhuqhVXCIpO1xuXG4gICAgICAgIGpMYWJlbDIuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwyLnNldFRleHQoXCJT4buRIMSRaeG7h24gdGhv4bqhaTogXCIpO1xuXG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFRleHQoXCJN4bqtdCBraOG6qXUgbeG7m2k6XCIpO1xuXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIljDoWMgbmjhuq1uIG3huq10IGto4bqpdTpcIik7XG5cbiAgICAgICAgYnRuQ2hlY2suc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGVjay5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvc2VhcmNoLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hlY2suc2V0VGV4dChcIktp4buDbSB0cmFcIik7XG4gICAgICAgIGJ0bkNoZWNrLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5DaGVjay5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZVBob25lKCkpIHtcbiAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuXG4gICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xuICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG5cbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtYXg9XCIzMjc2N1wiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuQ2hhbmdlXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYkNvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiMThcIiBwcmVmPVwiMThcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwidHh0Q29uZmlybVBhc3N3b3JkXCIgbWluPVwiLTJcIiBwcmVmPVwiMjExXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiLTJcIiBwcmVmPVwiNjlcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgIDwvR3JvdXA+XG4gICAgICA8L0dyb3VwPlxuICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMVwiPlxuICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNDBcIiBwcmVmPVwiNDBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuLi4uXG4gICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIzXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgYWxpZ25tZW50PVwiM1wiIG1pbj1cIi0yXCIgcHJlZj1cIjMwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5DaGFuZ2VcIiBhbGlnbm1lbnQ9XCIzXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBwcmVmPVwiNDBcIiBtYXg9XCIzMjc2N1wiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgIDwvR3JvdXA+XG4gICAgICA8L0dyb3VwPlxuICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICA8L0xheW91dD5cbiAgPFN1YkNvbXBvbmVudHM+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJqTGFiZWwxXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjM2XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvcmVncm91bmRcIiB0eXBlPVwiamF2YS5hd3QuQ29sb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Db2xvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBibHVlPVwiMFwiIGdyZWVuPVwiYTJcIiBpZD1cIkFjdGlvbnMuWWVsbG93XCIgcGFsZXR0ZT1cIjNcIiByZWQ9XCJlZFwiIHR5cGU9XCJwYWxldHRlXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuLi4uXG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dFBhc3N3b3JkXCI+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dENvbmZpcm1QYXNzd29yZFwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoYW5nZVwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiJiN4MTEwOyYjeDFlZDU7aSBtJiN4MWVhZDt0IGtoJiN4MWVhOTt1XCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgICAgPEV2ZW50cz5cbiAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXCIvPlxuICAgICAgPC9FdmVudHM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvbG9nb3V0LnBuZ1wiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlRobyYjeGUxO3RcIi8+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlVzZXJEQU87XG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIExvZ2luIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gTG9naW5cbiAgICAgKi9cbiAgICBwdWJsaWMgTG9naW4oKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYodXNlck5hbWUuaXNFbXB0eSgpIHx8IHBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG4gICAgICogcmVnZW5lcmF0ZWQgYnkgdGhlIEZvcm0gRWRpdG9yLlxuICAgICAqL1xuICAgIEBTdXBwcmVzc1dhcm5pbmdzKFwidW5jaGVja2VkXCIpXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCJHZW5lcmF0ZWQgQ29kZVwiPi8vR0VOLUJFR0lOOmluaXRDb21wb25lbnRzXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRDb21wb25lbnRzKCkge1xuXG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDMgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIHR4dFVzZXJOYW1lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgICAgICBqU2VwYXJhdG9yMiA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIGJ0bkxvZ2luID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5TaWdudXAgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBqTGFiZWw1ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBidG5FeGl0ID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcblxuICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDM2KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLkJsdWVcIikpO1xuICAgICAgICBqTGFiZWwxLnNldFRleHQoXCLEkMSCTkcgTkjhuqxQXCIpO1xuXG4gICAgICAgIGpMYWJlbDIuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDIsIDE4KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwyLnNldFRleHQoXCJDaMOgbyBt4burbmcgYuG6oW4gcXVheSBs4bqhaSFcIik7XG5cbiAgICAgICAgakxhYmVsMy5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDMuc2V0VGV4dChcIlTDqm4gxJHEg25nIG5o4bqtcDpcIik7XG5cbiAgICAgICAgakxhYmVsNC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDQuc2V0VGV4dChcIk3huq10IGto4bqpdTpcIik7XG5cbiAgICAgICAgdHh0VXNlck5hbWUuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDAsIDE0KSk7IC8vIE5PSTE4TlxuXG4gICAgICAgIHR4dFBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAwLCAxNCkpOyAvLyBOT0kxOE5cblxuICAgICAgICBidG5Mb2dpbi5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTYpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkxvZ2luLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9lbnRlci5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkxvZ2luLnNldFRleHQoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICBidG5Mb2dpbi5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuTG9naW4uc2V0SG9yaXpvbnRhbEFsaWdubWVudChqYXZheC5zd2luZy5Td2luZ0NvbnN0YW50cy5MRUZUKTtcbiAgICAgICAgYnRuTG9naW4uYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0VGV4dChcIlF1w6puIG3huq10IGto4bqpdT9cIik7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRIb3Jpem9udGFsQWxpZ25tZW50KGphdmF4LnN3aW5nLlN3aW5nQ29uc3RhbnRzLkxFRlQpO1xuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnRuU2lnbnVwLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNikpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuU2lnbnVwLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9hZGQtdXNlci5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0blNpZ251cC5zZXRUZXh0KFwixJDEg25nIGvDvVwiKTtcbiAgICAgICAgYnRuU2lnbnVwLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5TaWdudXAuc2V0SG9yaXpvbnRhbEFsaWdubWVudChqYXZheC5zd2luZy5Td2luZ0NvbnN0YW50cy5MRUZUKTtcbiAgICAgICAgYnRuU2lnbnVwLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHtcbiAgICAgICAgICAgICAgICBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgakxhYmVsNS5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvYmcyLmpwZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsNS5zZXRUZXh0KFwiakxhYmVsNVwiKTtcblxuICAgICAgICBidG5FeGl0LnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRXhpdC5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvbG9nb3V0LnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRXhpdC5zZXRUZXh0KFwiVGhvw6F0XCIpO1xuICAgICAgICBidG5FeGl0LnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5FeGl0LnNldEhvcml6b250YWxBbGlnbm1lbnQoamF2YXguc3dpbmcuU3dpbmdDb25zdGFudHMuTEVGVCk7XG4gICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNzAsIDcwLCA3MClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM2OCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuVFJBSUxJTkcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIFNob3J0Lk1BWF9WQUxVRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0blNpZ251cCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCAxMjgsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDc2LCA3NiwgNzYpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Mb2dpbiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDE2NCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Gb3Jnb3RQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LlRSQUlMSU5HKSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCA1MDUsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAgICAgICk7XG4uLi5cbiAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkZvcmdvdFBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpKSlcbiAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDYzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkxvZ2luQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gVXNlckRBTy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIsSQxINuZyBuaOG6rXAgdGjDoG5oIGPDtG5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuLy8gICAgICAgICAgICAgICAgICAgIG5ldyBNYWluRnJhbWUoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIlNhaSB0w6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdS5cIiwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5Mb2dpbkFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgICBcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfVxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbmV3IFNpZ25VcCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmdzW10pIHtcbiAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXCI+XG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxuICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sIFxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiTmltYnVzXCIuZXF1YWxzKGluZm8uZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbi4uLlxuXG4gICAgLy8gVmFyaWFibGVzIGRlY2xhcmF0aW9uIC0gZG8gbm90IG1vZGlmeS8vR0VOLUJFR0lOOnZhcmlhYmxlc1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5FeGl0O1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5Gb3Jnb3RQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuTG9naW47XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0blNpZ251cDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWw0O1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDU7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMjtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkIHR4dFBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlRleHRGaWVsZCB0eHRVc2VyTmFtZTtcbiAgICAvLyBFbmQgb2YgdmFyaWFibGVzIGRlY2xhcmF0aW9uLy9HRU4tRU5EOnZhcmlhYmxlc1xufVxuLi4uXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNGVtU0ExUnl0cWV4Zmo5ZkdFMzdOdiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjU4OjMxLjQwMFoiLCJyZXNwb25zZV90ZXh0IjoiTm93IEkgdW5kZXJzdGFuZCB0aGUgdGFzay4gSSBuZWVkIHRvOlxuXG4xLiBNb2RpZnkgdGhlIEZvcmdvdFBhc3N3b3JkIGNsYXNzIHRvIGJlIGEgSkRpYWxvZyBpbnN0ZWFkIG9mIGEgSkZyYW1lIHNvIGl0IGNhbiBiZSBkaXNwbGF5ZWQgYXMgYSBtb2RhbCBwb3B1cFxuMi4gVXBkYXRlIHRoZSBMb2dpbiBjbGFzcyB0byBvcGVuIEZvcmdvdFBhc3N3b3JkIGFzIGEgZGlhbG9nIHdoZW4gdGhlIGZvcmdvdCBwYXNzd29yZCBidXR0b24gaXMgY2xpY2tlZFxuXG5MZXQncyBpbXBsZW1lbnQgdGhlc2UgY2hhbmdlczpcblxuIyMgU3RlcCAxOiBDb252ZXJ0IEZvcmdvdFBhc3N3b3JkIGZyb20gSkZyYW1lIHRvIEpEaWFsb2dcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxYmRhODNkMy1kZWI2LTQ5NWQtYTEwMy0yNGJiNzM3OGQ3MjIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSjRIMnZVcVBKVmRraXc2TjZHRHl6QyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgLyoqXFxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcXG4gICAgICovXFxuICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcXG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XFxuXFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIC8qKlxcbiAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXFxuICAgICAqL1xcbiAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoRnJhbWUgcGFyZW50LCBib29sZWFuIG1vZGFsKSB7XFxuICAgICAgICBzdXBlcihwYXJlbnQsIG1vZGFsKTtcXG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIFNldCBkaWFsb2cgcHJvcGVydGllc1xcbiAgICAgICAgc2V0VGl0bGUoXFxcIlF1XFx1MDBlYW4gbVxcdTFlYWR0IGtoXFx1MWVhOXVcXFwiKTtcXG4gICAgICAgIHNldExvY2F0aW9uUmVsYXRpdmVUbyhwYXJlbnQpO1xcbiAgICAgICAgXFxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIwLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDMyfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgY29uc3RydWN0b3IgdG8gYWNjZXB0IGEgcGFyZW50IGZyYW1lIGFuZCBtYWtlIGl0IG1vZGFsOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0aW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4gICAgMTFcdGltcG9ydCBqYXZhLmF3dC5GcmFtZTtcbiAgICAxMlx0XG4gICAgMTNcdC8qKlxuICAgIDE0XHQgKlxuICAgIDE1XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE2XHQgKi9cbiAgICAxN1x0cHVibGljIGNsYXNzIEZvcmdvdFBhc3N3b3JkIGV4dGVuZHMgamF2YXguc3dpbmcuSkRpYWxvZyB7XG4gICAgMThcdCAgICBwcml2YXRlIFN1YnNjcmliZXIgY3VycmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIDE5XHQgICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgLyoqXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFKQTVuU3RFdHFhVXluRllnWVVqSzQyIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTg6NDUuODYxWiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBjb25zdHJ1Y3RvciB0byBhY2NlcHQgYSBwYXJlbnQgZnJhbWUgYW5kIG1ha2UgaXQgbW9kYWw6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYTI0MjkxODYtN2QxYy00MGQxLWE5ZjUtZTc4MjdiODk2YzVjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUFpcUZqbXdtU2VTb0hKbXFNekVlVm8iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFxcXCJCXFx1MWVhMW4gY1xcdTAwZjMgY2hcXHUxZWFmYyBjaFxcdTFlYWZuIG11XFx1MWVkMW4gdGhvXFx1MDBlMXQga2hcXHUwMGY0bmc/XFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xcblxcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XFxuICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2codGhpcywgXFxcIkJcXHUxZWExbiBjXFx1MDBmMyBjaFxcdTFlYWZjIGNoXFx1MWVhZm4gbXVcXHUxZWQxbiB0aG9cXHUwMGUxdCBraFxcdTAwZjRuZz9cXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XFxuXFxuICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjE2LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIyNH1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIEV4aXQgYnV0dG9uIGFjdGlvbiB0byBjbG9zZSB0aGUgZGlhbG9nIGluc3RlYWQgb2Ygb3BlbmluZyBhIG5ldyBMb2dpbiB3aW5kb3c6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDE3XHRwdWJsaWMgY2xhc3MgRm9yZ290UGFzc3dvcmQgZXh0ZW5kcyBqYXZheC5zd2luZy5KRGlhbG9nIHtcbiAgICAxOFx0ICAgIHByaXZhdGUgU3Vic2NyaWJlciBjdXJyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgMTlcdCAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICAyMFx0XG4gICAgMjFcdCAgICAvKipcbiAgICAyMlx0ICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcbiAgICAyM1x0ICAgICAqL1xuICAgIDI0XHQgICAgcHVibGljIEZvcmdvdFBhc3N3b3JkKEZyYW1lIHBhcmVudCwgYm9vbGVhbiBtb2RhbCkge1xuICAgIDI1XHQgICAgICAgIHN1cGVyKHBhcmVudCwgbW9kYWwpO1xuICAgIDI2XHQgICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgICAgIC8vIFNldCBkaWFsb2cgcHJvcGVydGllc1xuICAgIDI5XHQgICAgICAgIHNldFRpdGxlKFwiUXXDqm4gbeG6rXQga2jhuql1XCIpO1xuICAgIDMwXHQgICAgICAgIHNldExvY2F0aW9uUmVsYXRpdmVUbyhwYXJlbnQpO1xuICAgIDMxXHRcbiAgICAzMlx0ICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgIDMzXHQgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAzNFx0ICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDM1XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDM2XHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDM3XHQgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAzOFx0ICAgIH1cbiAgICAzOVx0XG4gICAgNDBcdCAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgIDQxXHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgNDJcdCAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUo0SDJ2VXFQSlZka2l3Nk42R0R5ekMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTo1ODo1NS4xNTJaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIEV4aXQgYnV0dG9uIGFjdGlvbiB0byBjbG9zZSB0aGUgZGlhbG9nIGluc3RlYWQgb2Ygb3BlbmluZyBhIG5ldyBMb2dpbiB3aW5kb3c6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTg4MjEwMTQtMjYwMy00ODI0LWFlNDMtOTczYTBiYmI1YjMxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUNoeVRpYjVBTU5EM3BZWjR3Z2huWU0iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcXG4gICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XFxuICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xcblxcbiAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcXG5cXG4gICAgICAgICAgICBpZihpc1N1Y2Nlc3MpIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dSB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nISBWdWkgbFxcdTAwZjJuZyBcXHUwMTExXFx1MDEwM25nIG5oXFx1MWVhZHAgbFxcdTFlYTFpIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dSB0aFxcdTFlYTV0IGJcXHUxZWExaSEgVnVpIGxcXHUwMGYybmcgdGhcXHUxZWVkIGxcXHUxZWExaSBzYXUhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XFxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xcbiAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcXG5cXG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XFxuXFxuICAgICAgICAgICAgaWYoaXNTdWNjZXNzKSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKHRoaXMsIFxcXCJcXHUwMTEwXFx1MWVkNWkgbVxcdTFlYWR0IGtoXFx1MWVhOXUgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyEgVnVpIGxcXHUwMGYybmcgXFx1MDExMVxcdTAxMDNuZyBuaFxcdTFlYWRwIGxcXHUxZWExaSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XFxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKHRoaXMsIFxcXCJcXHUwMTEwXFx1MWVkNWkgbVxcdTFlYWR0IGtoXFx1MWVhOXUgdGhcXHUxZWE1dCBiXFx1MWVhMWkhIFZ1aSBsXFx1MDBmMm5nIHRoXFx1MWVlZCBsXFx1MWVhMWkgc2F1IVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjUwLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDI2NX1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIENoYW5nZSBQYXNzd29yZCBidXR0b24gYWN0aW9uIHRvIGNsb3NlIHRoZSBkaWFsb2cgaW5zdGVhZCBvZiBvcGVuaW5nIGEgbmV3IExvZ2luIHdpbmRvdzpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyMThcdFxuICAgMjE5XHQgICAgICAgIHBhY2soKTtcbiAgIDIyMFx0ICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuICAgMjIxXHRcbiAgIDIyMlx0ICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyM1x0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIyNFx0ICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2codGhpcywgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgIDIyNVx0XG4gICAyMjZcdCAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAyMjdcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjI4XHQgICAgICAgIH1cbiAgIDIyOVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIzMFx0XG4gICAyMzFcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIzMlx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIzM1x0ICAgICAgICBpZih2YWxpZGF0ZVBob25lKCkpIHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUFpcUZqbXdtU2VTb0hKbXFNekVlVm8ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTo1OTowNC42NjlaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIENoYW5nZSBQYXNzd29yZCBidXR0b24gYWN0aW9uIHRvIGNsb3NlIHRoZSBkaWFsb2cgaW5zdGVhZCBvZiBvcGVuaW5nIGEgbmV3IExvZ2luIHdpbmRvdzpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwNWMxZWNmZS0yYmZiLTQ0YWYtOGQ5NC00MzAyNzdiOTAwZDQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxTm5OQnJKdjRrdFdUbnptcmFhcmVSSCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMjUwLCAyNzBdfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSB0cnkgYWdhaW4gd2l0aCB0aGUgY29ycmVjdCBsaW5lIG51bWJlcnM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcbk5vIHJlcGxhY2VtZW50IHdhcyBwZXJmb3JtZWQsIG9sZFN0ciBkaWQgbm90IGFwcGVhciB2ZXJiYXRpbSBpbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuVGhlIGNvbnRlbnQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG4gICAyNDZcdFxuICAgMjQ3XHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjQ4XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyNDlcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNTBcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1MVx0ICAgICAgICAgICAgfVxuICAgMjUyXHQgICAgICAgIH1cbiAgIDI1M1x0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNTRcdFxuICAgMjU1XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI1Nlx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI1N1x0ICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xuICAgMjU4XHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAyNTlcdFxuICAgMjYwXHQgICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAyNjFcdFxuICAgMjYyXHQgICAgICAgICAgICBpZihpc1N1Y2Nlc3MpIHtcbiAgIDI2M1x0ICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNjRcdCAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgIDI2NVx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI2Nlx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNjdcdCAgICAgICAgICAgIH1cbiAgIDI2OFx0ICAgICAgICB9XG4gICAyNjlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsMyArMSw4IEBAXG4rICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuKyAgICAgICAgICAgIH1cbisgICAgICAgIH1cbisgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbitcbiAgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKXtcbkBAIC02LDExICsxMSw2IEBAXG4gICAgICAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuIFxuICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuLSAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjDoG5oIGPDtG5nISBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbi0gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRo4bqldCBi4bqhaSEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbi0gICAgICAgICAgICB9XG4tICAgICAgICB9XG4tICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2UgZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNfZXJyb3IiOnRydWUsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxQ2h5VGliNUFNTkQzcFlaNHdnaG5ZTSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjU5OjE2LjgwMFoiLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhZ2FpbiB3aXRoIHRoZSBjb3JyZWN0IGxpbmUgbnVtYmVyczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxNTBhYjllYy1kY2E4LTRmN2QtYjYwMy02Njc4YTg0NDZhNWIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVVViRXVSNENTZmR0TU5SMTh3cEVCcyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxcbiAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKXtcXG4gICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XFxuXFxuICAgICAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xcblxcbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xcbiAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTFlZDVpIG1cXHUxZWFkdCBraFxcdTFlYTl1IHRoXFx1MWVhNXQgYlxcdTFlYTFpISBWdWkgbFxcdTAwZjJuZyB0aFxcdTFlZWQgbFxcdTFlYTFpIHNhdSFcXFwiLCBcXFwiVGhcXHUwMGY0bmcgYlxcdTAwZTFvXFxcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcIiwgXCJuZXdfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcXG4gICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XFxuICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xcblxcbiAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcXG5cXG4gICAgICAgICAgICBpZihpc1N1Y2Nlc3MpIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2codGhpcywgXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dSB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nISBWdWkgbFxcdTAwZjJuZyBcXHUwMTExXFx1MDEwM25nIG5oXFx1MWVhZHAgbFxcdTFlYTFpIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2codGhpcywgXFxcIlxcdTAxMTBcXHUxZWQ1aSBtXFx1MWVhZHQga2hcXHUxZWE5dSB0aFxcdTFlYTV0IGJcXHUxZWExaSEgVnVpIGxcXHUwMGYybmcgdGhcXHUxZWVkIGxcXHUxZWExaSBzYXUhXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyNTUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjY5fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhOlxuICAgMjUwXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNTFcdCAgICAgICAgICAgIH1cbiAgIDI1Mlx0ICAgICAgICB9XG4gICAyNTNcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjU0XHRcbiAgIDI1NVx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNTZcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNTdcdCAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKXtcbiAgIDI1OFx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgMjU5XHRcbiAgIDI2MFx0ICAgICAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuICAgMjYxXHRcbiAgIDI2Mlx0ICAgICAgICAgICAgaWYoaXNTdWNjZXNzKSB7XG4gICAyNjNcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjY0XHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjVcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjZcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjY3XHQgICAgICAgICAgICB9XG4gICAyNjhcdCAgICAgICAgfVxuICAgMjY5XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNzBcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzIwXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxTm5OQnJKdjRrdFdUbnptcmFhcmVSSCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjU5OjIwLjUxNFoiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjNhYTc2YzBmLTY1MGItNGMyNC04ZTMzLTNkZDViODRhMzBlMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFLWU5uQ1VBY2tqY0JVaWZFVmJ5OGt6IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsyNzAsIDMwMF19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgbWFpbiBtZXRob2QgaW4gRm9yZ290UGFzc3dvcmQuamF2YSBzaW5jZSB3ZSBkb24ndCBuZWVkIGl0IGFueW1vcmUgKEpEaWFsb2cgZG9lc24ndCBuZWVkIGEgbWFpbiBtZXRob2QpOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI1MVx0ICAgICAgICAgICAgfVxuICAgMjUyXHQgICAgICAgIH1cbiAgIDI1M1x0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNTRcdFxuICAgMjU1XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI1Nlx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI1N1x0ICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xuICAgMjU4XHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAyNTlcdFxuICAgMjYwXHQgICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAyNjFcdFxuICAgMjYyXHQgICAgICAgICAgICBpZihpc1N1Y2Nlc3MpIHtcbiAgIDI2M1x0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKHRoaXMsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjY0XHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjVcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjZcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjY3XHQgICAgICAgICAgICB9XG4gICAyNjhcdCAgICAgICAgfVxuICAgMjY5XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNzBcdFxuICAgMjcxXHQgICAgLyoqXG4gICAyNzJcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjczXHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFVVWJFdVI0Q1NmZHRNTlIxOHdwRUJzIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTk6MzEuOTk5WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBtYWluIG1ldGhvZCBpbiBGb3Jnb3RQYXNzd29yZC5qYXZhIHNpbmNlIHdlIGRvbid0IG5lZWQgaXQgYW55bW9yZSAoSkRpYWxvZyBkb2Vzbid0IG5lZWQgYSBtYWluIG1ldGhvZCk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjMyMzg1M2QtZDUyMy00Mjg5LWIxM2EtZjMwYWJlZTQ0YjgwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMThqR2N6WVFTR2dkZXBuZzVGOUhDbnIiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzI5NSwgMzIwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAyNzBcdFxuICAgMjcxXHQgICAgLyoqXG4gICAyNzJcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjczXHQgICAgICovXG4gICAyNzRcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XG4gICAyNzVcdCAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgMjc2XHQgICAgICAgIC8vPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCIgTG9vayBhbmQgZmVlbCBzZXR0aW5nIGNvZGUgKG9wdGlvbmFsKSBcIj5cbiAgIDI3N1x0ICAgICAgICAvKiBJZiBOaW1idXMgKGludHJvZHVjZWQgaW4gSmF2YSBTRSA2KSBpcyBub3QgYXZhaWxhYmxlLCBzdGF5IHdpdGggdGhlIGRlZmF1bHQgbG9vayBhbmQgZmVlbC5cbiAgIDI3OFx0ICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sXG4gICAyNzlcdCAgICAgICAgICovXG4gICAyODBcdCAgICAgICAgdHJ5IHtcbiAgIDI4MVx0ICAgICAgICAgICAgZm9yIChqYXZheC5zd2luZy5VSU1hbmFnZXIuTG9va0FuZEZlZWxJbmZvIGluZm8gOiBqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0SW5zdGFsbGVkTG9va0FuZEZlZWxzKCkpIHtcbiAgIDI4Mlx0ICAgICAgICAgICAgICAgIGlmIChcIk5pbWJ1c1wiLmVxdWFscyhpbmZvLmdldE5hbWUoKSkpIHtcbiAgIDI4M1x0ICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAyODRcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAyODVcdCAgICAgICAgICAgICAgICB9XG4gICAyODZcdCAgICAgICAgICAgIH1cbiAgIDI4N1x0ICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGV4KSB7XG4gICAyODhcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyODlcdCAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgMjkwXHQgICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xuICAgMjkxXHQgICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBY2Nlc3NFeGNlcHRpb24gZXgpIHtcbiAgIDI5Mlx0ICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgIDI5M1x0ICAgICAgICB9IGNhdGNoIChqYXZheC5zd2luZy5VbnN1cHBvcnRlZExvb2tBbmRGZWVsRXhjZXB0aW9uIGV4KSB7XG4gICAyOTRcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyOTVcdCAgICAgICAgfVxuICAgMjk2XHQgICAgICAgIC8vPC9lZGl0b3ItZm9sZD5cbiAgIDI5N1x0XG4gICAyOThcdCAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAyOTlcdCAgICAgICAgamF2YS5hd3QuRXZlbnRRdWV1ZS5pbnZva2VMYXRlcihuZXcgUnVubmFibGUoKSB7XG4gICAzMDBcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMyMFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUtZTm5DVUFja2pjQlVpZkVWYnk4a3oifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMTo1OTozNi41MDNaIiwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhOTNjMTRlMy01N2MyLTQ2ZjUtYjgyOS1jNDM5ZTI5OGUzZjgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNWRteHFpdDFWcm83d3FuQ1dVOFlGRiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgLyoqXFxuICAgICAqIEBwYXJhbSBhcmdzIHRoZSBjb21tYW5kIGxpbmUgYXJndW1lbnRzXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XFxuICAgICAgICAvKiBTZXQgdGhlIE5pbWJ1cyBsb29rIGFuZCBmZWVsICovXFxuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XFxcImNvbGxhcHNlZFxcXCIgZGVzYz1cXFwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXFxcIj5cXG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxcbiAgICAgICAgICogRm9yIGRldGFpbHMgc2VlIGh0dHA6Ly9kb3dubG9hZC5vcmFjbGUuY29tL2phdmFzZS90dXRvcmlhbC91aXN3aW5nL2xvb2thbmRmZWVsL3BsYWYuaHRtbFxcbiAgICAgICAgICovXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XFxuICAgICAgICAgICAgICAgIGlmIChcXFwiTmltYnVzXFxcIi5lcXVhbHMoaW5mby5nZXROYW1lKCkpKSB7XFxuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xcbiAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XFxuICAgICAgICB9IGNhdGNoIChJbGxlZ2FsQWNjZXNzRXhjZXB0aW9uIGV4KSB7XFxuICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcXG4gICAgICAgIH0gY2F0Y2ggKGphdmF4LnN3aW5nLlVuc3VwcG9ydGVkTG9va0FuZEZlZWxFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgLy88L2VkaXRvci1mb2xkPlxcblxcbiAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXFxuICAgICAgICBqYXZhLmF3dC5FdmVudFF1ZXVlLmludm9rZUxhdGVyKG5ldyBSdW5uYWJsZSgpIHtcXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKSB7XFxuICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSk7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyNzEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzA0fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhOlxuICAgMjk1XHQgICAgICAgIH1cbiAgIDI5Nlx0ICAgICAgICAvLzwvZWRpdG9yLWZvbGQ+XG4gICAyOTdcdFxuICAgMjk4XHQgICAgICAgIC8qIENyZWF0ZSBhbmQgZGlzcGxheSB0aGUgZm9ybSAqL1xuICAgMjk5XHQgICAgICAgIGphdmEuYXd0LkV2ZW50UXVldWUuaW52b2tlTGF0ZXIobmV3IFJ1bm5hYmxlKCkge1xuICAgMzAwXHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKSB7XG4gICAzMDFcdCAgICAgICAgICAgICAgICBuZXcgRm9yZ290UGFzc3dvcmQoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMzAyXHQgICAgICAgICAgICB9XG4gICAzMDNcdCAgICAgICAgfSk7XG4gICAzMDRcdCAgICB9XG4gICAzMDVcdFxuICAgMzA2XHQgICAgLy8gVmFyaWFibGVzIGRlY2xhcmF0aW9uIC0gZG8gbm90IG1vZGlmeS8vR0VOLUJFR0lOOnZhcmlhYmxlc1xuICAgMzA3XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoYW5nZTtcbiAgIDMwOFx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcbiAgIDMwOVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5FeGl0O1xuICAgMzEwXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMTtcbiAgIDMxMVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAzMTJcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpTZXBhcmF0b3IgalNlcGFyYXRvcjE7XG4gICAzMTNcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBsYkNvbmZpcm1QYXNzd29yZDtcbiAgIDMxNFx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiTmV3UGFzc3dvcmQ7XG4gICAzMTVcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkIHR4dENvbmZpcm1QYXNzd29yZDtcbiAgIDMxNlx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0UGFzc3dvcmQ7XG4gICAzMTdcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpUZXh0RmllbGQgdHh0UGhvbmU7XG4gICAzMThcdCAgICAvLyBFbmQgb2YgdmFyaWFibGVzIGRlY2xhcmF0aW9uLy9HRU4tRU5EOnZhcmlhYmxlc1xuICAgMzE5XHR9XG4gICAzMjBcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzIwXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxOGpHY3pZUVNHZ2RlcG5nNUY5SENuciJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAxOjU5OjQwLjQwNloiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImViZjY4YmE1LTEwNjItNGU1Yi1iOGI2LTA4NTFjYWNjNzgyMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDEyMU1WYW42eUtkOFBjcFNHdGFFdFQ2IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFs5MCwgMTAwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24gaW4gdGhlIGluaXRDb21wb25lbnRzIG1ldGhvZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyNjdcdCAgICAgICAgICAgIH1cbiAgIDI2OFx0ICAgICAgICB9XG4gICAyNjlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI3MFx0XG4gICAyNzFcdFxuICAgMjcyXHRcbiAgIDI3M1x0ICAgIC8vIFZhcmlhYmxlcyBkZWNsYXJhdGlvbiAtIGRvIG5vdCBtb2RpZnkvL0dFTi1CRUdJTjp2YXJpYWJsZXNcbiAgIDI3NFx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGFuZ2U7XG4gICAyNzVcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hlY2s7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDE1ZG14cWl0MVZybzd3cW5DV1U4WUZGIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTk6NTEuOTI5WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24gaW4gdGhlIGluaXRDb21wb25lbnRzIG1ldGhvZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwYTkyODE3Ni1jNWViLTQ4MjEtOTM5ZC0zZjUwMGE0ZjdkNzUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSGJtb2Q2RUhKdlRFMlR2MkNZNkJOUCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgc2V0RGVmYXVsdENsb3NlT3BlcmF0aW9uKGphdmF4LnN3aW5nLldpbmRvd0NvbnN0YW50cy5ESVNQT1NFX09OX0NMT1NFKTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEwMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMDB9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAgOTBcdCAgICAgICAgbGJOZXdQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA5MVx0ICAgICAgICBsYkNvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA5Mlx0ICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgOTNcdCAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgIDk0XHQgICAgICAgIGJ0bkNoZWNrID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICA5NVx0ICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgIDk2XHQgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgIDk3XHQgICAgICAgIGJ0bkNoYW5nZSA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgOThcdCAgICAgICAgYnRuRXhpdCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgOTlcdFxuICAgMTAwXHQgICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyODdcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDEyMU1WYW42eUtkOFBjcFNHdGFFdFQ2In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDE6NTk6NTYuMTczWiIsInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOWU5NzE3YzgtYmE3ZS00MzU3LWI4ZWUtZTQxMzMxMWEwZTI0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVBmUXhXS1JQTW5iZjRiMlhnTHMyNTUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzE3MCwgMTgwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBMb2dpbiBjbGFzcyB0byBvcGVuIHRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2cgd2hlbiB0aGUgZm9yZ290IHBhc3N3b3JkIGJ1dHRvbiBpcyBjbGlja2VkOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA5Nlx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5N1x0ICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDk4XHQgICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDk5XHRcbiAgIDEwMFx0ICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkRJU1BPU0VfT05fQ0xPU0UpO1xuICAgMTAxXHRcbiAgIDEwMlx0ICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgIDEwM1x0ICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAxMDRcdCAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUhibW9kNkVISnZURTJUdjJDWTZCTlAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMjowMDowMi44MzRaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIExvZ2luIGNsYXNzIHRvIG9wZW4gdGhlIEZvcmdvdFBhc3N3b3JkIGRpYWxvZyB3aGVuIHRoZSBmb3Jnb3QgcGFzc3dvcmQgYnV0dG9uIGlzIGNsaWNrZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWMyZGFkYTktMzgwNi00MGNiLWEyZDYtMjYxOWFmZjJmNTQ2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMTNUWnA2SmJvZmNBQXZIMmJHSEhaYjMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzE3MCwgMTkwXX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmE6XG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMykpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRVc2VyTmFtZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE3N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgMTc4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDQpKVxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE4MFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI5MVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVBmUXhXS1JQTW5iZjRiMlhnTHMyNTUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMjowMDowNy43OThaIiwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2NmY3NTAyYi0zZmY0LTQ0MGItYjA2Ny04Zjk4NzQ4M2ZlZDUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxMmlLWWhFU2tUbVUzWHRXSjQ4SjUxSiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMTcwLCAyMDBdfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YTpcbiAgIDE3MFx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNzFcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDE3Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwzKSlcbiAgIDE3M1x0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFVzZXJOYW1lLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxNzRcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAxNzVcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxNzZcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTc3XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxNzhcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNCkpXG4gICAxNzlcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTgwXHQgICAgICAgICAgICAgICAgLmFkZEdhcCgzMCwgMzAsIDMwKVxuICAgMTgxXHQgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDEwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgIDE4Mlx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgIDE4M1x0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4NFx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0blNpZ251cCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM1LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgIDE4NVx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkxvZ2luLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE4Nlx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgIDE4N1x0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4OFx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkZvcmdvdFBhc3N3b3JkKVxuICAgMTg5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdCkpKVxuICAgMTkwXHQgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCA2MzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuVG90YWwgbGluZXMgaW4gZmlsZTogMjkxXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxM1RacDZKYm9mY0FBdkgyYkdISFpiMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAyOjAwOjEyLjM2OFoiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjIxYjVjNTllLWMxMTctNDI2NS04ZWE0LTg0YmQ1MTk0MmNiZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFXekE2WlJMbmlZaDhacXlxbjFkSFZwIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsyMjAsIDI0MF19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhOlxuICAgMTcwXHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE3MVx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgMTcyXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDMpKVxuICAgMTczXHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0VXNlck5hbWUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE3NFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMTgsIDE4LCAxOClcbiAgIDE3NVx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE3Nlx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNzdcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDE3OFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWw0KSlcbiAgIDE3OVx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBhc3N3b3JkLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxODBcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDMwLCAzMCwgMzApXG4gICAxODFcdCAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpTZXBhcmF0b3IyLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMTAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgMTgyXHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxMiwgMTIsIDEyKVxuICAgMTgzXHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTg0XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuU2lnbnVwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgMTg1XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuTG9naW4sIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTg2XHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxMiwgMTIsIDEyKVxuICAgMTg3XHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTg4XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRm9yZ290UGFzc3dvcmQpXG4gICAxODlcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5FeGl0KSkpXG4gICAxOTBcdCAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDYzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxOTFcdCAgICAgICAgKTtcbiAgIDE5Mlx0XG4gICAxOTNcdCAgICAgICAgcGFjaygpO1xuICAgMTk0XHQgICAgfS8vIDwvZWRpdG9yLWZvbGQ+Ly9HRU4tRU5EOmluaXRDb21wb25lbnRzXG4gICAxOTVcdFxuICAgMTk2XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkxvZ2luQWN0aW9uUGVyZm9ybWVkXG4gICAxOTdcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAxOThcdCAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSkge1xuICAgMTk5XHQgICAgICAgICAgICB0cnl7XG4gICAyMDBcdCAgICAgICAgICAgICAgICBTdHJpbmcgdXNlcm5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCkudHJpbSgpO1xuVG90YWwgbGluZXMgaW4gZmlsZTogMjkxXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxMmlLWWhFU2tUbVUzWHRXSjQ4SjUxSiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTEzVDAyOjAwOjE1LjY3N1oiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQzODI2ODdlLTM5Y2EtNDhkYS05MGYyLTdmN2YwOTAwMjE1NCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFGQ1JHM0tIekQ3MUIyUzNKR1ZSNHNGIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZFwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIGJ0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICAvLyBPcGVuIHRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2dcXG4gICAgICAgIEZvcmdvdFBhc3N3b3JkIGZvcmdvdFBhc3N3b3JkRGlhbG9nID0gbmV3IEZvcmdvdFBhc3N3b3JkKHRoaXMsIHRydWUpO1xcbiAgICAgICAgZm9yZ290UGFzc3dvcmREaWFsb2cuc2V0VmlzaWJsZSh0cnVlKTtcXG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIyMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMjN9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdXBkYXRlIHRoZSBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZCBtZXRob2QgdG8gb3BlbiB0aGUgRm9yZ290UGFzc3dvcmQgZGlhbG9nOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhOlxuICAgMjIwXHRcbiAgIDIyMVx0ICAgIHByaXZhdGUgdm9pZCBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZFxuICAgMjIyXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjIzXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyNFx0XG4gICAyMjVcdCAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAyMjZcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyMjdcdCAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAyMjhcdCAgICBcbiAgIDIyOVx0ICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgIDIzMFx0ICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAyMzFcdCAgICAgICAgfVxuICAgMjMyXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjMzXHRcbiAgIDIzNFx0ICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyMzVcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyMzZcdCAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAyMzdcdCAgICAgICAgbmV3IFNpZ25VcCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzhcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDIzOVx0XG4gICAyNDBcdCAgICAvKipcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI5MVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVd6QTZaUkxuaVloOFpxeXFuMWRIVnAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xM1QwMjowMDoyMC4wNzNaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIGJ0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkIG1ldGhvZCB0byBvcGVuIHRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2c6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZTM4ZDIxMGYtYTY4Yi00NzNhLWJjODQtZGJlZDY4NDhmOGZmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbkkndmUgbWFkZSB0aGUgZm9sbG93aW5nIGNoYW5nZXMgdG8gaW1wbGVtZW50IHRoZSBGb3Jnb3RQYXNzd29yZCBmdW5jdGlvbmFsaXR5IGFzIGEgcG9wdXAgd2luZG93OlxuXG4xLiAqKk1vZGlmaWVkIEZvcmdvdFBhc3N3b3JkLmphdmEqKjpcbiAgIC0gQ2hhbmdlZCB0aGUgY2xhc3MgdG8gZXh0ZW5kIEpEaWFsb2cgaW5zdGVhZCBvZiBKRnJhbWVcbiAgIC0gVXBkYXRlZCB0aGUgY29uc3RydWN0b3IgdG8gYWNjZXB0IGEgcGFyZW50IGZyYW1lIGFuZCBtb2RhbCBwYXJhbWV0ZXJcbiAgIC0gU2V0IHRoZSBkaWFsb2cgdG8gYmUgbW9kYWwgYW5kIGNlbnRlcmVkIG9uIHRoZSBwYXJlbnRcbiAgIC0gVXBkYXRlZCB0aGUgRXhpdCBidXR0b24gdG8gc2ltcGx5IGNsb3NlIHRoZSBkaWFsb2dcbiAgIC0gVXBkYXRlZCB0aGUgQ2hhbmdlIFBhc3N3b3JkIGJ1dHRvbiB0byBzaG93IGEgc3VjY2VzcyBtZXNzYWdlIGFuZCBjbG9zZSB0aGUgZGlhbG9nXG4gICAtIFJlbW92ZWQgdGhlIG1haW4gbWV0aG9kIGFzIGl0J3Mgbm90IG5lZWRlZCBmb3IgYSBkaWFsb2dcbiAgIC0gQ2hhbmdlZCB0aGUgZGVmYXVsdCBjbG9zZSBvcGVyYXRpb24gdG8gRElTUE9TRV9PTl9DTE9TRVxuXG4yLiAqKk1vZGlmaWVkIExvZ2luLmphdmEqKjpcbiAgIC0gVXBkYXRlZCB0aGUgRm9yZ290IFBhc3N3b3JkIGJ1dHRvbiBhY3Rpb24gdG8gY3JlYXRlIGFuZCBzaG93IHRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2dcblxuIyMgSG93IHRvIFRlc3QgdGhlIENoYW5nZXNcblxuMS4gUnVuIHlvdXIgYXBwbGljYXRpb25cbjIuIEdvIHRvIHRoZSBMb2dpbiBzY3JlZW5cbjMuIENsaWNrIHRoZSBcIlF1w6puIG3huq10IGto4bqpdT9cIiBidXR0b25cbjQuIFRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2cgc2hvdWxkIGFwcGVhciBhcyBhIHBvcHVwIHdpbmRvd1xuNS4gRW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIgYW5kIGNsaWNrIFwiS2nhu4NtIHRyYVwiXG42LiBJZiB0aGUgcGhvbmUgbnVtYmVyIGlzIGZvdW5kLCB0aGUgcGFzc3dvcmQgZmllbGRzIHNob3VsZCBhcHBlYXJcbjcuIEVudGVyIGEgbmV3IHBhc3N3b3JkIGFuZCBjb25maXJtIHBhc3N3b3JkXG44LiBDbGljayB0aGUgXCLEkOG7lWkgbeG6rXQga2jhuql1XCIgYnV0dG9uXG45LiBZb3Ugc2hvdWxkIHNlZSBhIHN1Y2Nlc3MgbWVzc2FnZSBhbmQgdGhlIGRpYWxvZyBzaG91bGQgY2xvc2UsIHJldHVybmluZyB5b3UgdG8gdGhlIGxvZ2luIHNjcmVlblxuXG5UaGVzZSBjaGFuZ2VzIGVuc3VyZSB0aGF0IHRoZSBGb3Jnb3RQYXNzd29yZCBmdW5jdGlvbmFsaXR5IGFwcGVhcnMgYXMgYSBtb2RhbCBwb3B1cCB3aW5kb3cgd2hlbiBjbGlja2luZyB0aGUgZm9yZ290IHBhc3N3b3JkIGJ1dHRvbiBmcm9tIHRoZSBsb2dpbiBzY3JlZW4sIHJhdGhlciB0aGFuIGFzIGEgc2VwYXJhdGUgd2luZG93LlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDIxN1x0XG4gICAyMThcdFxuICAgMjE5XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuTG9naW5BY3Rpb25QZXJmb3JtZWRcbiAgIDIyMFx0XG4gICAyMjFcdCAgICBwcml2YXRlIHZvaWQgYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyMlx0ICAgICAgICAvLyBPcGVuIHRoZSBGb3Jnb3RQYXNzd29yZCBkaWFsb2dcbiAgIDIyM1x0ICAgICAgICBGb3Jnb3RQYXNzd29yZCBmb3Jnb3RQYXNzd29yZERpYWxvZyA9IG5ldyBGb3Jnb3RQYXNzd29yZCh0aGlzLCB0cnVlKTtcbiAgIDIyNFx0ICAgICAgICBmb3Jnb3RQYXNzd29yZERpYWxvZy5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjI1XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyNlx0XG4gICAyMjdcdCAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAyMjhcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyMjlcdCAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFGQ1JHM0tIekQ3MUIyUzNKR1ZSNHNGIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTNUMDI6MDA6MjcuODA2WiIsInJlc3BvbnNlX3RleHQiOiIjIyBTdW1tYXJ5IG9mIENoYW5nZXNcblxuSSd2ZSBtYWRlIHRoZSBmb2xsb3dpbmcgY2hhbmdlcyB0byBpbXBsZW1lbnQgdGhlIEZvcmdvdFBhc3N3b3JkIGZ1bmN0aW9uYWxpdHkgYXMgYSBwb3B1cCB3aW5kb3c6XG5cbjEuICoqTW9kaWZpZWQgRm9yZ290UGFzc3dvcmQuamF2YSoqOlxuICAgLSBDaGFuZ2VkIHRoZSBjbGFzcyB0byBleHRlbmQgSkRpYWxvZyBpbnN0ZWFkIG9mIEpGcmFtZVxuICAgLSBVcGRhdGVkIHRoZSBjb25zdHJ1Y3RvciB0byBhY2NlcHQgYSBwYXJlbnQgZnJhbWUgYW5kIG1vZGFsIHBhcmFtZXRlclxuICAgLSBTZXQgdGhlIGRpYWxvZyB0byBiZSBtb2RhbCBhbmQgY2VudGVyZWQgb24gdGhlIHBhcmVudFxuICAgLSBVcGRhdGVkIHRoZSBFeGl0IGJ1dHRvbiB0byBzaW1wbHkgY2xvc2UgdGhlIGRpYWxvZ1xuICAgLSBVcGRhdGVkIHRoZSBDaGFuZ2UgUGFzc3dvcmQgYnV0dG9uIHRvIHNob3cgYSBzdWNjZXNzIG1lc3NhZ2UgYW5kIGNsb3NlIHRoZSBkaWFsb2dcbiAgIC0gUmVtb3ZlZCB0aGUgbWFpbiBtZXRob2QgYXMgaXQncyBub3QgbmVlZGVkIGZvciBhIGRpYWxvZ1xuICAgLSBDaGFuZ2VkIHRoZSBkZWZhdWx0IGNsb3NlIG9wZXJhdGlvbiB0byBESVNQT1NFX09OX0NMT1NFXG5cbjIuICoqTW9kaWZpZWQgTG9naW4uamF2YSoqOlxuICAgLSBVcGRhdGVkIHRoZSBGb3Jnb3QgUGFzc3dvcmQgYnV0dG9uIGFjdGlvbiB0byBjcmVhdGUgYW5kIHNob3cgdGhlIEZvcmdvdFBhc3N3b3JkIGRpYWxvZ1xuXG4jIyBIb3cgdG8gVGVzdCB0aGUgQ2hhbmdlc1xuXG4xLiBSdW4geW91ciBhcHBsaWNhdGlvblxuMi4gR28gdG8gdGhlIExvZ2luIHNjcmVlblxuMy4gQ2xpY2sgdGhlIFwiUXXDqm4gbeG6rXQga2jhuql1P1wiIGJ1dHRvblxuNC4gVGhlIEZvcmdvdFBhc3N3b3JkIGRpYWxvZyBzaG91bGQgYXBwZWFyIGFzIGEgcG9wdXAgd2luZG93XG41LiBFbnRlciBhIHZhbGlkIHBob25lIG51bWJlciBhbmQgY2xpY2sgXCJLaeG7g20gdHJhXCJcbjYuIElmIHRoZSBwaG9uZSBudW1iZXIgaXMgZm91bmQsIHRoZSBwYXNzd29yZCBmaWVsZHMgc2hvdWxkIGFwcGVhclxuNy4gRW50ZXIgYSBuZXcgcGFzc3dvcmQgYW5kIGNvbmZpcm0gcGFzc3dvcmRcbjguIENsaWNrIHRoZSBcIsSQ4buVaSBt4bqtdCBraOG6qXVcIiBidXR0b25cbjkuIFlvdSBzaG91bGQgc2VlIGEgc3VjY2VzcyBtZXNzYWdlIGFuZCB0aGUgZGlhbG9nIHNob3VsZCBjbG9zZSwgcmV0dXJuaW5nIHlvdSB0byB0aGUgbG9naW4gc2NyZWVuXG5cblRoZXNlIGNoYW5nZXMgZW5zdXJlIHRoYXQgdGhlIEZvcmdvdFBhc3N3b3JkIGZ1bmN0aW9uYWxpdHkgYXBwZWFycyBhcyBhIG1vZGFsIHBvcHVwIHdpbmRvdyB3aGVuIGNsaWNraW5nIHRoZSBmb3Jnb3QgcGFzc3dvcmQgYnV0dG9uIGZyb20gdGhlIGxvZ2luIHNjcmVlbiwgcmF0aGVyIHRoYW4gYXMgYSBzZXBhcmF0ZSB3aW5kb3cuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI3NWFjZTQ0MC01NTBhLTQ1MTktYTkzNi03MWFmNmM0NzhiMTYiLCJ1dWlkIjoiNzFhYTRlNTgtNmMyOS00NzIyLTk0MTEtOGZkOTY4NzFlODJlIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ3MTAxMzU5ODQ1LCJ0b1RpbWVzdGFtcCI6MTc0NzEwMTY0MjQzNSwic2Vlbl9zdGF0ZSI6InNlZW4ifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtNDNlMmI2NjMtM2EyMy00ZDM2LTlmZDktNGE0Y2I1NzIyZTUzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iZjlhYmUxMC1jYjAwLTQ0MDItODE1Ny1iNWM4NzI0Mjk3NDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTNlZjM5N2FhLTUwN2UtNDc4OC1iMmU4LWU1NjQyNGRmNjAyYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMGIzYzdhNmQtYzA0OS00ODM2LTkwMDgtNjM4NmZiOTBhMjJlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hMDQ4OWRjMi03OWJiLTQ1MjYtYjZiYi1iOGYyMzAwZWVhNTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTVkNGFmYTk3LTYwMmQtNDcxZC05YmNhLWFjZTg2NDczMjI0YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTUzYmI0YzAtNWMyZi00ZDA5LWEwZjAtYWFmYzZkNWQ5NmVjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05MTUxMjY1MC03NDc4LTQ3OTUtOWRkMS02M2Y4MjZkYTJmN2UiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVmMzhkYWJjLThjODQtNDk2ZS1iZWMyLWY4OTllMGYwODAzOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOGJhNDFhYzUtM2JlOS00OWYyLTg3NDItYzllOTA2MWI1MGNlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNzE5MzE2YS1iZjNkLTRlMTYtYTNhMi1mMzc1NmE5ZDJkZWIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWM1YTRkNGRkLTBhNTYtNDJkYS1iN2QwLTBjNDI1ZjM3ZWI0ZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDU2MGQzMTEtMjg2NS00MWZjLWEwZGEtODhmNDRiMDliMTgwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yMWFjN2MwOS03ZTI4LTQyOGYtODY1ZS0yN2NkYjI4YTYwNzAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTlmZTYxMTc5LTVlMmItNDFjOS05NmQ1LWE1NDZiMDBkNDJlMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOGNjYTE2NDgtNDI2My00NDc2LWE3MDctYzk0NzQ3N2VkYzFlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iNGRmYzlmMi0zNTM1LTRkNWEtYTIxMC1jZGJhNzBjOTQ1ODAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM2MWQzMWMwLTkxN2QtNDViMy1hNzllLWY5YWJlNjljNDUxYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtN2U1ZWZhNWQtZDlmOS00M2M4LWEzOTgtNzVmMmNjNmVkY2JiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iNzkwZDQ4Ny0wMjc0LTQyODctYmNjZS0yOGVmMjdlNDIzMWMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTkzMjE2YzUxLTFiMWEtNGViNC05YzZmLWZiZWY0ZDg0NGE0YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYWRmNWUxNzYtYjI5Zi00ZmFiLTkxYmMtMzdhZmZkN2I3NWViIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02ZGNjZWU2My05ZWFmLTQ2ZTMtYjA1ZS1jOTM3YTAyZjU2ZDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyJiNTUzZTM4ZC0wNTgxLTRkZmUtOGJmOC0wNTE2MjM3MTRlZDc7dG9vbHVfMDExeFJhYkx4QWRnUjdveUpnOXl6a1hhIjp7InJlcXVlc3RJZCI6ImI1NTNlMzhkLTA1ODEtNGRmZS04YmY4LTA1MTYyMzcxNGVkNyIsInRvb2xVc2VJZCI6InRvb2x1XzAxMXhSYWJMeEFkZ1I3b3lKZzl5emtYYSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbiAgICAgOFx0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDlcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxMFx0aW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4gICAgMTFcdFxuICAgIDEyXHQvKipcbiAgICAxM1x0ICpcbiAgICAxNFx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNVx0ICovXG4gICAgMTZcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgMTdcdCAgICBwcml2YXRlIFN1YnNjcmliZXIgY3VycmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgIDE4XHQgICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLyoqXG4gICAgMjFcdCAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIEZvcmdvdFBhc3N3b3JkXG4gICAgMjJcdCAgICAgKi9cbiAgICAyM1x0ICAgIHB1YmxpYyBGb3Jnb3RQYXNzd29yZCgpIHtcbiAgICAyNFx0ICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIDI1XHRcbiAgICAyNlx0ICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgIDI3XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAyOFx0ICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDI5XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDMwXHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDMxXHQgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAzMlx0ICAgIH1cbiAgICAzM1x0XG4gICAgMzRcdCAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgIDM1XHQgICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgMzZcdCAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAzN1x0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICAzOFx0XG4gICAgMzlcdCAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0MFx0ICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDFcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0Mlx0ICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0M1x0ICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICA0NFx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgNDVcdCAgICB9XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVQaG9uZSgpe1xuICAgIDQ4XHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICA0OVx0ICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNTBcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTFcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA1Mlx0ICAgICAgICB9XG4gICAgNTNcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTRcdCAgICB9XG4gICAgNTVcdFxuICAgIDU2XHQgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICA1N1x0ICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgNThcdCAgICAgICAgU3RyaW5nIGNvbmZpcm1QYXNzd29yZCA9IHR4dENvbmZpcm1QYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgIGlmKHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBjb25maXJtUGFzc3dvcmQuaXNFbXB0eSgpKXtcbiAgICA2MVx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJWdWkgbMOybmcga2jDtG5nIGLhu48gdHLhu5FuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA2Mlx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICAgICAgaWYoIXBhc3N3b3JkLmVxdWFscyhjb25maXJtUGFzc3dvcmQpKXtcbiAgICA2Nlx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJN4bqtdCBraOG6qXUgeMOhYyBuaOG6rW4ga2jDtG5nIGto4bubcCFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA2N1x0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIDY4XHQgICAgICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNzFcdCAgICB9XG4gICAgNzJcdFxuICAgIDczXHQgICAgLyoqXG4gICAgNzRcdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG4gICAgNzVcdCAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG4gICAgNzZcdCAgICAgKiByZWdlbmVyYXRlZCBieSB0aGUgRm9ybSBFZGl0b3IuXG4gICAgNzdcdCAgICAgKi9cbiAgICA3OFx0ICAgIEBTdXBwcmVzc1dhcm5pbmdzKFwidW5jaGVja2VkXCIpXG4gICAgNzlcdCAgICAvLyA8ZWRpdG9yLWZvbGQgZGVmYXVsdHN0YXRlPVwiY29sbGFwc2VkXCIgZGVzYz1cIkdlbmVyYXRlZCBDb2RlXCI+Ly9HRU4tQkVHSU46aW5pdENvbXBvbmVudHNcbiAgICA4MFx0ICAgIHByaXZhdGUgdm9pZCBpbml0Q29tcG9uZW50cygpIHtcbiAgICA4MVx0XG4gICAgODJcdCAgICAgICAgakxhYmVsMSA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA4M1x0ICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgIDg0XHQgICAgICAgIGxiTmV3UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgODVcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgODZcdCAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgIDg3XHQgICAgICAgIHR4dFBob25lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICA4OFx0ICAgICAgICBidG5DaGVjayA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgODlcdCAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5MFx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5MVx0ICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDkyXHQgICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDkzXHRcbiAgICA5NFx0ICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuICAgIDk1XHRcbiAgICA5Nlx0ICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgICA5N1x0ICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAgOThcdCAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcbiAgICA5OVx0XG4gICAxMDBcdCAgICAgICAgakxhYmVsMi5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDFcdCAgICAgICAgakxhYmVsMi5zZXRUZXh0KFwiU+G7kSDEkWnhu4duIHRob+G6oWk6IFwiKTtcbiAgIDEwMlx0XG4gICAxMDNcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMDRcdCAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRUZXh0KFwiTeG6rXQga2jhuql1IG3hu5tpOlwiKTtcbiAgIDEwNVx0XG4gICAxMDZcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgMTA3XHQgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFRleHQoXCJYw6FjIG5o4bqtbiBt4bqtdCBraOG6qXU6XCIpO1xuICAgMTA4XHRcbiAgIDEwOVx0ICAgICAgICBidG5DaGVjay5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMTBcdCAgICAgICAgYnRuQ2hlY2suc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3NlYXJjaC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMTFcdCAgICAgICAgYnRuQ2hlY2suc2V0VGV4dChcIktp4buDbSB0cmFcIik7XG4gICAxMTJcdCAgICAgICAgYnRuQ2hlY2suc2V0Q3Vyc29yKG5ldyBqYXZhLmF3dC5DdXJzb3IoamF2YS5hd3QuQ3Vyc29yLkhBTkRfQ1VSU09SKSk7XG4gICAxMTNcdCAgICAgICAgYnRuQ2hlY2suYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTE0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMTVcdCAgICAgICAgICAgICAgICBidG5DaGVja0FjdGlvblBlcmZvcm1lZChldnQpO1xuICAgMTE2XHQgICAgICAgICAgICB9XG4gICAxMTdcdCAgICAgICAgfSk7XG4gICAxMThcdFxuICAgMTE5XHQgICAgICAgIGJ0bkNoYW5nZS5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAxMjBcdCAgICAgICAgYnRuQ2hhbmdlLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9yZXNldC1wYXNzd29yZC5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAxMjFcdCAgICAgICAgYnRuQ2hhbmdlLnNldFRleHQoXCLEkOG7lWkgbeG6rXQga2jhuql1XCIpO1xuICAgMTIyXHQgICAgICAgIGJ0bkNoYW5nZS5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgIDEyM1x0ICAgICAgICBidG5DaGFuZ2UuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTI0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMjVcdCAgICAgICAgICAgICAgICBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgIDEyNlx0ICAgICAgICAgICAgfVxuICAgMTI3XHQgICAgICAgIH0pO1xuICAgMTI4XHRcbiAgIDEyOVx0ICAgICAgICBidG5FeGl0LnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgIDEzMFx0ICAgICAgICBidG5FeGl0LnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9sb2dvdXQucG5nXCIpKSk7IC8vIE5PSTE4TlxuICAgMTMxXHQgICAgICAgIGJ0bkV4aXQuc2V0VGV4dChcIlRob8OhdFwiKTtcbiAgIDEzMlx0ICAgICAgICBidG5FeGl0LnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgMTMzXHQgICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgMTM0XHQgICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAxMzVcdCAgICAgICAgICAgICAgICBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAxMzZcdCAgICAgICAgICAgIH1cbiAgIDEzN1x0ICAgICAgICB9KTtcbiAgIDEzOFx0XG4gICAxMzlcdCAgICAgICAgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQgbGF5b3V0ID0gbmV3IGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0KGdldENvbnRlbnRQYW5lKCkpO1xuICAgMTQwXHQgICAgICAgIGdldENvbnRlbnRQYW5lKCkuc2V0TGF5b3V0KGxheW91dCk7XG4gICAxNDFcdCAgICAgICAgbGF5b3V0LnNldEhvcml6b250YWxHcm91cChcbiAgIDE0Mlx0ICAgICAgICAgICAgbGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxNDNcdCAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE0NFx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE0NVx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNDZcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMTEwLCAxMTAsIDExMClcbiAgIDE0N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKSlcbiAgIDE0OFx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNDlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjEsIDYxLCA2MSlcbiAgIDE1MFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM3MCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTUxXHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE1Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgMTUzXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDIpXG4gICAxNTRcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNTYsIDU2LCA1NilcbiAgIDE1NVx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQaG9uZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTU2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE1N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCg2MSwgNjEsIDYxKVxuICAgMTU4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiTmV3UGFzc3dvcmQpXG4gICAxNTlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNTcsIDU3LCA1NylcbiAgIDE2MFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTYxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDIxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxNjJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNjNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgxMDIsIDEwMiwgMTAyKVxuICAgMTY0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2spKSkpXG4gICAxNjVcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5UUkFJTElORywgZmFsc2UpXG4gICAxNjZcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE2N1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgIDE2OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdClcbiAgIDE2OVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRQcmVmZXJyZWRHYXAoamF2YXguc3dpbmcuTGF5b3V0U3R5bGUuQ29tcG9uZW50UGxhY2VtZW50LlJFTEFURUQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgU2hvcnQuTUFYX1ZBTFVFKVxuICAgMTcwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5DaGFuZ2UpKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDYxLCA2MSwgNjEpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGxiQ29uZmlybVBhc3N3b3JkKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMTEsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSkpKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgLmFkZEdhcCg2OSwgNjksIDY5KSlcbiAgIDE3N1x0ICAgICAgICApO1xuICAgMTc4XHQgICAgICAgIGxheW91dC5zZXRWZXJ0aWNhbEdyb3VwKFxuICAgMTc5XHQgICAgICAgICAgICBsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4MFx0ICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTgxXHQgICAgICAgICAgICAgICAgLmFkZEdhcCg0MCwgNDAsIDQwKVxuICAgMTgyXHQgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwxKVxuICAgMTgzXHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxNCwgMTQsIDE0KVxuICAgMTg0XHQgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDEwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgIDE4NVx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMTIsIDEyLCAxMilcbiAgIDE4Nlx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDE4N1x0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAxODhcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWwyKSlcbiAgIDE5MFx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KHR4dFBob25lLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxOTFcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDE4LCAxOCwgMTgpXG4gICAxOTJcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxOTNcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTk0XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxOTVcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQobGJOZXdQYXNzd29yZCkpXG4gICAxOTZcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxOTdcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTk4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDIsIDIsIDIpXG4gICAxOTlcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hlY2ssIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKSlcbiAgIDIwMFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoOCwgOCwgOClcbiAgIDIwMVx0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuTEVBRElORylcbiAgIDIwMlx0ICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVNlcXVlbnRpYWxHcm91cCgpXG4gICAyMDNcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoMywgMywgMylcbiAgIDIwNFx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChsYkNvbmZpcm1QYXNzd29yZCkpXG4gICAyMDVcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRDb25maXJtUGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDIwNlx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgIDIwN1x0ICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuQkFTRUxJTkUpXG4gICAyMDhcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5FeGl0LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKVxuICAgMjA5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuQ2hhbmdlLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDIxMFx0ICAgICAgICAgICAgICAgIC5hZGRDb250YWluZXJHYXAoNDAsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAyMTFcdCAgICAgICAgKTtcbiAgIDIxMlx0XG4gICAyMTNcdCAgICAgICAgcGFjaygpO1xuICAgMjE0XHQgICAgfS8vIDwvZWRpdG9yLWZvbGQ+Ly9HRU4tRU5EOmluaXRDb21wb25lbnRzXG4gICAyMTVcdFxuICAgMjE2XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjE3XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjE4XHQgICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuICAgMjE5XHRcbiAgIDIyMFx0ICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgIDIyMVx0ICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIyMlx0ICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyMjNcdCAgICAgICAgfVxuICAgMjI0XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjI1XHRcbiAgIDIyNlx0ICAgIHByaXZhdGUgdm9pZCBidG5DaGVja0FjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuICAgMjI3XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjI4XHQgICAgICAgIGlmKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgMjI5XHQgICAgICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAyMzBcdCAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcbiAgIDIzMVx0ICAgICAgICAgICAgXG4gICAyMzJcdCAgICAgICAgICAgIGlmIChjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKSB7XG4gICAyMzNcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgMjM0XHRcbiAgIDIzNVx0ICAgICAgICAgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzNlx0ICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM3XHQgICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjM4XHQgICAgICAgICAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDIzOVx0ICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNDBcdCAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI0MVx0XG4gICAyNDJcdCAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAyNDNcdCAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgIDI0NFx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI0NVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjQ2XHQgICAgICAgICAgICB9XG4gICAyNDdcdCAgICAgICAgfVxuICAgMjQ4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0OVx0XG4gICAyNTBcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjUxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjUyXHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAyNTNcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1NFx0ICAgICAgICAgICAgXG4gICAyNTVcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI1Nlx0ICAgICAgICAgICAgXG4gICAyNTdcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjU4XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNTlcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjYwXHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjJcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpfCBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjYzXHQgICAgICAgICAgICB9XG4gICAyNjRcdCAgICAgICAgfVxuICAgMjY1XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNjZcdFxuICAgMjY3XHQgICAgLyoqXG4gICAyNjhcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjY5XHQgICAgICovXG4gICAyNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XG4gICAyNzFcdCAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgMjcyXHQgICAgICAgIC8vPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCIgTG9vayBhbmQgZmVlbCBzZXR0aW5nIGNvZGUgKG9wdGlvbmFsKSBcIj5cbiAgIDI3M1x0ICAgICAgICAvKiBJZiBOaW1idXMgKGludHJvZHVjZWQgaW4gSmF2YSBTRSA2KSBpcyBub3QgYXZhaWxhYmxlLCBzdGF5IHdpdGggdGhlIGRlZmF1bHQgbG9vayBhbmQgZmVlbC5cbiAgIDI3NFx0ICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sXG4gICAyNzVcdCAgICAgICAgICovXG4gICAyNzZcdCAgICAgICAgdHJ5IHtcbiAgIDI3N1x0ICAgICAgICAgICAgZm9yIChqYXZheC5zd2luZy5VSU1hbmFnZXIuTG9va0FuZEZlZWxJbmZvIGluZm8gOiBqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0SW5zdGFsbGVkTG9va0FuZEZlZWxzKCkpIHtcbiAgIDI3OFx0ICAgICAgICAgICAgICAgIGlmIChcIk5pbWJ1c1wiLmVxdWFscyhpbmZvLmdldE5hbWUoKSkpIHtcbiAgIDI3OVx0ICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAyODBcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAyODFcdCAgICAgICAgICAgICAgICB9XG4gICAyODJcdCAgICAgICAgICAgIH1cbiAgIDI4M1x0ICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGV4KSB7XG4gICAyODRcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyODVcdCAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgMjg2XHQgICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xuICAgMjg3XHQgICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBY2Nlc3NFeGNlcHRpb24gZXgpIHtcbiAgIDI4OFx0ICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgIDI4OVx0ICAgICAgICB9IGNhdGNoIChqYXZheC5zd2luZy5VbnN1cHBvcnRlZExvb2tBbmRGZWVsRXhjZXB0aW9uIGV4KSB7XG4gICAyOTBcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyOTFcdCAgICAgICAgfVxuICAgMjkyXHQgICAgICAgIC8vPC9lZGl0b3ItZm9sZD5cbiAgIDI5M1x0XG4gICAyOTRcdCAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAyOTVcdCAgICAgICAgamF2YS5hd3QuRXZlbnRRdWV1ZS5pbnZva2VMYXRlcihuZXcgUnVubmFibGUoKSB7XG4gICAyOTZcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiAgIDI5N1x0ICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyOThcdCAgICAgICAgICAgIH1cbiAgIDI5OVx0ICAgICAgICB9KTtcbiAgIDMwMFx0ICAgIH1cbiAgIDMwMVx0XG4gICAzMDJcdCAgICAvLyBWYXJpYWJsZXMgZGVjbGFyYXRpb24gLSBkbyBub3QgbW9kaWZ5Ly9HRU4tQkVHSU46dmFyaWFibGVzXG4gICAzMDNcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgMzA0XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoZWNrO1xuICAgMzA1XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkV4aXQ7XG4gICAzMDZcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgMzA3XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMjtcbiAgIDMwOFx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMTtcbiAgIDMwOVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgMzEwXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgbGJOZXdQYXNzd29yZDtcbiAgIDMxMVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0Q29uZmlybVBhc3N3b3JkO1xuICAgMzEyXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgIDMxM1x0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlRleHRGaWVsZCB0eHRQaG9uZTtcbiAgIDMxNFx0ICAgIC8vIEVuZCBvZiB2YXJpYWJsZXMgZGVjbGFyYXRpb24vL0dFTi1FTkQ6dmFyaWFibGVzXG4gICAzMTVcdH1cbiAgIDMxNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMTZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJmOGM4OTMyLWNiNWQtNGNiYi1iNzliLTM5ZTk0YWFmODE2Mjt0b29sdV8wMVZkZzliSDdxd0ZQa3R1WmZ0YjQxRDEiOnsicmVxdWVzdElkIjoiYmY4Yzg5MzItY2I1ZC00Y2JiLWI3OWItMzllOTRhYWY4MTYyIiwidG9vbFVzZUlkIjoidG9vbHVfMDFWZGc5Ykg3cXdGUGt0dVpmdGI0MUQxIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJTVUJTQ1JJQkVSXCIsIFwic3Vic2NyaWJlcl9pZFwiKTtcblxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuXG4gICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQsIGlzQWN0aXZlKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0Qm9vbGVhbig2LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgc3Vic2NyaWJlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBkZWxldGUoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlQaG9uZShTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgU3Vic2NyaWJlciBzdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IERiT3BlcmF0aW9ucy5nZXREYXRhKFwiU0VMRUNUIHMuKiwgdS4qIEZST00gU1VCU0NSSUJFUiBzIEpPSU4gVVNFUiB1IE9OIHMudXNlcl9pZCA9IHUudXNlcl9pZCBXSEVSRSBzLnBob25lID0gJ1wiICsgcGhvbmUgKyBcIidcIik7XG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRTdWJzY3JpYmVyX2lkKHJzLmdldEludChcInN1YnNjcmliZXJfaWRcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0RnVsbE5hbWUocnMuZ2V0U3RyaW5nKFwibmFtZVwiKSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRBZGRyZXNzKHJzLmdldFN0cmluZyhcImFkZHJlc3NcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0UGhvbmUocnMuZ2V0U3RyaW5nKFwicGhvbmVcIikpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuc2V0VXNlcl9pZChycy5nZXRJbnQoXCJ1c2VyX2lkXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFVzZXJuYW1lKHJzLmdldFN0cmluZyhcInVzZXJuYW1lXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFBhc3N3b3JkKHJzLmdldFN0cmluZyhcInBhc3N3b3JkXCIpKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnNldFJvbGUocnMuZ2V0U3RyaW5nKFwicm9sZVwiKSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5zZXRJc0FjdGl2ZShycy5nZXRCb29sZWFuKFwiaXNBY3RpdmVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiB1cGRhdGVQYXNzd29yZChpbnQgdXNlcklkLCBTdHJpbmcgbmV3UGFzc3dvcmQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiVVBEQVRFIFVTRVIgU0VUIHBhc3N3b3JkID0gJ1wiICsgbmV3UGFzc3dvcmQgKyBcIicgV0hFUkUgdXNlcl9pZCA9IFwiICsgdXNlcklkO1xuICAgICAgICAgICAgRGJPcGVyYXRpb25zLnNldERhdGFPckRlbGV0ZShxdWVyeSwgXCJD4bqtcCBuaOG6rXQgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyFcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuaW1wb3J0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uTG9naW47XG4uLi5cblxuICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlUGhvbmUoKXtcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgICAgICBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGlmKHZhbGlkYXRlUGhvbmUoKSkge1xuICAgICAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgY3VycmVudFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyREFPLmdldEJ5UGhvbmUocGhvbmUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG5cbiAgICAgICAgICAgICAgICBidG5FeGl0LnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGJOZXdQYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIHR4dFBob25lLnNldEVkaXRhYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBidG5DaGVjay5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJLaMO0bmcgdMOsbSB0aOG6pXkgdMOgaSBraG/huqNuIHbhu5tpIHPhu5EgxJFp4buHbiB0aG/huqFpIG7DoHkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGVja0FjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgPT0gbnVsbCl7XG4gICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aMOgbmggY8O0bmchIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWl8IFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbi4uLlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5pbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFVzZXIgb2JqKSB7XG4gICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgICAgIFxuICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgICAgICBcbiAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIlRow6ptIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmchXCIpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gbG9naW4oZmluYWwgU3RyaW5nIHVzZXJOYW1lLCBmaW5hbCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgVXNlciB1c2VyID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBEYk9wZXJhdGlvbnMuZ2V0RGF0YShcIlNFTEVDVCAqIEZST00gVVNFUiBXSEVSRSB1c2VybmFtZSA9ICdcIiArIHVzZXJOYW1lICsgXCInIGFuZCBwYXNzd29yZCA9ICdcIiArIHBhc3N3b3JkICtcIidcIik7XG4gICAgICAgICAgICB3aGlsZSAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgYm9vbGVhbiBpc0FjdGl2ZSA9IHJzLmdldEJvb2xlYW4oXCJpc0FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgVXNlciBnZXRCeUlkKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG5pbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFNpZ25VcCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG5cbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcbiAgICBwcml2YXRlIFN0cmluZyBERUZBVUxUX1JPTEUgPSBcInVzZXJcIjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBmb3JtIFNpZ25JblxuICAgICAqL1xuICAgIHB1YmxpYyBTaWduVXAoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0TmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRVc2VyTmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgICAgICAgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgICAgICAgICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAgICAgICAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkzhu5dpOiBcIiArIGV4LmdldE1lc3NhZ2UoKSwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuLi4uXG5QYXRoOiBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG5cbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgUmVzdWx0U2V0IGdldERhdGEoU3RyaW5nIHF1ZXJ5KXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgcnMgPSBzdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcnM7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbnQgZ2V0TmV4dElkKFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHtcbiAgICAgICAgaW50IG5leHRJZCA9IDE7XG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFwibWF4X2lkXCIpO1xuICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGUsIFwiRXJyb3JcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dElkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYm9vbGVhbiBleGVjdXRlVHJhbnNhY3Rpb24oU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucywgU3RyaW5nIHN1Y2Nlc3NNc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcblxuICAgICAgICAgICAgZm9yIChTcWxPcGVyYXRpb24gb3BlcmF0aW9uIDogb3BlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KG9wZXJhdGlvbi5nZXRTcWwoKSk7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLnNldFBhcmFtZXRlcnMocHMpO1xuICAgICAgICAgICAgICAgIHBzLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBwcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChzdWNjZXNzTXNnICE9IG51bGwgJiYgIXN1Y2Nlc3NNc2cuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgc3VjY2Vzc01zZywgXCJUaMOgbmggY8O0bmdcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJFcnJvcjogXCIgKyBlLmdldE1lc3NhZ2UoKSwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIGludGVyZmFjZSBTcWxPcGVyYXRpb24ge1xuICAgICAgICBTdHJpbmcgZ2V0U3FsKCk7XG4gICAgICAgIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbjtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9TdWJzY3JpYmVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBVc2VyIHtcbiAgICBwcml2YXRlIGludCBzdWJzY3JpYmVyX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIGZ1bGxOYW1lO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGhvbmU7XG4gICAgXG4gICAgcHVibGljIFN1YnNjcmliZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3Vic2NyaWJlcihpbnQgc3Vic2NyaWJlcl9pZCwgU3RyaW5nIGZ1bGxOYW1lLCBTdHJpbmcgYWRkcmVzcywgU3RyaW5nIHBob25lLCBpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCwgYm9vbGVhbiBpc0FjdGl2ZSkge1xuICAgICAgICBzdXBlcih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZV9hdCwgaXNBY3RpdmUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGludCBnZXRTdWJzY3JpYmVyX2lkKCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJzY3JpYmVyX2lkKGludCBzdWJzY3JpYmVyX2lkKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEZ1bGxOYW1lKFN0cmluZyBmdWxsTmFtZSkge1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQaG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBob25lKFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLio7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVTRVIgPSBcIm1pbnRvcmkwOVwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vTG9naW4uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uVXNlckRBTztcbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuLi4uXG5QYXRoOiBuYnByb2plY3QvcHJpdmF0ZS9wcml2YXRlLnhtbFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48cHJvamVjdC1wcml2YXRlIHhtbG5zPVwiaHR0cDovL3d3dy5uZXRiZWFucy5vcmcvbnMvcHJvamVjdC1wcml2YXRlLzFcIj5cbiAgICA8ZWRpdG9yLWJvb2ttYXJrcyB4bWxucz1cImh0dHA6Ly93d3cubmV0YmVhbnMub3JnL25zL2VkaXRvci1ib29rbWFya3MvMlwiIGxhc3RCb29rbWFya0lkPVwiMFwiLz5cbiAgICA8b3Blbi1maWxlcyB4bWxucz1cImh0dHA6Ly93d3cubmV0YmVhbnMub3JnL25zL3Byb2plY3R1aS1vcGVuLWZpbGVzLzJcIj5cbiAgICAgICAgPGdyb3VwPlxuICAgICAgICAgICAgPGZpbGU+ZmlsZTovRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCUyME1hbmdlbWVudCUyMFN5c3RlbS9zcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMTY2YWQ5ZmQtZmZkYS00ZGU0LWEyNjUtODExZmEwMjgyNzhhO3Rvb2x1XzAxSHQxOURpRkx2OW9VY2dCenFEcHB6VCI6eyJyZXF1ZXN0SWQiOiIxNjZhZDlmZC1mZmRhLTRkZTQtYTI2NS04MTFmYTAyODI3OGEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUh0MTlEaUZMdjlvVWNnQnpxRHBwelQiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjQ2XHQgICAgICAgICAgICB9XG4gICAyNDdcdCAgICAgICAgfVxuICAgMjQ4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI0OVx0XG4gICAyNTBcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjUxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjUyXHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XG4gICAyNTNcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1NFx0XG4gICAyNTVcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI1Nlx0XG4gICAyNTdcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjU4XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNTlcdCAgICAgICAgICAgICAgICBuZXcgTG9naW4oKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgMjYwXHQgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAyNjFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNjJcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjhuqV0IGLhuqFpISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjYzXHQgICAgICAgICAgICB9XG4gICAyNjRcdCAgICAgICAgfVxuICAgMjY1XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAyNjZcdFxuICAgMjY3XHQgICAgLyoqXG4gICAyNjhcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjY5XHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImI0MGI3ODYyLTNhMzUtNGQxMS1iMDIxLWU4MmNlYjA0ODIyMTt0b29sdV8wMTRlbVNBMVJ5dHFleGZqOWZHRTM3TnYiOnsicmVxdWVzdElkIjoiYjQwYjc4NjItM2EzNS00ZDExLWIwMjEtZTgyY2ViMDQ4MjIxIiwidG9vbFVzZUlkIjoidG9vbHVfMDE0ZW1TQTFSeXRxZXhmajlmR0UzN052IiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YVxuLi4uXG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpGcmFtZSB7XG4gICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICBwdWJsaWMgU3RyaW5nIHBob25lUGF0dGVybiA9IFwiXlswLTldKiRcIjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gRm9yZ290UGFzc3dvcmRcbiAgICAgKi9cbiAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG5cbiAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHR4dENvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcblxuICAgICAgICBidG5FeGl0LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBidG5DaGFuZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbi4uLlxuXG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiTmV3UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIHR4dFBob25lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgYnRuQ2hlY2sgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgYnRuQ2hhbmdlID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgYnRuRXhpdCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG5cbiAgICAgICAgc2V0RGVmYXVsdENsb3NlT3BlcmF0aW9uKGphdmF4LnN3aW5nLldpbmRvd0NvbnN0YW50cy5FWElUX09OX0NMT1NFKTtcblxuICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsMS5zZXRGb3JlZ3JvdW5kKGphdmF4LnN3aW5nLlVJTWFuYWdlci5nZXREZWZhdWx0cygpLmdldENvbG9yKFwiQWN0aW9ucy5ZZWxsb3dcIikpO1xuICAgICAgICBqTGFiZWwxLnNldFRleHQoXCLEkOG7lEkgTeG6rFQgS0jhuqhVXCIpO1xuXG4gICAgICAgIGpMYWJlbDIuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwyLnNldFRleHQoXCJT4buRIMSRaeG7h24gdGhv4bqhaTogXCIpO1xuXG4gICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBsYk5ld1Bhc3N3b3JkLnNldFRleHQoXCJN4bqtdCBraOG6qXUgbeG7m2k6XCIpO1xuXG4gICAgICAgIGxiQ29uZmlybVBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VGV4dChcIljDoWMgbmjhuq1uIG3huq10IGto4bqpdTpcIik7XG5cbiAgICAgICAgYnRuQ2hlY2suc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDE0KSk7IC8vIE5PSTE4TlxuICAgICAgICBidG5DaGVjay5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvc2VhcmNoLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuQ2hlY2suc2V0VGV4dChcIktp4buDbSB0cmFcIik7XG4gICAgICAgIGJ0bkNoZWNrLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5DaGVjay5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIGludCByZXN1bHQgPSBKT3B0aW9uUGFuZS5zaG93Q29uZmlybURpYWxvZyhudWxsLCBcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB0aG/DoXQga2jDtG5nP1wiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLllFU19OT19PUFRJT04sIEpPcHRpb25QYW5lLlFVRVNUSU9OX01FU1NBR0UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT0gSk9wdGlvblBhbmUuWUVTX09QVElPTikge1xuICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkNoZWNrQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZVBob25lKCkpIHtcbiAgICAgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgICAgIGN1cnJlbnRTdWJzY3JpYmVyID0gU3Vic2NyaWJlckRBTy5nZXRCeVBob25lKHBob25lKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuXG4gICAgICAgICAgICAgICAgYnRuRXhpdC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGJ0bkNoYW5nZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBsYkNvbmZpcm1QYXNzd29yZC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB0eHRQaG9uZS5zZXRFZGl0YWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xuICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuXG4gICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG5cbiAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbi4uLlxuUGF0aDogc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuZm9ybVxuLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtYXg9XCIzMjc2N1wiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwiYnRuQ2hhbmdlXCIgbWluPVwiLTJcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIHR5cGU9XCIxMDJcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBtaW49XCI2MVwiIHByZWY9XCI2MVwiIG1heD1cIi0yXCIgYXR0cmlidXRlcz1cIjBcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJsYkNvbmZpcm1QYXNzd29yZFwiIG1pbj1cIi0yXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiMThcIiBwcmVmPVwiMThcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29tcG9uZW50IGlkPVwidHh0Q29uZmlybVBhc3N3b3JkXCIgbWluPVwiLTJcIiBwcmVmPVwiMjExXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgPC9Hcm91cD5cbiAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiLTJcIiBwcmVmPVwiNjlcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgIDwvR3JvdXA+XG4gICAgICA8L0dyb3VwPlxuICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICAgIDxEaW1lbnNpb25MYXlvdXQgZGltPVwiMVwiPlxuICAgICAgPEdyb3VwIHR5cGU9XCIxMDNcIiBncm91cEFsaWdubWVudD1cIjBcIiBhdHRyaWJ1dGVzPVwiMFwiPlxuICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAyXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgPEVtcHR5U3BhY2UgbWluPVwiNDBcIiBwcmVmPVwiNDBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuLi4uXG4gICAgICAgICAgICAgIDxHcm91cCB0eXBlPVwiMTAzXCIgZ3JvdXBBbGlnbm1lbnQ9XCIzXCIgYXR0cmlidXRlcz1cIjBcIj5cbiAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5FeGl0XCIgYWxpZ25tZW50PVwiM1wiIG1pbj1cIi0yXCIgcHJlZj1cIjMwXCIgbWF4PVwiLTJcIiBhdHRyaWJ1dGVzPVwiMFwiLz5cbiAgICAgICAgICAgICAgICAgIDxDb21wb25lbnQgaWQ9XCJidG5DaGFuZ2VcIiBhbGlnbm1lbnQ9XCIzXCIgbWluPVwiLTJcIiBwcmVmPVwiMzBcIiBtYXg9XCItMlwiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgICA8RW1wdHlTcGFjZSBwcmVmPVwiNDBcIiBtYXg9XCIzMjc2N1wiIGF0dHJpYnV0ZXM9XCIwXCIvPlxuICAgICAgICAgIDwvR3JvdXA+XG4gICAgICA8L0dyb3VwPlxuICAgIDwvRGltZW5zaW9uTGF5b3V0PlxuICA8L0xheW91dD5cbiAgPFN1YkNvbXBvbmVudHM+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpMYWJlbFwiIG5hbWU9XCJqTGFiZWwxXCI+XG4gICAgICA8UHJvcGVydGllcz5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJmb250XCIgdHlwZT1cImphdmEuYXd0LkZvbnRcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Gb250RWRpdG9yXCI+XG4gICAgICAgICAgPEZvbnQgbmFtZT1cIkFyaWFsXCIgc2l6ZT1cIjM2XCIgc3R5bGU9XCIxXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImZvcmVncm91bmRcIiB0eXBlPVwiamF2YS5hd3QuQ29sb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMuYmVhbmluZm8uZWRpdG9ycy5Db2xvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBibHVlPVwiMFwiIGdyZWVuPVwiYTJcIiBpZD1cIkFjdGlvbnMuWWVsbG93XCIgcGFsZXR0ZT1cIjNcIiByZWQ9XCJlZFwiIHR5cGU9XCJwYWxldHRlXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuLi4uXG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dFBhc3N3b3JkXCI+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkXCIgbmFtZT1cInR4dENvbmZpcm1QYXNzd29yZFwiPlxuICAgIDwvQ29tcG9uZW50PlxuICAgIDxDb21wb25lbnQgY2xhc3M9XCJqYXZheC5zd2luZy5KQnV0dG9uXCIgbmFtZT1cImJ0bkNoYW5nZVwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvcmVzZXQtcGFzc3dvcmQucG5nXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cInRleHRcIiB0eXBlPVwiamF2YS5sYW5nLlN0cmluZ1wiIHZhbHVlPVwiJiN4MTEwOyYjeDFlZDU7aSBtJiN4MWVhZDt0IGtoJiN4MWVhOTt1XCIvPlxuICAgICAgICA8UHJvcGVydHkgbmFtZT1cImN1cnNvclwiIHR5cGU9XCJqYXZhLmF3dC5DdXJzb3JcIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkN1cnNvckVkaXRvclwiPlxuICAgICAgICAgIDxDb2xvciBpZD1cIkhhbmQgQ3Vyc29yXCIvPlxuICAgICAgICA8L1Byb3BlcnR5PlxuICAgICAgPC9Qcm9wZXJ0aWVzPlxuICAgICAgPEV2ZW50cz5cbiAgICAgICAgPEV2ZW50SGFuZGxlciBldmVudD1cImFjdGlvblBlcmZvcm1lZFwiIGxpc3RlbmVyPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXJcIiBwYXJhbWV0ZXJzPVwiamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnRcIiBoYW5kbGVyPVwiYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkXCIvPlxuICAgICAgPC9FdmVudHM+XG4gICAgPC9Db21wb25lbnQ+XG4gICAgPENvbXBvbmVudCBjbGFzcz1cImphdmF4LnN3aW5nLkpCdXR0b25cIiBuYW1lPVwiYnRuRXhpdFwiPlxuICAgICAgPFByb3BlcnRpZXM+XG4gICAgICAgIDxQcm9wZXJ0eSBuYW1lPVwiZm9udFwiIHR5cGU9XCJqYXZhLmF3dC5Gb250XCIgZWRpdG9yPVwib3JnLm5ldGJlYW5zLmJlYW5pbmZvLmVkaXRvcnMuRm9udEVkaXRvclwiPlxuICAgICAgICAgIDxGb250IG5hbWU9XCJBcmlhbFwiIHNpemU9XCIxNFwiIHN0eWxlPVwiMVwiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJpY29uXCIgdHlwZT1cImphdmF4LnN3aW5nLkljb25cIiBlZGl0b3I9XCJvcmcubmV0YmVhbnMubW9kdWxlcy5mb3JtLmVkaXRvcnMyLkljb25FZGl0b3JcIj5cbiAgICAgICAgICA8SW1hZ2UgaWNvblR5cGU9XCIzXCIgbmFtZT1cIi9JbWFnZXMvbG9nb3V0LnBuZ1wiLz5cbiAgICAgICAgPC9Qcm9wZXJ0eT5cbiAgICAgICAgPFByb3BlcnR5IG5hbWU9XCJ0ZXh0XCIgdHlwZT1cImphdmEubGFuZy5TdHJpbmdcIiB2YWx1ZT1cIlRobyYjeGUxO3RcIi8+XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9HVUlGb3Jtcy9KRnJhbWUuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtO1xuXG5pbXBvcnQgREFPLlVzZXJEQU87XG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIExvZ2luIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gTG9naW5cbiAgICAgKi9cbiAgICBwdWJsaWMgTG9naW4oKSB7XG4gICAgICAgIGluaXRDb21wb25lbnRzKCk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG5cbiAgICAgICAgaWYodXNlck5hbWUuaXNFbXB0eSgpIHx8IHBhc3N3b3JkLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICAgKiBXQVJOSU5HOiBEbyBOT1QgbW9kaWZ5IHRoaXMgY29kZS4gVGhlIGNvbnRlbnQgb2YgdGhpcyBtZXRob2QgaXMgYWx3YXlzXG4gICAgICogcmVnZW5lcmF0ZWQgYnkgdGhlIEZvcm0gRWRpdG9yLlxuICAgICAqL1xuICAgIEBTdXBwcmVzc1dhcm5pbmdzKFwidW5jaGVja2VkXCIpXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCJHZW5lcmF0ZWQgQ29kZVwiPi8vR0VOLUJFR0lOOmluaXRDb21wb25lbnRzXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRDb21wb25lbnRzKCkge1xuXG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDMgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIHR4dFVzZXJOYW1lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICAgICAgalNlcGFyYXRvcjEgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuICAgICAgICBqU2VwYXJhdG9yMiA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIGJ0bkxvZ2luID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5TaWdudXAgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBqTGFiZWw1ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBidG5FeGl0ID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcblxuICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkVYSVRfT05fQ0xPU0UpO1xuXG4gICAgICAgIGpMYWJlbDEuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDEsIDM2KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLkJsdWVcIikpO1xuICAgICAgICBqTGFiZWwxLnNldFRleHQoXCLEkMSCTkcgTkjhuqxQXCIpO1xuXG4gICAgICAgIGpMYWJlbDIuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDIsIDE4KSk7IC8vIE5PSTE4TlxuICAgICAgICBqTGFiZWwyLnNldFRleHQoXCJDaMOgbyBt4burbmcgYuG6oW4gcXVheSBs4bqhaSFcIik7XG5cbiAgICAgICAgakxhYmVsMy5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDMuc2V0VGV4dChcIlTDqm4gxJHEg25nIG5o4bqtcDpcIik7XG5cbiAgICAgICAgakxhYmVsNC5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTQpKTsgLy8gTk9JMThOXG4gICAgICAgIGpMYWJlbDQuc2V0VGV4dChcIk3huq10IGto4bqpdTpcIik7XG5cbiAgICAgICAgdHh0VXNlck5hbWUuc2V0Rm9udChuZXcgamF2YS5hd3QuRm9udChcIkFyaWFsXCIsIDAsIDE0KSk7IC8vIE5PSTE4TlxuXG4gICAgICAgIHR4dFBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAwLCAxNCkpOyAvLyBOT0kxOE5cblxuICAgICAgICBidG5Mb2dpbi5zZXRGb250KG5ldyBqYXZhLmF3dC5Gb250KFwiQXJpYWxcIiwgMSwgMTYpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkxvZ2luLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9lbnRlci5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0bkxvZ2luLnNldFRleHQoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICBidG5Mb2dpbi5zZXRDdXJzb3IobmV3IGphdmEuYXd0LkN1cnNvcihqYXZhLmF3dC5DdXJzb3IuSEFORF9DVVJTT1IpKTtcbiAgICAgICAgYnRuTG9naW4uc2V0SG9yaXpvbnRhbEFsaWdubWVudChqYXZheC5zd2luZy5Td2luZ0NvbnN0YW50cy5MRUZUKTtcbiAgICAgICAgYnRuTG9naW4uYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGV2dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0SWNvbihuZXcgamF2YXguc3dpbmcuSW1hZ2VJY29uKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvSW1hZ2VzL3Jlc2V0LXBhc3N3b3JkLnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRm9yZ290UGFzc3dvcmQuc2V0VGV4dChcIlF1w6puIG3huq10IGto4bqpdT9cIik7XG4gICAgICAgIGJ0bkZvcmdvdFBhc3N3b3JkLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5zZXRIb3Jpem9udGFsQWxpZ25tZW50KGphdmF4LnN3aW5nLlN3aW5nQ29uc3RhbnRzLkxFRlQpO1xuICAgICAgICBidG5Gb3Jnb3RQYXNzd29yZC5hZGRBY3Rpb25MaXN0ZW5lcihuZXcgamF2YS5hd3QuZXZlbnQuQWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBhY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7XG4gICAgICAgICAgICAgICAgYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnRuU2lnbnVwLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNikpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuU2lnbnVwLnNldEljb24obmV3IGphdmF4LnN3aW5nLkltYWdlSWNvbihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL0ltYWdlcy9hZGQtdXNlci5wbmdcIikpKTsgLy8gTk9JMThOXG4gICAgICAgIGJ0blNpZ251cC5zZXRUZXh0KFwixJDEg25nIGvDvVwiKTtcbiAgICAgICAgYnRuU2lnbnVwLnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5TaWdudXAuc2V0SG9yaXpvbnRhbEFsaWdubWVudChqYXZheC5zd2luZy5Td2luZ0NvbnN0YW50cy5MRUZUKTtcbiAgICAgICAgYnRuU2lnbnVwLmFkZEFjdGlvbkxpc3RlbmVyKG5ldyBqYXZhLmF3dC5ldmVudC5BY3Rpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHtcbiAgICAgICAgICAgICAgICBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgakxhYmVsNS5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvYmcyLmpwZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgakxhYmVsNS5zZXRUZXh0KFwiakxhYmVsNVwiKTtcblxuICAgICAgICBidG5FeGl0LnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAxNCkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRXhpdC5zZXRJY29uKG5ldyBqYXZheC5zd2luZy5JbWFnZUljb24oZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9JbWFnZXMvbG9nb3V0LnBuZ1wiKSkpOyAvLyBOT0kxOE5cbiAgICAgICAgYnRuRXhpdC5zZXRUZXh0KFwiVGhvw6F0XCIpO1xuICAgICAgICBidG5FeGl0LnNldEN1cnNvcihuZXcgamF2YS5hd3QuQ3Vyc29yKGphdmEuYXd0LkN1cnNvci5IQU5EX0NVUlNPUikpO1xuICAgICAgICBidG5FeGl0LnNldEhvcml6b250YWxBbGlnbm1lbnQoamF2YXguc3dpbmcuU3dpbmdDb25zdGFudHMuTEVGVCk7XG4gICAgICAgIGJ0bkV4aXQuYWRkQWN0aW9uTGlzdGVuZXIobmV3IGphdmEuYXd0LmV2ZW50LkFjdGlvbkxpc3RlbmVyKCkge1xuICAgICAgICAgICAgcHVibGljIHZvaWQgYWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkge1xuICAgICAgICAgICAgICAgIGJ0bkV4aXRBY3Rpb25QZXJmb3JtZWQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHYXAoNzAsIDcwLCA3MClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAyMzAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChqU2VwYXJhdG9yMiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM2OCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlUGFyYWxsZWxHcm91cChqYXZheC5zd2luZy5Hcm91cExheW91dC5BbGlnbm1lbnQuVFJBSUxJTkcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoYnRuRXhpdCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIFNob3J0Lk1BWF9WQUxVRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0blNpZ251cCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuREVGQVVMVF9TSVpFLCAxMjgsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDc2LCA3NiwgNzYpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Mb2dpbiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDE2NCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Gb3Jnb3RQYXNzd29yZCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LlRSQUlMSU5HKSkpKVxuICAgICAgICAgICAgICAgIC5hZGRHYXAoNjAsIDYwLCA2MClcbiAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCA1MDUsIFNob3J0Lk1BWF9WQUxVRSkpXG4gICAgICAgICk7XG4uLi5cbiAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkZvcmdvdFBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpKSlcbiAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDYzMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAgICAgICk7XG5cbiAgICAgICAgcGFjaygpO1xuICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkxvZ2luQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkxvZ2luQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gVXNlckRBTy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIsSQxINuZyBuaOG6rXAgdGjDoG5oIGPDtG5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuLy8gICAgICAgICAgICAgICAgICAgIG5ldyBNYWluRnJhbWUoKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyh0aGlzLCBcIlNhaSB0w6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdS5cIiwgXCJM4buXaVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5Mb2dpbkFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkZvcmdvdFBhc3N3b3JkQWN0aW9uUGVyZm9ybWVkXG5cbiAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgICBcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfVxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgbmV3IFNpZ25VcCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmdzW10pIHtcbiAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgICAgICAvLzxlZGl0b3ItZm9sZCBkZWZhdWx0c3RhdGU9XCJjb2xsYXBzZWRcIiBkZXNjPVwiIExvb2sgYW5kIGZlZWwgc2V0dGluZyBjb2RlIChvcHRpb25hbCkgXCI+XG4gICAgICAgIC8qIElmIE5pbWJ1cyAoaW50cm9kdWNlZCBpbiBKYXZhIFNFIDYpIGlzIG5vdCBhdmFpbGFibGUsIHN0YXkgd2l0aCB0aGUgZGVmYXVsdCBsb29rIGFuZCBmZWVsLlxuICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sIFxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoamF2YXguc3dpbmcuVUlNYW5hZ2VyLkxvb2tBbmRGZWVsSW5mbyBpbmZvIDogamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldEluc3RhbGxlZExvb2tBbmRGZWVscygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiTmltYnVzXCIuZXF1YWxzKGluZm8uZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbi4uLlxuXG4gICAgLy8gVmFyaWFibGVzIGRlY2xhcmF0aW9uIC0gZG8gbm90IG1vZGlmeS8vR0VOLUJFR0lOOnZhcmlhYmxlc1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5FeGl0O1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5Gb3Jnb3RQYXNzd29yZDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuTG9naW47XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0blNpZ251cDtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDI7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMztcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWw0O1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGpMYWJlbDU7XG4gICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KU2VwYXJhdG9yIGpTZXBhcmF0b3IxO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMjtcbiAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkIHR4dFBhc3N3b3JkO1xuICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlRleHRGaWVsZCB0eHRVc2VyTmFtZTtcbiAgICAvLyBFbmQgb2YgdmFyaWFibGVzIGRlY2xhcmF0aW9uLy9HRU4tRU5EOnZhcmlhYmxlc1xufVxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1OTFjNmQ5Zi1jNmY4LTQ0YWQtYWUyNC03ZmUzZmY3YjdmZDI7dG9vbHVfMDFKQTVuU3RFdHFhVXluRllnWVVqSzQyIjp7InJlcXVlc3RJZCI6IjU5MWM2ZDlmLWM2ZjgtNDRhZC1hZTI0LTdmZTNmZjdiN2ZkMiIsInRvb2xVc2VJZCI6InRvb2x1XzAxSkE1blN0RXRxYVV5bkZZZ1lVaks0MiIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdC8qXG4gICAgIDJcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgREFPLlN1YnNjcmliZXJEQU87XG4gICAgIDhcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA5XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTBcdGltcG9ydCBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLkxvZ2luO1xuICAgIDExXHRpbXBvcnQgamF2YS5hd3QuRnJhbWU7XG4gICAgMTJcdFxuICAgIDEzXHQvKipcbiAgICAxNFx0ICpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNlx0ICovXG4gICAgMTdcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpEaWFsb2cge1xuICAgIDE4XHQgICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAxOVx0ICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIDIwXHRcbiAgICAyMVx0ICAgIC8qKlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxYmRhODNkMy1kZWI2LTQ5NWQtYTEwMy0yNGJiNzM3OGQ3MjI7dG9vbHVfMDFKNEgydlVxUEpWZGtpdzZONkdEeXpDIjp7InJlcXVlc3RJZCI6IjFiZGE4M2QzLWRlYjYtNDk1ZC1hMTAzLTI0YmI3Mzc4ZDcyMiIsInRvb2xVc2VJZCI6InRvb2x1XzAxSjRIMnZVcVBKVmRraXc2TjZHRHl6QyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTdcdHB1YmxpYyBjbGFzcyBGb3Jnb3RQYXNzd29yZCBleHRlbmRzIGphdmF4LnN3aW5nLkpEaWFsb2cge1xuICAgIDE4XHQgICAgcHJpdmF0ZSBTdWJzY3JpYmVyIGN1cnJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAxOVx0ICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIDIwXHRcbiAgICAyMVx0ICAgIC8qKlxuICAgIDIyXHQgICAgICogQ3JlYXRlcyBuZXcgZm9ybSBGb3Jnb3RQYXNzd29yZFxuICAgIDIzXHQgICAgICovXG4gICAgMjRcdCAgICBwdWJsaWMgRm9yZ290UGFzc3dvcmQoRnJhbWUgcGFyZW50LCBib29sZWFuIG1vZGFsKSB7XG4gICAgMjVcdCAgICAgICAgc3VwZXIocGFyZW50LCBtb2RhbCk7XG4gICAgMjZcdCAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICAgICAgLy8gU2V0IGRpYWxvZyBwcm9wZXJ0aWVzXG4gICAgMjlcdCAgICAgICAgc2V0VGl0bGUoXCJRdcOqbiBt4bqtdCBraOG6qXVcIik7XG4gICAgMzBcdCAgICAgICAgc2V0TG9jYXRpb25SZWxhdGl2ZVRvKHBhcmVudCk7XG4gICAgMzFcdFxuICAgIDMyXHQgICAgICAgIGJ0bkV4aXQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgMzNcdCAgICAgICAgYnRuQ2hhbmdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDM0XHQgICAgICAgIGxiTmV3UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgMzVcdCAgICAgICAgbGJDb25maXJtUGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgMzZcdCAgICAgICAgdHh0UGFzc3dvcmQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgMzdcdCAgICAgICAgdHh0Q29uZmlybVBhc3N3b3JkLnNldFZpc2libGUoZmFsc2UpO1xuICAgIDM4XHQgICAgfVxuICAgIDM5XHRcbiAgICA0MFx0ICAgIHB1YmxpYyB2b2lkIGNsZWFyKCl7XG4gICAgNDFcdCAgICAgICAgdHh0UGFzc3dvcmQuc2V0VGV4dChcIlwiKTtcbiAgICA0Mlx0ICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhMjQyOTE4Ni03ZDFjLTQwZDEtYTlmNS1lNzgyN2I4OTZjNWM7dG9vbHVfMDFBaXFGam13bVNlU29ISm1xTXpFZVZvIjp7InJlcXVlc3RJZCI6ImEyNDI5MTg2LTdkMWMtNDBkMS1hOWY1LWU3ODI3Yjg5NmM1YyIsInRvb2xVc2VJZCI6InRvb2x1XzAxQWlxRmptd21TZVNvSEptcU16RWVWbyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyMThcdFxuICAgMjE5XHQgICAgICAgIHBhY2soKTtcbiAgIDIyMFx0ICAgIH0vLyA8L2VkaXRvci1mb2xkPi8vR0VOLUVORDppbml0Q29tcG9uZW50c1xuICAgMjIxXHRcbiAgIDIyMlx0ICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyM1x0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIyNFx0ICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2codGhpcywgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcbiAgIDIyNVx0XG4gICAyMjZcdCAgICAgICAgaWYgKHJlc3VsdCA9PSBKT3B0aW9uUGFuZS5ZRVNfT1BUSU9OKSB7XG4gICAyMjdcdCAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjI4XHQgICAgICAgIH1cbiAgIDIyOVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIzMFx0XG4gICAyMzFcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDIzMlx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIzM1x0ICAgICAgICBpZih2YWxpZGF0ZVBob25lKCkpIHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOTg4MjEwMTQtMjYwMy00ODI0LWFlNDMtOTczYTBiYmI1YjMxO3Rvb2x1XzAxQ2h5VGliNUFNTkQzcFlaNHdnaG5ZTSI6eyJyZXF1ZXN0SWQiOiI5ODgyMTAxNC0yNjAzLTQ4MjQtYWU0My05NzNhMGJiYjViMzEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUNoeVRpYjVBTU5EM3BZWjR3Z2huWU0iLCJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcbk5vIHJlcGxhY2VtZW50IHdhcyBwZXJmb3JtZWQsIG9sZFN0ciBkaWQgbm90IGFwcGVhciB2ZXJiYXRpbSBpbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuVGhlIGNvbnRlbnQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG4gICAyNDZcdFxuICAgMjQ3XHQgICAgICAgICAgICAgICAgdHh0UGhvbmUuc2V0RWRpdGFibGUoZmFsc2UpO1xuICAgMjQ4XHQgICAgICAgICAgICAgICAgYnRuQ2hlY2suc2V0RW5hYmxlZChmYWxzZSk7XG4gICAyNDlcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAyNTBcdCAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIktow7RuZyB0w6xtIHRo4bqleSB0w6BpIGtob+G6o24gduG7m2kgc+G7kSDEkWnhu4duIHRob+G6oWkgbsOgeSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI1MVx0ICAgICAgICAgICAgfVxuICAgMjUyXHQgICAgICAgIH1cbiAgIDI1M1x0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoZWNrQWN0aW9uUGVyZm9ybWVkXG4gICAyNTRcdFxuICAgMjU1XHQgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI1Nlx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI1N1x0ICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpICYmIGN1cnJlbnRTdWJzY3JpYmVyICE9IG51bGwpe1xuICAgMjU4XHQgICAgICAgICAgICBTdHJpbmcgbmV3UGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAyNTlcdFxuICAgMjYwXHQgICAgICAgICAgICBib29sZWFuIGlzU3VjY2VzcyA9IFN1YnNjcmliZXJEQU8udXBkYXRlUGFzc3dvcmQoY3VycmVudFN1YnNjcmliZXIuZ2V0VXNlcl9pZCgpLCBuZXdQYXNzd29yZCk7XG4gICAyNjFcdFxuICAgMjYyXHQgICAgICAgICAgICBpZihpc1N1Y2Nlc3MpIHtcbiAgIDI2M1x0ICAgICAgICAgICAgICAgIG5ldyBMb2dpbigpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyNjRcdCAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgIDI2NVx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI2Nlx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNjdcdCAgICAgICAgICAgIH1cbiAgIDI2OFx0ICAgICAgICB9XG4gICAyNjlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsMyArMSw4IEBAXG4rICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuKyAgICAgICAgICAgIH1cbisgICAgICAgIH1cbisgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbitcbiAgICAgcHJpdmF0ZSB2b2lkIGJ0bkNoYW5nZUFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICAgaWYodmFsaWRhdGVGaWVsZHMoKSAmJiBjdXJyZW50U3Vic2NyaWJlciAhPSBudWxsKXtcbkBAIC02LDExICsxMSw2IEBAXG4gICAgICAgICAgICAgYm9vbGVhbiBpc1N1Y2Nlc3MgPSBTdWJzY3JpYmVyREFPLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRTdWJzY3JpYmVyLmdldFVzZXJfaWQoKSwgbmV3UGFzc3dvcmQpO1xuIFxuICAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuLSAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIsSQ4buVaSBt4bqtdCBraOG6qXUgdGjDoG5oIGPDtG5nISBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbi0gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRo4bqldCBi4bqhaSEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbi0gICAgICAgICAgICB9XG4tICAgICAgICB9XG4tICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2UgZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCIwNWMxZWNmZS0yYmZiLTQ0YWYtOGQ5NC00MzAyNzdiOTAwZDQ7dG9vbHVfMDFObk5Cckp2NGt0V1Ruem1yYWFyZVJIIjp7InJlcXVlc3RJZCI6IjA1YzFlY2ZlLTJiZmItNDRhZi04ZDk0LTQzMDI3N2I5MDBkNCIsInRvb2xVc2VJZCI6InRvb2x1XzAxTm5OQnJKdjRrdFdUbnptcmFhcmVSSCIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vRm9yZ290UGFzc3dvcmQuamF2YTpcbiAgIDI1MFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHTDoGkga2hv4bqjbiB24bubaSBz4buRIMSRaeG7h24gdGhv4bqhaSBuw6B5IVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjUxXHQgICAgICAgICAgICB9XG4gICAyNTJcdCAgICAgICAgfVxuICAgMjUzXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI1NFx0XG4gICAyNTVcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjU2XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjU3XHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XG4gICAyNThcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1OVx0XG4gICAyNjBcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI2MVx0XG4gICAyNjJcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjYzXHQgICAgICAgICAgICAgICAgbmV3IExvZ2luKCkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgIDI2NFx0ICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgMjY1XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMjY2XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRo4bqldCBi4bqhaSEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdSFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgIDI2N1x0ICAgICAgICAgICAgfVxuICAgMjY4XHQgICAgICAgIH1cbiAgIDI2OVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjcwXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMyMFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMTUwYWI5ZWMtZGNhOC00ZjdkLWI2MDMtNjY3OGE4NDQ2YTViO3Rvb2x1XzAxVVViRXVSNENTZmR0TU5SMTh3cEVCcyI6eyJyZXF1ZXN0SWQiOiIxNTBhYjllYy1kY2E4LTRmN2QtYjYwMy02Njc4YTg0NDZhNWIiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVVVYkV1UjRDU2ZkdE1OUjE4d3BFQnMiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjUxXHQgICAgICAgICAgICB9XG4gICAyNTJcdCAgICAgICAgfVxuICAgMjUzXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuQ2hlY2tBY3Rpb25QZXJmb3JtZWRcbiAgIDI1NFx0XG4gICAyNTVcdCAgICBwcml2YXRlIHZvaWQgYnRuQ2hhbmdlQWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjU2XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjU3XHQgICAgICAgIGlmKHZhbGlkYXRlRmllbGRzKCkgJiYgY3VycmVudFN1YnNjcmliZXIgIT0gbnVsbCl7XG4gICAyNThcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgIDI1OVx0XG4gICAyNjBcdCAgICAgICAgICAgIGJvb2xlYW4gaXNTdWNjZXNzID0gU3Vic2NyaWJlckRBTy51cGRhdGVQYXNzd29yZChjdXJyZW50U3Vic2NyaWJlci5nZXRVc2VyX2lkKCksIG5ld1Bhc3N3b3JkKTtcbiAgIDI2MVx0XG4gICAyNjJcdCAgICAgICAgICAgIGlmKGlzU3VjY2Vzcykge1xuICAgMjYzXHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2codGhpcywgXCLEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZyEgVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAyNjRcdCAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgIDI2NVx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDI2Nlx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKHRoaXMsIFwixJDhu5VpIG3huq10IGto4bqpdSB0aOG6pXQgYuG6oWkhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyNjdcdCAgICAgICAgICAgIH1cbiAgIDI2OFx0ICAgICAgICB9XG4gICAyNjlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5DaGFuZ2VBY3Rpb25QZXJmb3JtZWRcbiAgIDI3MFx0XG4gICAyNzFcdCAgICAvKipcbiAgIDI3Mlx0ICAgICAqIEBwYXJhbSBhcmdzIHRoZSBjb21tYW5kIGxpbmUgYXJndW1lbnRzXG4gICAyNzNcdCAgICAgKi9cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiM2FhNzZjMGYtNjUwYi00YzI0LThlMzMtM2RkNWI4NGEzMGUxO3Rvb2x1XzAxS1lObkNVQWNramNCVWlmRVZieThreiI6eyJyZXF1ZXN0SWQiOiIzYWE3NmMwZi02NTBiLTRjMjQtOGUzMy0zZGQ1Yjg0YTMwZTEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUtZTm5DVUFja2pjQlVpZkVWYnk4a3oiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAyNzBcdFxuICAgMjcxXHQgICAgLyoqXG4gICAyNzJcdCAgICAgKiBAcGFyYW0gYXJncyB0aGUgY29tbWFuZCBsaW5lIGFyZ3VtZW50c1xuICAgMjczXHQgICAgICovXG4gICAyNzRcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJnc1tdKSB7XG4gICAyNzVcdCAgICAgICAgLyogU2V0IHRoZSBOaW1idXMgbG9vayBhbmQgZmVlbCAqL1xuICAgMjc2XHQgICAgICAgIC8vPGVkaXRvci1mb2xkIGRlZmF1bHRzdGF0ZT1cImNvbGxhcHNlZFwiIGRlc2M9XCIgTG9vayBhbmQgZmVlbCBzZXR0aW5nIGNvZGUgKG9wdGlvbmFsKSBcIj5cbiAgIDI3N1x0ICAgICAgICAvKiBJZiBOaW1idXMgKGludHJvZHVjZWQgaW4gSmF2YSBTRSA2KSBpcyBub3QgYXZhaWxhYmxlLCBzdGF5IHdpdGggdGhlIGRlZmF1bHQgbG9vayBhbmQgZmVlbC5cbiAgIDI3OFx0ICAgICAgICAgKiBGb3IgZGV0YWlscyBzZWUgaHR0cDovL2Rvd25sb2FkLm9yYWNsZS5jb20vamF2YXNlL3R1dG9yaWFsL3Vpc3dpbmcvbG9va2FuZGZlZWwvcGxhZi5odG1sXG4gICAyNzlcdCAgICAgICAgICovXG4gICAyODBcdCAgICAgICAgdHJ5IHtcbiAgIDI4MVx0ICAgICAgICAgICAgZm9yIChqYXZheC5zd2luZy5VSU1hbmFnZXIuTG9va0FuZEZlZWxJbmZvIGluZm8gOiBqYXZheC5zd2luZy5VSU1hbmFnZXIuZ2V0SW5zdGFsbGVkTG9va0FuZEZlZWxzKCkpIHtcbiAgIDI4Mlx0ICAgICAgICAgICAgICAgIGlmIChcIk5pbWJ1c1wiLmVxdWFscyhpbmZvLmdldE5hbWUoKSkpIHtcbiAgIDI4M1x0ICAgICAgICAgICAgICAgICAgICBqYXZheC5zd2luZy5VSU1hbmFnZXIuc2V0TG9va0FuZEZlZWwoaW5mby5nZXRDbGFzc05hbWUoKSk7XG4gICAyODRcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAyODVcdCAgICAgICAgICAgICAgICB9XG4gICAyODZcdCAgICAgICAgICAgIH1cbiAgIDI4N1x0ICAgICAgICB9IGNhdGNoIChDbGFzc05vdEZvdW5kRXhjZXB0aW9uIGV4KSB7XG4gICAyODhcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyODlcdCAgICAgICAgfSBjYXRjaCAoSW5zdGFudGlhdGlvbkV4Y2VwdGlvbiBleCkge1xuICAgMjkwXHQgICAgICAgICAgICBqYXZhLnV0aWwubG9nZ2luZy5Mb2dnZXIuZ2V0TG9nZ2VyKEZvcmdvdFBhc3N3b3JkLmNsYXNzLmdldE5hbWUoKSkubG9nKGphdmEudXRpbC5sb2dnaW5nLkxldmVsLlNFVkVSRSwgbnVsbCwgZXgpO1xuICAgMjkxXHQgICAgICAgIH0gY2F0Y2ggKElsbGVnYWxBY2Nlc3NFeGNlcHRpb24gZXgpIHtcbiAgIDI5Mlx0ICAgICAgICAgICAgamF2YS51dGlsLmxvZ2dpbmcuTG9nZ2VyLmdldExvZ2dlcihGb3Jnb3RQYXNzd29yZC5jbGFzcy5nZXROYW1lKCkpLmxvZyhqYXZhLnV0aWwubG9nZ2luZy5MZXZlbC5TRVZFUkUsIG51bGwsIGV4KTtcbiAgIDI5M1x0ICAgICAgICB9IGNhdGNoIChqYXZheC5zd2luZy5VbnN1cHBvcnRlZExvb2tBbmRGZWVsRXhjZXB0aW9uIGV4KSB7XG4gICAyOTRcdCAgICAgICAgICAgIGphdmEudXRpbC5sb2dnaW5nLkxvZ2dlci5nZXRMb2dnZXIoRm9yZ290UGFzc3dvcmQuY2xhc3MuZ2V0TmFtZSgpKS5sb2coamF2YS51dGlsLmxvZ2dpbmcuTGV2ZWwuU0VWRVJFLCBudWxsLCBleCk7XG4gICAyOTVcdCAgICAgICAgfVxuICAgMjk2XHQgICAgICAgIC8vPC9lZGl0b3ItZm9sZD5cbiAgIDI5N1x0XG4gICAyOThcdCAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAyOTlcdCAgICAgICAgamF2YS5hd3QuRXZlbnRRdWV1ZS5pbnZva2VMYXRlcihuZXcgUnVubmFibGUoKSB7XG4gICAzMDBcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMyMFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjMyMzg1M2QtZDUyMy00Mjg5LWIxM2EtZjMwYWJlZTQ0YjgwO3Rvb2x1XzAxOGpHY3pZUVNHZ2RlcG5nNUY5SENuciI6eyJyZXF1ZXN0SWQiOiIyMzIzODUzZC1kNTIzLTQyODktYjEzYS1mMzBhYmVlNDRiODAiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMThqR2N6WVFTR2dkZXBuZzVGOUhDbnIiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAyOTVcdCAgICAgICAgfVxuICAgMjk2XHQgICAgICAgIC8vPC9lZGl0b3ItZm9sZD5cbiAgIDI5N1x0XG4gICAyOThcdCAgICAgICAgLyogQ3JlYXRlIGFuZCBkaXNwbGF5IHRoZSBmb3JtICovXG4gICAyOTlcdCAgICAgICAgamF2YS5hd3QuRXZlbnRRdWV1ZS5pbnZva2VMYXRlcihuZXcgUnVubmFibGUoKSB7XG4gICAzMDBcdCAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiAgIDMwMVx0ICAgICAgICAgICAgICAgIG5ldyBGb3Jnb3RQYXNzd29yZCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAzMDJcdCAgICAgICAgICAgIH1cbiAgIDMwM1x0ICAgICAgICB9KTtcbiAgIDMwNFx0ICAgIH1cbiAgIDMwNVx0XG4gICAzMDZcdCAgICAvLyBWYXJpYWJsZXMgZGVjbGFyYXRpb24gLSBkbyBub3QgbW9kaWZ5Ly9HRU4tQkVHSU46dmFyaWFibGVzXG4gICAzMDdcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpCdXR0b24gYnRuQ2hhbmdlO1xuICAgMzA4XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoZWNrO1xuICAgMzA5XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkV4aXQ7XG4gICAzMTBcdCAgICBwcml2YXRlIGphdmF4LnN3aW5nLkpMYWJlbCBqTGFiZWwxO1xuICAgMzExXHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgakxhYmVsMjtcbiAgIDMxMlx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlNlcGFyYXRvciBqU2VwYXJhdG9yMTtcbiAgIDMxM1x0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkxhYmVsIGxiQ29uZmlybVBhc3N3b3JkO1xuICAgMzE0XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KTGFiZWwgbGJOZXdQYXNzd29yZDtcbiAgIDMxNVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQgdHh0Q29uZmlybVBhc3N3b3JkO1xuICAgMzE2XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcbiAgIDMxN1x0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSlRleHRGaWVsZCB0eHRQaG9uZTtcbiAgIDMxOFx0ICAgIC8vIEVuZCBvZiB2YXJpYWJsZXMgZGVjbGFyYXRpb24vL0dFTi1FTkQ6dmFyaWFibGVzXG4gICAzMTlcdH1cbiAgIDMyMFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMjBcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImE5M2MxNGUzLTU3YzItNDZmNS1iODI5LWM0MzllMjk4ZTNmODt0b29sdV8wMTVkbXhxaXQxVnJvN3dxbkNXVThZRkYiOnsicmVxdWVzdElkIjoiYTkzYzE0ZTMtNTdjMi00NmY1LWI4MjktYzQzOWUyOThlM2Y4IiwidG9vbFVzZUlkIjoidG9vbHVfMDE1ZG14cWl0MVZybzd3cW5DV1U4WUZGIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI2N1x0ICAgICAgICAgICAgfVxuICAgMjY4XHQgICAgICAgIH1cbiAgIDI2OVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0bkNoYW5nZUFjdGlvblBlcmZvcm1lZFxuICAgMjcwXHRcbiAgIDI3MVx0XG4gICAyNzJcdFxuICAgMjczXHQgICAgLy8gVmFyaWFibGVzIGRlY2xhcmF0aW9uIC0gZG8gbm90IG1vZGlmeS8vR0VOLUJFR0lOOnZhcmlhYmxlc1xuICAgMjc0XHQgICAgcHJpdmF0ZSBqYXZheC5zd2luZy5KQnV0dG9uIGJ0bkNoYW5nZTtcbiAgIDI3NVx0ICAgIHByaXZhdGUgamF2YXguc3dpbmcuSkJ1dHRvbiBidG5DaGVjaztcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZWJmNjhiYTUtMTA2Mi00ZTViLWI4YjYtMDg1MWNhY2M3ODIxO3Rvb2x1XzAxMjFNVmFuNnlLZDhQY3BTR3RhRXRUNiI6eyJyZXF1ZXN0SWQiOiJlYmY2OGJhNS0xMDYyLTRlNWItYjhiNi0wODUxY2FjYzc4MjEiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTIxTVZhbjZ5S2Q4UGNwU0d0YUV0VDYiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0ZvcmdvdFBhc3N3b3JkLmphdmE6XG4gICAgOTBcdCAgICAgICAgbGJOZXdQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA5MVx0ICAgICAgICBsYkNvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KTGFiZWwoKTtcbiAgICA5Mlx0ICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgOTNcdCAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgIDk0XHQgICAgICAgIGJ0bkNoZWNrID0gbmV3IGphdmF4LnN3aW5nLkpCdXR0b24oKTtcbiAgICA5NVx0ICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgIDk2XHQgICAgICAgIHR4dENvbmZpcm1QYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgIDk3XHQgICAgICAgIGJ0bkNoYW5nZSA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgOThcdCAgICAgICAgYnRuRXhpdCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgOTlcdFxuICAgMTAwXHQgICAgICAgIHNldERlZmF1bHRDbG9zZU9wZXJhdGlvbihqYXZheC5zd2luZy5XaW5kb3dDb25zdGFudHMuRVhJVF9PTl9DTE9TRSk7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyODdcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjBhOTI4MTc2LWM1ZWItNDgyMS05MzlkLTNmNTAwYTRmN2Q3NTt0b29sdV8wMUhibW9kNkVISnZURTJUdjJDWTZCTlAiOnsicmVxdWVzdElkIjoiMGE5MjgxNzYtYzVlYi00ODIxLTkzOWQtM2Y1MDBhNGY3ZDc1IiwidG9vbFVzZUlkIjoidG9vbHVfMDFIYm1vZDZFSEp2VEUyVHYyQ1k2Qk5QIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Gb3Jnb3RQYXNzd29yZC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA5Nlx0ICAgICAgICB0eHRDb25maXJtUGFzc3dvcmQgPSBuZXcgamF2YXguc3dpbmcuSlBhc3N3b3JkRmllbGQoKTtcbiAgICA5N1x0ICAgICAgICBidG5DaGFuZ2UgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDk4XHQgICAgICAgIGJ0bkV4aXQgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgIDk5XHRcbiAgIDEwMFx0ICAgICAgICBzZXREZWZhdWx0Q2xvc2VPcGVyYXRpb24oamF2YXguc3dpbmcuV2luZG93Q29uc3RhbnRzLkRJU1BPU0VfT05fQ0xPU0UpO1xuICAgMTAxXHRcbiAgIDEwMlx0ICAgICAgICBqTGFiZWwxLnNldEZvbnQobmV3IGphdmEuYXd0LkZvbnQoXCJBcmlhbFwiLCAxLCAzNikpOyAvLyBOT0kxOE5cbiAgIDEwM1x0ICAgICAgICBqTGFiZWwxLnNldEZvcmVncm91bmQoamF2YXguc3dpbmcuVUlNYW5hZ2VyLmdldERlZmF1bHRzKCkuZ2V0Q29sb3IoXCJBY3Rpb25zLlllbGxvd1wiKSk7XG4gICAxMDRcdCAgICAgICAgakxhYmVsMS5zZXRUZXh0KFwixJDhu5RJIE3huqxUIEtI4bqoVVwiKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOWU5NzE3YzgtYmE3ZS00MzU3LWI4ZWUtZTQxMzMxMWEwZTI0O3Rvb2x1XzAxUGZReFdLUlBNbmJmNGIyWGdMczI1NSI6eyJyZXF1ZXN0SWQiOiI5ZTk3MTdjOC1iYTdlLTQzNTctYjhlZS1lNDEzMzExYTBlMjQiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVBmUXhXS1JQTW5iZjRiMlhnTHMyNTUiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmE6XG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMykpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRVc2VyTmFtZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE3N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgMTc4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDQpKVxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE4MFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI5MVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMWMyZGFkYTktMzgwNi00MGNiLWEyZDYtMjYxOWFmZjJmNTQ2O3Rvb2x1XzAxM1RacDZKYm9mY0FBdkgyYkdISFpiMyI6eyJyZXF1ZXN0SWQiOiIxYzJkYWRhOS0zODA2LTQwY2ItYTJkNi0yNjE5YWZmMmY1NDYiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTNUWnA2SmJvZmNBQXZIMmJHSEhaYjMiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmE6XG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMykpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRVc2VyTmFtZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE3N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgMTc4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDQpKVxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE4MFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgIDE4MVx0ICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoalNlcGFyYXRvcjIsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxODJcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAxODNcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxODRcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5TaWdudXAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxODVcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Mb2dpbiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM1LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxODZcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAxODdcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxODhcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Gb3Jnb3RQYXNzd29yZClcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpKSlcbiAgIDE5MFx0ICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWw1LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgNjMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI5MVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjZmNzUwMmItM2ZmNC00NDBiLWIwNjctOGY5ODc0ODNmZWQ1O3Rvb2x1XzAxMmlLWWhFU2tUbVUzWHRXSjQ4SjUxSiI6eyJyZXF1ZXN0SWQiOiI2NmY3NTAyYi0zZmY0LTQ0MGItYjA2Ny04Zjk4NzQ4M2ZlZDUiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMTJpS1loRVNrVG1VM1h0V0o0OEo1MUoiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmE6XG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVTZXF1ZW50aWFsR3JvdXAoKVxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkR2FwKDMsIDMsIDMpXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoakxhYmVsMykpXG4gICAxNzNcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudCh0eHRVc2VyTmFtZSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkRFRkFVTFRfU0laRSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpKVxuICAgMTc0XHQgICAgICAgICAgICAgICAgLmFkZEdhcCgxOCwgMTgsIDE4KVxuICAgMTc1XHQgICAgICAgICAgICAgICAgLmFkZEdyb3VwKGxheW91dC5jcmVhdGVQYXJhbGxlbEdyb3VwKGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LkFsaWdubWVudC5MRUFESU5HKVxuICAgMTc2XHQgICAgICAgICAgICAgICAgICAgIC5hZGRHcm91cChsYXlvdXQuY3JlYXRlU2VxdWVudGlhbEdyb3VwKClcbiAgIDE3N1x0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEdhcCgzLCAzLCAzKVxuICAgMTc4XHQgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGpMYWJlbDQpKVxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQodHh0UGFzc3dvcmQsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5ERUZBVUxUX1NJWkUsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFKSlcbiAgIDE4MFx0ICAgICAgICAgICAgICAgIC5hZGRHYXAoMzAsIDMwLCAzMClcbiAgIDE4MVx0ICAgICAgICAgICAgICAgIC5hZGRDb21wb25lbnQoalNlcGFyYXRvcjIsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAxMCwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxODJcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAxODNcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxODRcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5TaWdudXAsIGphdmF4LnN3aW5nLkdyb3VwTGF5b3V0LlBSRUZFUlJFRF9TSVpFLCAzNSwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUpXG4gICAxODVcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Mb2dpbiwgamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuUFJFRkVSUkVEX1NJWkUsIDM1LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSkpXG4gICAxODZcdCAgICAgICAgICAgICAgICAuYWRkR2FwKDEyLCAxMiwgMTIpXG4gICAxODdcdCAgICAgICAgICAgICAgICAuYWRkR3JvdXAobGF5b3V0LmNyZWF0ZVBhcmFsbGVsR3JvdXAoamF2YXguc3dpbmcuR3JvdXBMYXlvdXQuQWxpZ25tZW50LkxFQURJTkcpXG4gICAxODhcdCAgICAgICAgICAgICAgICAgICAgLmFkZENvbXBvbmVudChidG5Gb3Jnb3RQYXNzd29yZClcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAuYWRkQ29tcG9uZW50KGJ0bkV4aXQpKSlcbiAgIDE5MFx0ICAgICAgICAgICAgLmFkZENvbXBvbmVudChqTGFiZWw1LCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSwgNjMwLCBqYXZheC5zd2luZy5Hcm91cExheW91dC5QUkVGRVJSRURfU0laRSlcbiAgIDE5MVx0ICAgICAgICApO1xuICAgMTkyXHRcbiAgIDE5M1x0ICAgICAgICBwYWNrKCk7XG4gICAxOTRcdCAgICB9Ly8gPC9lZGl0b3ItZm9sZD4vL0dFTi1FTkQ6aW5pdENvbXBvbmVudHNcbiAgIDE5NVx0XG4gICAxOTZcdCAgICBwcml2YXRlIHZvaWQgYnRuTG9naW5BY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuTG9naW5BY3Rpb25QZXJmb3JtZWRcbiAgIDE5N1x0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDE5OFx0ICAgICAgICBpZih2YWxpZGF0ZUZpZWxkcygpKSB7XG4gICAxOTlcdCAgICAgICAgICAgIHRyeXtcbiAgIDIwMFx0ICAgICAgICAgICAgICAgIFN0cmluZyB1c2VybmFtZSA9IHR4dFVzZXJOYW1lLmdldFRleHQoKS50cmltKCk7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyOTFcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjIxYjVjNTllLWMxMTctNDI2NS04ZWE0LTg0YmQ1MTk0MmNiZjt0b29sdV8wMVd6QTZaUkxuaVloOFpxeXFuMWRIVnAiOnsicmVxdWVzdElkIjoiMjFiNWM1OWUtYzExNy00MjY1LThlYTQtODRiZDUxOTQyY2JmIiwidG9vbFVzZUlkIjoidG9vbHVfMDFXekE2WlJMbmlZaDhacXlxbjFkSFZwIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9Mb2dpbi5qYXZhOlxuICAgMjIwXHRcbiAgIDIyMVx0ICAgIHByaXZhdGUgdm9pZCBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZFxuICAgMjIyXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjIzXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRm9yZ290UGFzc3dvcmRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyNFx0XG4gICAyMjVcdCAgICBwcml2YXRlIHZvaWQgYnRuRXhpdEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5FeGl0QWN0aW9uUGVyZm9ybWVkXG4gICAyMjZcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyMjdcdCAgICAgICAgaW50IHJlc3VsdCA9IEpPcHRpb25QYW5lLnNob3dDb25maXJtRGlhbG9nKG51bGwsIFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHRob8OhdCBraMO0bmc/XCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuWUVTX05PX09QVElPTiwgSk9wdGlvblBhbmUuUVVFU1RJT05fTUVTU0FHRSk7XG4gICAyMjhcdCAgICBcbiAgIDIyOVx0ICAgICAgICBpZiAocmVzdWx0ID09IEpPcHRpb25QYW5lLllFU19PUFRJT04pIHtcbiAgIDIzMFx0ICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAyMzFcdCAgICAgICAgfVxuICAgMjMyXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuRXhpdEFjdGlvblBlcmZvcm1lZFxuICAgMjMzXHRcbiAgIDIzNFx0ICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyMzVcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyMzZcdCAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAyMzdcdCAgICAgICAgbmV3IFNpZ25VcCgpLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMzhcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDIzOVx0XG4gICAyNDBcdCAgICAvKipcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI5MVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDM4MjY4N2UtMzljYS00OGRhLTkwZjItN2Y3ZjA5MDAyMTU0O3Rvb2x1XzAxRkNSRzNLSHpENzFCMlMzSkdWUjRzRiI6eyJyZXF1ZXN0SWQiOiJkMzgyNjg3ZS0zOWNhLTQ4ZGEtOTBmMi03ZjdmMDkwMDIxNTQiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUZDUkczS0h6RDcxQjJTM0pHVlI0c0YiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL0xvZ2luLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjE3XHRcbiAgIDIxOFx0XG4gICAyMTlcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5Mb2dpbkFjdGlvblBlcmZvcm1lZFxuICAgMjIwXHRcbiAgIDIyMVx0ICAgIHByaXZhdGUgdm9pZCBidG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZFxuICAgMjIyXHQgICAgICAgIC8vIE9wZW4gdGhlIEZvcmdvdFBhc3N3b3JkIGRpYWxvZ1xuICAgMjIzXHQgICAgICAgIEZvcmdvdFBhc3N3b3JkIGZvcmdvdFBhc3N3b3JkRGlhbG9nID0gbmV3IEZvcmdvdFBhc3N3b3JkKHRoaXMsIHRydWUpO1xuICAgMjI0XHQgICAgICAgIGZvcmdvdFBhc3N3b3JkRGlhbG9nLnNldFZpc2libGUodHJ1ZSk7XG4gICAyMjVcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5Gb3Jnb3RQYXNzd29yZEFjdGlvblBlcmZvcm1lZFxuICAgMjI2XHRcbiAgIDIyN1x0ICAgIHByaXZhdGUgdm9pZCBidG5FeGl0QWN0aW9uUGVyZm9ybWVkKGphdmEuYXd0LmV2ZW50LkFjdGlvbkV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X2J0bkV4aXRBY3Rpb25QZXJmb3JtZWRcbiAgIDIyOFx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDIyOVx0ICAgICAgICBpbnQgcmVzdWx0ID0gSk9wdGlvblBhbmUuc2hvd0NvbmZpcm1EaWFsb2cobnVsbCwgXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdGhvw6F0IGtow7RuZz9cIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5ZRVNfTk9fT1BUSU9OLCBKT3B0aW9uUGFuZS5RVUVTVElPTl9NRVNTQUdFKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzRGlydHlFZGl0cyI6dHJ1ZSwiYmFzZWxpbmVUaW1lc3RhbXAiOjE3NDcxMDEzNTk4NDV9LCJwZXJzb25hVHlwZSI6MH19LCJhZ2VudEV4ZWN1dGlvbk1vZGUiOiJtYW51YWwiLCJpc0FnZW50RWRpdHNDb2xsYXBzZWQiOnRydWV9" />
      </map>
    </option>
  </component>
</project>