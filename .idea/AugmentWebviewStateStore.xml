<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiIzY2IxZjcyYi1jY2Q2LTQyZDEtODFkMi0yMDJjZmRiYzk2MGUiLCJjb252ZXJzYXRpb25zIjp7IjU2MmZkOTU0LTFjMTQtNDQ0Ni1hNjYyLTc5MzBiODM5NWIyMCI6eyJpZCI6IjU2MmZkOTU0LTFjMTQtNDQ0Ni1hNjYyLTc5MzBiODM5NWIyMCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDUtMTFUMDk6MzE6MjEuNDA0WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA1LTExVDA5OjMxOjIxLjQwNFoiLCJjaGF0SGlzdG9yeSI6W10sImZlZWRiYWNrU3RhdGVzIjp7fSwidG9vbFVzZVN0YXRlcyI6e30sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjpmYWxzZSwiZXh0cmFEYXRhIjp7Imhhc0RpcnR5RWRpdHMiOmZhbHNlfSwicGVyc29uYVR5cGUiOjB9LCJlYzc0MjZhZi00ZjNiLTRmMTktOGI5YS1iMzlhMGQ5YjUxYjEiOnsiaWQiOiJlYzc0MjZhZi00ZjNiLTRmMTktOGI5YS1iMzlhMGQ5YjUxYjEiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA1LTExVDA5OjMxOjIxLjU2MloiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNS0xMVQwOTozMToyMS41NjJaIiwiY2hhdEhpc3RvcnkiOltdLCJmZWVkYmFja1N0YXRlcyI6e30sInRvb2xVc2VTdGF0ZXMiOnt9LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6ZmFsc2UsImV4dHJhRGF0YSI6eyJoYXNEaXJ0eUVkaXRzIjpmYWxzZX0sInBlcnNvbmFUeXBlIjowfSwiM2NiMWY3MmItY2NkNi00MmQxLTgxZDItMjAyY2ZkYmM5NjBlIjp7ImlkIjoiM2NiMWY3MmItY2NkNi00MmQxLTgxZDItMjAyY2ZkYmM5NjBlIiwibmFtZSI6IldlbGNvbWUgdG8gdGhlIEF1Z21lbnQgQWdlbnQiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA1LTExVDA5OjMxOjI0Ljg4OVoiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNS0xMVQwOTozNzowMC43NDNaIiwiY2hhdEhpc3RvcnkiOlt7InJlcXVlc3RfaWQiOiIyODhiYjZjOS02OWE2LTQxODktODE1YS1iOWFiMTkzODM4M2IiLCJ1dWlkIjoiMzk4ZjI1NDMtODQzNC00NmEzLTg1M2EtMTQzZmMzNzRlMmUwIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0Njk1NTg4NDg5MSwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYTFmNmEwZjMtZjk1Yy00MGYwLWExMzktYjRmMGZiYWQxZGQ4IiwicmVxdWVzdF9tZXNzYWdlIjoiZml4IGVycm9yOiBydW46XHJcbmphdmEuc3FsLlNRTEludGVncml0eUNvbnN0cmFpbnRWaW9sYXRpb25FeGNlcHRpb246IENhbm5vdCBhZGQgb3IgdXBkYXRlIGEgY2hpbGQgcm93OiBhIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZmFpbHMgKGBJbnRlcm5ldERCYC5gU1VCU0NSSUJFUmAsIENPTlNUUkFJTlQgYFNVQlNDUklCRVJfaWJma18xYCBGT1JFSUdOIEtFWSAoYHVzZXJfaWRgKSBSRUZFUkVOQ0VTIGBVU0VSYCAoYHVzZXJfaWRgKSlcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5leGNlcHRpb25zLlNRTEVycm9yLmNyZWF0ZVNRTEV4Y2VwdGlvbihTUUxFcnJvci5qYXZhOjExNylcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5leGNlcHRpb25zLlNRTEV4Y2VwdGlvbnNNYXBwaW5nLnRyYW5zbGF0ZUV4Y2VwdGlvbihTUUxFeGNlcHRpb25zTWFwcGluZy5qYXZhOjEyMilcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YTo5MTYpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTA2MSlcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMDA5KVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVMYXJnZVVwZGF0ZShDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEzMjApXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZShDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjk5NClcclxuXHRhdCBEQU8uU3Vic2NyaWJlckRBTy5pbnNlcnQoU3Vic2NyaWJlckRBTy5qYXZhOjQ0KVxyXG5cdGF0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwLmJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChTaWduVXAuamF2YToyNzkpXHJcblx0YXQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5TaWduVXAkNy5hY3Rpb25QZXJmb3JtZWQoU2lnblVwLmphdmE6MTcxKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5BYnN0cmFjdEJ1dHRvbi5maXJlQWN0aW9uUGVyZm9ybWVkKEFic3RyYWN0QnV0dG9uLmphdmE6MTk3MilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuQWJzdHJhY3RCdXR0b24kSGFuZGxlci5hY3Rpb25QZXJmb3JtZWQoQWJzdHJhY3RCdXR0b24uamF2YToyMzE0KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5EZWZhdWx0QnV0dG9uTW9kZWwuZmlyZUFjdGlvblBlcmZvcm1lZChEZWZhdWx0QnV0dG9uTW9kZWwuamF2YTo0MDcpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkRlZmF1bHRCdXR0b25Nb2RlbC5zZXRQcmVzc2VkKERlZmF1bHRCdXR0b25Nb2RlbC5qYXZhOjI2MilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcucGxhZi5iYXNpYy5CYXNpY0J1dHRvbkxpc3RlbmVyLm1vdXNlUmVsZWFzZWQoQmFzaWNCdXR0b25MaXN0ZW5lci5qYXZhOjI3OSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LnByb2Nlc3NNb3VzZUV2ZW50KENvbXBvbmVudC5qYXZhOjY2MjEpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkpDb21wb25lbnQucHJvY2Vzc01vdXNlRXZlbnQoSkNvbXBvbmVudC5qYXZhOjMzOTgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5wcm9jZXNzRXZlbnQoQ29tcG9uZW50LmphdmE6NjM4NilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLnByb2Nlc3NFdmVudChDb250YWluZXIuamF2YToyMjY2KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudEltcGwoQ29tcG9uZW50LmphdmE6NDk5NilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLmRpc3BhdGNoRXZlbnRJbXBsKENvbnRhaW5lci5qYXZhOjIzMjQpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50KENvbXBvbmVudC5qYXZhOjQ4MjgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5yZXRhcmdldE1vdXNlRXZlbnQoQ29udGFpbmVyLmphdmE6NDk0OClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLnByb2Nlc3NNb3VzZUV2ZW50KENvbnRhaW5lci5qYXZhOjQ1NzUpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KENvbnRhaW5lci5qYXZhOjQ1MTYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5kaXNwYXRjaEV2ZW50SW1wbChDb250YWluZXIuamF2YToyMzEwKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5XaW5kb3cuZGlzcGF0Y2hFdmVudEltcGwoV2luZG93LmphdmE6Mjc4MClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnQoQ29tcG9uZW50LmphdmE6NDgyOClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZS5kaXNwYXRjaEV2ZW50SW1wbChFdmVudFF1ZXVlLmphdmE6Nzc1KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDQucnVuKEV2ZW50UXVldWUuamF2YTo3MjApXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNC5ydW4oRXZlbnRRdWV1ZS5qYXZhOjcxNClcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChBY2Nlc3NDb250cm9sbGVyLmphdmE6NDAwKVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6ODcpXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo5OClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ1LnJ1bihFdmVudFF1ZXVlLmphdmE6NzQ3KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDUucnVuKEV2ZW50UXVldWUuamF2YTo3NDUpXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoQWNjZXNzQ29udHJvbGxlci5qYXZhOjQwMClcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjg3KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlLmRpc3BhdGNoRXZlbnQoRXZlbnRRdWV1ZS5qYXZhOjc0NClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wT25lRXZlbnRGb3JGaWx0ZXJzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToyMDMpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50c0ZvckZpbHRlcihFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTI0KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHNGb3JIaWVyYXJjaHkoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjExMylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMDkpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50cyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTAxKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnJ1bihFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6OTApXHJcbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJmaXggZXJyb3I6IHJ1bjpcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiamF2YS5zcWwuU1FMSW50ZWdyaXR5Q29uc3RyYWludFZpb2xhdGlvbkV4Y2VwdGlvbjogQ2Fubm90IGFkZCBvciB1cGRhdGUgYSBjaGlsZCByb3c6IGEgZm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlscyAoYEludGVybmV0REJgLmBTVUJTQ1JJQkVSYCwgQ09OU1RSQUlOVCBgU1VCU0NSSUJFUl9pYmZrXzFgIEZPUkVJR04gS0VZIChgdXNlcl9pZGApIFJFRkVSRU5DRVMgYFVTRVJgIChgdXNlcl9pZGApKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGNvbS5teXNxbC5jai5qZGJjLmV4Y2VwdGlvbnMuU1FMRXJyb3IuY3JlYXRlU1FMRXhjZXB0aW9uKFNRTEVycm9yLmphdmE6MTE3KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGNvbS5teXNxbC5jai5qZGJjLmV4Y2VwdGlvbnMuU1FMRXhjZXB0aW9uc01hcHBpbmcudHJhbnNsYXRlRXhjZXB0aW9uKFNRTEV4Y2VwdGlvbnNNYXBwaW5nLmphdmE6MTIyKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjkxNilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlSW50ZXJuYWwoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMDYxKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEwMDkpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZUxhcmdlVXBkYXRlKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTMyMClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6OTk0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IERBTy5TdWJzY3JpYmVyREFPLmluc2VydChTdWJzY3JpYmVyREFPLmphdmE6NDQpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbS5TaWduVXAuYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkKFNpZ25VcC5qYXZhOjI3OSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcCQ3LmFjdGlvblBlcmZvcm1lZChTaWduVXAuamF2YToxNzEpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkFic3RyYWN0QnV0dG9uLmZpcmVBY3Rpb25QZXJmb3JtZWQoQWJzdHJhY3RCdXR0b24uamF2YToxOTcyKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5BYnN0cmFjdEJ1dHRvbiRIYW5kbGVyLmFjdGlvblBlcmZvcm1lZChBYnN0cmFjdEJ1dHRvbi5qYXZhOjIzMTQpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkRlZmF1bHRCdXR0b25Nb2RlbC5maXJlQWN0aW9uUGVyZm9ybWVkKERlZmF1bHRCdXR0b25Nb2RlbC5qYXZhOjQwNylcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuRGVmYXVsdEJ1dHRvbk1vZGVsLnNldFByZXNzZWQoRGVmYXVsdEJ1dHRvbk1vZGVsLmphdmE6MjYyKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5wbGFmLmJhc2ljLkJhc2ljQnV0dG9uTGlzdGVuZXIubW91c2VSZWxlYXNlZChCYXNpY0J1dHRvbkxpc3RlbmVyLmphdmE6Mjc5KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQucHJvY2Vzc01vdXNlRXZlbnQoQ29tcG9uZW50LmphdmE6NjYyMSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuSkNvbXBvbmVudC5wcm9jZXNzTW91c2VFdmVudChKQ29tcG9uZW50LmphdmE6MzM5OClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LnByb2Nlc3NFdmVudChDb21wb25lbnQuamF2YTo2Mzg2KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIucHJvY2Vzc0V2ZW50KENvbnRhaW5lci5qYXZhOjIyNjYpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50SW1wbChDb21wb25lbnQuamF2YTo0OTk2KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIuZGlzcGF0Y2hFdmVudEltcGwoQ29udGFpbmVyLmphdmE6MjMyNClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnQoQ29tcG9uZW50LmphdmE6NDgyOClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLnJldGFyZ2V0TW91c2VFdmVudChDb250YWluZXIuamF2YTo0OTQ4KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIucHJvY2Vzc01vdXNlRXZlbnQoQ29udGFpbmVyLmphdmE6NDU3NSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuTGlnaHR3ZWlnaHREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoQ29udGFpbmVyLmphdmE6NDUxNilcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29udGFpbmVyLmRpc3BhdGNoRXZlbnRJbXBsKENvbnRhaW5lci5qYXZhOjIzMTApXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LldpbmRvdy5kaXNwYXRjaEV2ZW50SW1wbChXaW5kb3cuamF2YToyNzgwKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudChDb21wb25lbnQuamF2YTo0ODI4KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlLmRpc3BhdGNoRXZlbnRJbXBsKEV2ZW50UXVldWUuamF2YTo3NzUpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNC5ydW4oRXZlbnRRdWV1ZS5qYXZhOjcyMClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ0LnJ1bihFdmVudFF1ZXVlLmphdmE6NzE0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKEFjY2Vzc0NvbnRyb2xsZXIuamF2YTo0MDApXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo4NylcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjk4KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDUucnVuKEV2ZW50UXVldWUuamF2YTo3NDcpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNS5ydW4oRXZlbnRRdWV1ZS5qYXZhOjc0NSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sbGVyLmRvUHJpdmlsZWdlZChBY2Nlc3NDb250cm9sbGVyLmphdmE6NDAwKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6ODcpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUuZGlzcGF0Y2hFdmVudChFdmVudFF1ZXVlLmphdmE6NzQ0KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBPbmVFdmVudEZvckZpbHRlcnMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjIwMylcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzRm9yRmlsdGVyKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMjQpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50c0ZvckhpZXJhcmNoeShFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTEzKVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEwOSlcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMDEpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucnVuKEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YTo5MClcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUN3eUxLUUd0elpwdTVZTmVuSm5vVUsiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIlNob3cgdGhlIFN1YnNjcmliZXJEQU8uamF2YSBmaWxlLCBlc3BlY2lhbGx5IHRoZSBpbnNlcnQgbWV0aG9kIGF0IGxpbmUgNDQgdGhhdCdzIG1lbnRpb25lZCBpbiB0aGUgZXJyb3Igc3RhY2sgdHJhY2UuXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBmaXggdGhlIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZXJyb3IuIFRoaXMgZXJyb3Igb2NjdXJzIHdoZW4gdHJ5aW5nIHRvIGFkZCBhIHJlY29yZCB0byB0aGUgU1VCU0NSSUJFUiB0YWJsZSB3aXRoIGEgdXNlcl9pZCB0aGF0IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIFVTRVIgdGFibGUuIExldCdzIGludmVzdGlnYXRlIGFuZCBmaXggdGhpcyBpc3N1ZS5cblxuIyMgSW5mb3JtYXRpb24gR2F0aGVyaW5nXG5cbkZpcnN0LCBsZXQncyBsb29rIGF0IHRoZSByZWxldmFudCBjb2RlIGluIHRoZSBTdWJzY3JpYmVyREFPIGFuZCBTaWduVXAgY2xhc3NlcyB0byB1bmRlcnN0YW5kIHdoYXQncyBoYXBwZW5pbmc6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6ImZpeCBlcnJvcjogcnVuOlxyXG5qYXZhLnNxbC5TUUxJbnRlZ3JpdHlDb25zdHJhaW50VmlvbGF0aW9uRXhjZXB0aW9uOiBDYW5ub3QgYWRkIG9yIHVwZGF0ZSBhIGNoaWxkIHJvdzogYSBmb3JlaWduIGtleSBjb25zdHJhaW50IGZhaWxzIChgSW50ZXJuZXREQmAuYFNVQlNDUklCRVJgLCBDT05TVFJBSU5UIGBTVUJTQ1JJQkVSX2liZmtfMWAgRk9SRUlHTiBLRVkgKGB1c2VyX2lkYCkgUkVGRVJFTkNFUyBgVVNFUmAgKGB1c2VyX2lkYCkpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuZXhjZXB0aW9ucy5TUUxFcnJvci5jcmVhdGVTUUxFeGNlcHRpb24oU1FMRXJyb3IuamF2YToxMTcpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuZXhjZXB0aW9ucy5TUUxFeGNlcHRpb25zTWFwcGluZy50cmFuc2xhdGVFeGNlcHRpb24oU1FMRXhjZXB0aW9uc01hcHBpbmcuamF2YToxMjIpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6OTE2KVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGVJbnRlcm5hbChDbGllbnRQcmVwYXJlZFN0YXRlbWVudC5qYXZhOjEwNjEpXHJcblx0YXQgY29tLm15c3FsLmNqLmpkYmMuQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZUludGVybmFsKENsaWVudFByZXBhcmVkU3RhdGVtZW50LmphdmE6MTAwOSlcclxuXHRhdCBjb20ubXlzcWwuY2ouamRiYy5DbGllbnRQcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlTGFyZ2VVcGRhdGUoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YToxMzIwKVxyXG5cdGF0IGNvbS5teXNxbC5jai5qZGJjLkNsaWVudFByZXBhcmVkU3RhdGVtZW50LmV4ZWN1dGVVcGRhdGUoQ2xpZW50UHJlcGFyZWRTdGF0ZW1lbnQuamF2YTo5OTQpXHJcblx0YXQgREFPLlN1YnNjcmliZXJEQU8uaW5zZXJ0KFN1YnNjcmliZXJEQU8uamF2YTo0NClcclxuXHRhdCBpbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcC5idG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoU2lnblVwLmphdmE6Mjc5KVxyXG5cdGF0IGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwJDcuYWN0aW9uUGVyZm9ybWVkKFNpZ25VcC5qYXZhOjE3MSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuQWJzdHJhY3RCdXR0b24uZmlyZUFjdGlvblBlcmZvcm1lZChBYnN0cmFjdEJ1dHRvbi5qYXZhOjE5NzIpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLkFic3RyYWN0QnV0dG9uJEhhbmRsZXIuYWN0aW9uUGVyZm9ybWVkKEFic3RyYWN0QnV0dG9uLmphdmE6MjMxNClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YXguc3dpbmcuRGVmYXVsdEJ1dHRvbk1vZGVsLmZpcmVBY3Rpb25QZXJmb3JtZWQoRGVmYXVsdEJ1dHRvbk1vZGVsLmphdmE6NDA3KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5EZWZhdWx0QnV0dG9uTW9kZWwuc2V0UHJlc3NlZChEZWZhdWx0QnV0dG9uTW9kZWwuamF2YToyNjIpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmF4LnN3aW5nLnBsYWYuYmFzaWMuQmFzaWNCdXR0b25MaXN0ZW5lci5tb3VzZVJlbGVhc2VkKEJhc2ljQnV0dG9uTGlzdGVuZXIuamF2YToyNzkpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5wcm9jZXNzTW91c2VFdmVudChDb21wb25lbnQuamF2YTo2NjIxKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZheC5zd2luZy5KQ29tcG9uZW50LnByb2Nlc3NNb3VzZUV2ZW50KEpDb21wb25lbnQuamF2YTozMzk4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQucHJvY2Vzc0V2ZW50KENvbXBvbmVudC5qYXZhOjYzODYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5wcm9jZXNzRXZlbnQoQ29udGFpbmVyLmphdmE6MjI2NilcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuQ29tcG9uZW50LmRpc3BhdGNoRXZlbnRJbXBsKENvbXBvbmVudC5qYXZhOjQ5OTYpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbnRhaW5lci5kaXNwYXRjaEV2ZW50SW1wbChDb250YWluZXIuamF2YToyMzI0KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db21wb25lbnQuZGlzcGF0Y2hFdmVudChDb21wb25lbnQuamF2YTo0ODI4KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIucmV0YXJnZXRNb3VzZUV2ZW50KENvbnRhaW5lci5qYXZhOjQ5NDgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkxpZ2h0d2VpZ2h0RGlzcGF0Y2hlci5wcm9jZXNzTW91c2VFdmVudChDb250YWluZXIuamF2YTo0NTc1KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5MaWdodHdlaWdodERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChDb250YWluZXIuamF2YTo0NTE2KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5Db250YWluZXIuZGlzcGF0Y2hFdmVudEltcGwoQ29udGFpbmVyLmphdmE6MjMxMClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuV2luZG93LmRpc3BhdGNoRXZlbnRJbXBsKFdpbmRvdy5qYXZhOjI3ODApXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkNvbXBvbmVudC5kaXNwYXRjaEV2ZW50KENvbXBvbmVudC5qYXZhOjQ4MjgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUuZGlzcGF0Y2hFdmVudEltcGwoRXZlbnRRdWV1ZS5qYXZhOjc3NSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ0LnJ1bihFdmVudFF1ZXVlLmphdmE6NzIwKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudFF1ZXVlJDQucnVuKEV2ZW50UXVldWUuamF2YTo3MTQpXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuQWNjZXNzQ29udHJvbGxlci5kb1ByaXZpbGVnZWQoQWNjZXNzQ29udHJvbGxlci5qYXZhOjQwMClcclxuXHRhdCBqYXZhLmJhc2UvamF2YS5zZWN1cml0eS5Qcm90ZWN0aW9uRG9tYWluJEphdmFTZWN1cml0eUFjY2Vzc0ltcGwuZG9JbnRlcnNlY3Rpb25Qcml2aWxlZ2UoUHJvdGVjdGlvbkRvbWFpbi5qYXZhOjg3KVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LlByb3RlY3Rpb25Eb21haW4kSmF2YVNlY3VyaXR5QWNjZXNzSW1wbC5kb0ludGVyc2VjdGlvblByaXZpbGVnZShQcm90ZWN0aW9uRG9tYWluLmphdmE6OTgpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50UXVldWUkNS5ydW4oRXZlbnRRdWV1ZS5qYXZhOjc0NylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZSQ1LnJ1bihFdmVudFF1ZXVlLmphdmE6NzQ1KVxyXG5cdGF0IGphdmEuYmFzZS9qYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xsZXIuZG9Qcml2aWxlZ2VkKEFjY2Vzc0NvbnRyb2xsZXIuamF2YTo0MDApXHJcblx0YXQgamF2YS5iYXNlL2phdmEuc2VjdXJpdHkuUHJvdGVjdGlvbkRvbWFpbiRKYXZhU2VjdXJpdHlBY2Nlc3NJbXBsLmRvSW50ZXJzZWN0aW9uUHJpdmlsZWdlKFByb3RlY3Rpb25Eb21haW4uamF2YTo4NylcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnRRdWV1ZS5kaXNwYXRjaEV2ZW50KEV2ZW50UXVldWUuamF2YTo3NDQpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcE9uZUV2ZW50Rm9yRmlsdGVycyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MjAzKVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHNGb3JGaWx0ZXIoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEyNClcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5wdW1wRXZlbnRzRm9ySGllcmFyY2h5KEV2ZW50RGlzcGF0Y2hUaHJlYWQuamF2YToxMTMpXHJcblx0YXQgamF2YS5kZXNrdG9wL2phdmEuYXd0LkV2ZW50RGlzcGF0Y2hUaHJlYWQucHVtcEV2ZW50cyhFdmVudERpc3BhdGNoVGhyZWFkLmphdmE6MTA5KVxyXG5cdGF0IGphdmEuZGVza3RvcC9qYXZhLmF3dC5FdmVudERpc3BhdGNoVGhyZWFkLnB1bXBFdmVudHMoRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjEwMSlcclxuXHRhdCBqYXZhLmRlc2t0b3AvamF2YS5hd3QuRXZlbnREaXNwYXRjaFRocmVhZC5ydW4oRXZlbnREaXNwYXRjaFRocmVhZC5qYXZhOjkwKVxyXG4ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozMjoxOC45NDZaIiwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgZml4IHRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IGVycm9yLiBUaGlzIGVycm9yIG9jY3VycyB3aGVuIHRyeWluZyB0byBhZGQgYSByZWNvcmQgdG8gdGhlIFNVQlNDUklCRVIgdGFibGUgd2l0aCBhIHVzZXJfaWQgdGhhdCBkb2Vzbid0IGV4aXN0IGluIHRoZSBVU0VSIHRhYmxlLiBMZXQncyBpbnZlc3RpZ2F0ZSBhbmQgZml4IHRoaXMgaXNzdWUuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5GaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgcmVsZXZhbnQgY29kZSBpbiB0aGUgU3Vic2NyaWJlckRBTyBhbmQgU2lnblVwIGNsYXNzZXMgdG8gdW5kZXJzdGFuZCB3aGF0J3MgaGFwcGVuaW5nOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjNlNWRjMzdhLTE4OWYtNGZhNi1hNDliLTY3OTY3YTNjNTgxNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFZUUM2dkozR29rUzJrRW11OUxHVUFyIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcIm15c3FsIC1oIDEyNS4yMTIuMjMxLjE4NCAtUCA2OTY5IC11IG1pbnRvcmkwOSAtcCdNaW50b3J5MDlAOTYnIC1lIFxcXCJERVNDUklCRSBJbnRlcm5ldERCLlVTRVI7IERFU0NSSUJFIEludGVybmV0REIuU1VCU0NSSUJFUjtcXFwiXCIsIFwid2FpdFwiOiB0cnVlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMzB9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGxvb2sgYXQgdGhlIGRhdGFiYXNlIHNjaGVtYSB0byB1bmRlcnN0YW5kIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XG4gICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDEsIG9iai5nZXRTdWJzY3JpYmVyX2lkKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDUsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL1VzZXJEQU8uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBEQU87XG5cbmltcG9ydCBNb2RlbC5Vc2VyO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoVXNlciBvYmopIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShVc2VyIG9iaikge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgZGVsZXRlKGludCBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFVzZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBMaXN0PFVzZXI+IGdldEFsbCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0RiT3BlcmF0aW9ucy5qYXZhXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvR1VJRm9ybXMvSkZyYW1lLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgaW50ZXJuZXQubWFuZ2VtZW50LnN5c3RlbTtcblxuaW1wb3J0IERBTy5TdWJzY3JpYmVyREFPO1xuaW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTaWduVXAgZXh0ZW5kcyBqYXZheC5zd2luZy5KRnJhbWUge1xuXG4gICAgcHVibGljIFN0cmluZyBwaG9uZVBhdHRlcm4gPSBcIl5bMC05XSokXCI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgREVGQVVMVF9ST0xFID0gXCJ1c2VyXCI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBuZXcgZm9ybSBTaWduSW5cbiAgICAgKi9cbiAgICBwdWJsaWMgU2lnblVwKCkge1xuICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgdm9pZCBjbGVhcigpe1xuICAgICAgICB0eHROYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFVzZXJOYW1lLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgdmFsaWRhdGVGaWVsZHMoKXtcbiAgICAgICAgU3RyaW5nIG5hbWUgPSB0eHROYW1lLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBhZGRyZXNzID0gdHh0QWRkcmVzcy5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICAgICAgXG4gICAgICAgIGlmKG5hbWUuZXF1YWxzKFwiXCIpICYmIHVzZXJOYW1lLmVxdWFscyhcIlwiKSAmJiBwYXNzd29yZC5lcXVhbHMoXCJcIikgJiYgYWRkcmVzcy5lcXVhbHMoXCJcIikgJiYgcGhvbmUuZXF1YWxzKFwiXCIpKXtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSA9PSAxMCAmJiBwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgICAgIGpGcmFtZTEgPSBuZXcgamF2YXguc3dpbmcuSkZyYW1lKCk7XG4gICAgICAgIGpMYWJlbDEgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDIgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDMgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDQgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDUgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDYgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIHR4dE5hbWUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRVc2VyTmFtZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIHR4dEFkZHJlc3MgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRQaG9uZSA9IG5ldyBqYXZheC5zd2luZy5KVGV4dEZpZWxkKCk7XG4gICAgICAgIHR4dFBhc3N3b3JkID0gbmV3IGphdmF4LnN3aW5nLkpQYXNzd29yZEZpZWxkKCk7XG4gICAgICAgIGJ0blJldHVybiA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGJ0blNpZ251cCA9IG5ldyBqYXZheC5zd2luZy5KQnV0dG9uKCk7XG4gICAgICAgIGpMYWJlbDcgPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpMYWJlbDggPSBuZXcgamF2YXguc3dpbmcuSkxhYmVsKCk7XG4gICAgICAgIGpTZXBhcmF0b3IxID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbiAgICAgICAgalNlcGFyYXRvcjIgPSBuZXcgamF2YXguc3dpbmcuSlNlcGFyYXRvcigpO1xuLi4uXG4gICAgICAgIFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blJldHVybkFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldFVzZXJuYW1lKHR4dFVzZXJOYW1lLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgICAgICBzdWIuc2V0QWRkcmVzcyh0eHRBZGRyZXNzLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgICAgICBTdWJzY3JpYmVyREFPLmluc2VydChzdWIpO1xuICAgICAgICBjbGVhcigpO1xuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuXG4gICAgcHJpdmF0ZSB2b2lkIHR4dE5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG4gICAgfS8vR0VOLUxBU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9TdWJzY3JpYmVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBVc2VyIHtcbiAgICBwcml2YXRlIGludCBzdWJzY3JpYmVyX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIGZ1bGxOYW1lO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGhvbmU7XG4gICAgXG4gICAgcHVibGljIFN1YnNjcmliZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3Vic2NyaWJlcihpbnQgc3Vic2NyaWJlcl9pZCwgU3RyaW5nIGZ1bGxOYW1lLCBTdHJpbmcgYWRkcmVzcywgU3RyaW5nIHBob25lLCBpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICBzdXBlcih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZV9hdCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5waG9uZSA9IHBob25lO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgaW50IGdldFN1YnNjcmliZXJfaWQoKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFN1YnNjcmliZXJfaWQoaW50IHN1YnNjcmliZXJfaWQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEZ1bGxOYW1lKCkge1xuICAgICAgICByZXR1cm4gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RnVsbE5hbWUoU3RyaW5nIGZ1bGxOYW1lKSB7XG4gICAgICAgIHRoaXMuZnVsbE5hbWUgPSBmdWxsTmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEFkZHJlc3MoU3RyaW5nIGFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFBob25lKCkge1xuICAgICAgICByZXR1cm4gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0UGhvbmUoU3RyaW5nIHBob25lKSB7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9EQU8vQ29ubmVjdGlvblByb3ZpZGVyLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgamF2YS5zcWwuKjtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIENvbm5lY3Rpb25Qcm92aWRlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVSTCA9IFwiamRiYzpteXNxbDovLzEyNS4yMTIuMjMxLjE4NDo2OTY5L0ludGVybmV0REJcIjtcbiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgVVNFUiA9IFwibWludG9yaTA5XCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBBU1NXT1JEID0gXCJNaW50b3J5MDlAOTZcIjtcbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIENvbm5lY3Rpb24gZ2V0Q29ubigpe1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBDbGFzcy5mb3JOYW1lKFwiY29tLm15c3FsLmNqLmpkYmMuRHJpdmVyXCIpO1xuICAgICAgICAgICAgY29ubiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbihVUkwsIFVTRVIsIFBBU1NXT1JEKTtcbiAgICAgICAgfSBjYXRjaCAoQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJNeVNRTCBKREJDIERyaXZlciBub3QgZm91bmQuXCIpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkNvbm5lY3Rpb24gZmFpbGVkLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvVXNlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgdXNlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyB1c2VybmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyByb2xlO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG5cbiAgICBwdWJsaWMgVXNlcigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgdXNlcl9pZCwgU3RyaW5nIHVzZXJuYW1lLCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyByb2xlLCBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLnVzZXJfaWQgPSB1c2VyX2lkO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRVc2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyX2lkKGludCB1c2VyX2lkKSB7XG4gICAgICAgIHRoaXMudXNlcl9pZCA9IHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXJuYW1lKFN0cmluZyB1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKFN0cmluZyByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9QbGFuLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgTW9kZWw7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBQbGFuIHtcbiAgICBwcml2YXRlIGludCBwbGFuX2lkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5hbWU7XG4gICAgcHJpdmF0ZSBsb25nIHByaWNlO1xuICAgIHByaXZhdGUgaW50IG1heF9zcGVlZF9kb21lc3RpYztcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICBwcml2YXRlIGludCBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG5cbiAgICBwdWJsaWMgUGxhbigpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGxhbihpbnQgcGxhbl9pZCwgU3RyaW5nIG5hbWUsIGxvbmcgcHJpY2UsIGludCBtYXhfc3BlZWRfZG9tZXN0aWMsIGludCBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbCwgaW50IG1pbl9zcGVlZF9kb21lc3RpYywgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMucGxhbl9pZCA9IHBsYW5faWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICAgICAgdGhpcy5tYXhfc3BlZWRfZG9tZXN0aWMgPSBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2ludGVybmF0aW9uYWwgPSBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICAgICAgdGhpcy5taW5fc3BlZWRfZG9tZXN0aWMgPSBtaW5fc3BlZWRfZG9tZXN0aWM7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2ludGVybmF0aW9uYWwgPSBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFBsYW5faWQoKSB7XG4gICAgICAgIHJldHVybiBwbGFuX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBsYW5faWQoaW50IHBsYW5faWQpIHtcbiAgICAgICAgdGhpcy5wbGFuX2lkID0gcGxhbl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5hbWUoU3RyaW5nIG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9uZyBnZXRQcmljZSgpIHtcbiAgICAgICAgcmV0dXJuIHByaWNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByaWNlKGxvbmcgcHJpY2UpIHtcbiAgICAgICAgdGhpcy5wcmljZSA9IHByaWNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3NwZWVkX2RvbWVzdGljKCkge1xuICAgICAgICByZXR1cm4gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE1heF9zcGVlZF9kb21lc3RpYyhpbnQgbWF4X3NwZWVkX2RvbWVzdGljKSB7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2RvbWVzdGljID0gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3NwZWVkX2ludGVybmF0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfc3BlZWRfaW50ZXJuYXRpb25hbChpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgdGhpcy5tYXhfc3BlZWRfaW50ZXJuYXRpb25hbCA9IG1heF9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWluX3NwZWVkX2RvbWVzdGljKCkge1xuICAgICAgICByZXR1cm4gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE1pbl9zcGVlZF9kb21lc3RpYyhpbnQgbWluX3NwZWVkX2RvbWVzdGljKSB7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2RvbWVzdGljID0gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWluX3NwZWVkX2ludGVybmF0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNaW5fc3BlZWRfaW50ZXJuYXRpb25hbChpbnQgbWluX3NwZWVkX2ludGVybmF0aW9uYWwpIHtcbiAgICAgICAgdGhpcy5taW5fc3BlZWRfaW50ZXJuYXRpb25hbCA9IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuICAgIH1cbiAgIFxuICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9Db250cmFjdC5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb250cmFjdCB7XG4gICAgcHJpdmF0ZSBpbnQgY29udHJhY3RfaWQ7XG4gICAgcHJpdmF0ZSBpbnQgc3ViX2lkO1xuICAgIHByaXZhdGUgaW50IHBhY2thZ2VfaWQ7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGRhdGVfc2lnbjtcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkZHJlc3M7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdDtcblxuICAgIHB1YmxpYyBDb250cmFjdCgpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ29udHJhY3QoaW50IGNvbnRyYWN0X2lkLCBpbnQgc3ViX2lkLCBpbnQgcGFja2FnZV9pZCwgTG9jYWxEYXRlVGltZSBkYXRlX3NpZ24sIExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uLCBTdHJpbmcgYWRkcmVzcywgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jb250cmFjdF9pZCA9IGNvbnRyYWN0X2lkO1xuICAgICAgICB0aGlzLnN1Yl9pZCA9IHN1Yl9pZDtcbiAgICAgICAgdGhpcy5wYWNrYWdlX2lkID0gcGFja2FnZV9pZDtcbiAgICAgICAgdGhpcy5kYXRlX3NpZ24gPSBkYXRlX3NpZ247XG4gICAgICAgIHRoaXMuZGF0ZV9leHBpcmF0aW9uID0gZGF0ZV9leHBpcmF0aW9uO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldENvbnRyYWN0X2lkKCkge1xuICAgICAgICByZXR1cm4gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q29udHJhY3RfaWQoaW50IGNvbnRyYWN0X2lkKSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFN1Yl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHN1Yl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJfaWQoaW50IHN1Yl9pZCkge1xuICAgICAgICB0aGlzLnN1Yl9pZCA9IHN1Yl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldFBhY2thZ2VfaWQoKSB7XG4gICAgICAgIHJldHVybiBwYWNrYWdlX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhY2thZ2VfaWQoaW50IHBhY2thZ2VfaWQpIHtcbiAgICAgICAgdGhpcy5wYWNrYWdlX2lkID0gcGFja2FnZV9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlVGltZSBnZXREYXRlX3NpZ24oKSB7XG4gICAgICAgIHJldHVybiBkYXRlX3NpZ247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9zaWduKExvY2FsRGF0ZVRpbWUgZGF0ZV9zaWduKSB7XG4gICAgICAgIHRoaXMuZGF0ZV9zaWduID0gZGF0ZV9zaWduO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldERhdGVfZXhwaXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZXhwaXJhdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2V4cGlyYXRpb24oTG9jYWxEYXRlVGltZSBkYXRlX2V4cGlyYXRpb24pIHtcbiAgICAgICAgdGhpcy5kYXRlX2V4cGlyYXRpb24gPSBkYXRlX2V4cGlyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0Q3JlYXRlX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lIGNyZWF0ZV9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZV9hdCA9IGNyZWF0ZV9hdDtcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9Nb2RlbC9CaWxsSGlzdG9yeS5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIEJpbGxIaXN0b3J5IHtcbiAgICBwcml2YXRlIGludCBiaWxsX2lkO1xuICAgIHByaXZhdGUgaW50IGNvbnRyYWN0X2lkO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlIGJpbGxpbmdfcGVyaW9kO1xuICAgIHByaXZhdGUgbG9uZyBhbW91bnQ7XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZTtcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7ICAgXG5cbiAgICBwdWJsaWMgQmlsbEhpc3RvcnkoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIEJpbGxIaXN0b3J5KGludCBiaWxsX2lkLCBpbnQgY29udHJhY3RfaWQsIExvY2FsRGF0ZSBiaWxsaW5nX3BlcmlvZCwgbG9uZyBhbW91bnQsIExvY2FsRGF0ZVRpbWUgcGF5bWVudF9kYXRlLCBTdHJpbmcgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuYmlsbF9pZCA9IGJpbGxfaWQ7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICAgICAgdGhpcy5iaWxsaW5nX3BlcmlvZCA9IGJpbGxpbmdfcGVyaW9kO1xuICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgICAgICAgdGhpcy5wYXltZW50X2RhdGUgPSBwYXltZW50X2RhdGU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0QmlsbF9pZCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbGxfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QmlsbF9pZChpbnQgYmlsbF9pZCkge1xuICAgICAgICB0aGlzLmJpbGxfaWQgPSBiaWxsX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0Q29udHJhY3RfaWQoKSB7XG4gICAgICAgIHJldHVybiBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDb250cmFjdF9pZChpbnQgY29udHJhY3RfaWQpIHtcbiAgICAgICAgdGhpcy5jb250cmFjdF9pZCA9IGNvbnRyYWN0X2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGUgZ2V0QmlsbGluZ19wZXJpb2QoKSB7XG4gICAgICAgIHJldHVybiBiaWxsaW5nX3BlcmlvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRCaWxsaW5nX3BlcmlvZChMb2NhbERhdGUgYmlsbGluZ19wZXJpb2QpIHtcbiAgICAgICAgdGhpcy5iaWxsaW5nX3BlcmlvZCA9IGJpbGxpbmdfcGVyaW9kO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb25nIGdldEFtb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIGFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBbW91bnQobG9uZyBhbW91bnQpIHtcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0UGF5bWVudF9kYXRlKCkge1xuICAgICAgICByZXR1cm4gcGF5bWVudF9kYXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBheW1lbnRfZGF0ZShMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZSkge1xuICAgICAgICB0aGlzLnBheW1lbnRfZGF0ZSA9IHBheW1lbnRfZGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdGF0dXMoU3RyaW5nIHN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG4gICAgXG4gICAgXG59XG4uLi5cblBhdGg6IG5icHJvamVjdC9jb25maWdzL1NpZ25VcC5wcm9wZXJ0aWVzXG5tYWluLmNsYXNzPWludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW0uU2lnblVwXG4uLi5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFDd3lMS1FHdHpacHU1WU5lbkpub1VLIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzI6MjcuMDM2WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgbG9vayBhdCB0aGUgZGF0YWJhc2Ugc2NoZW1hIHRvIHVuZGVyc3RhbmQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVmMzdhMTdjLTE4MzgtNDkwMS1hODJmLWZlMjJkMmExMDQ5ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE1cWtCeGtmb2JqZTZtZ3N5VWl4WTdYIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXCJ9IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSBzZWUgdGhlIGlzc3VlIG5vdy4gTGV0IG1lIGFuYWx5emUgdGhlIHByb2JsZW0gYW5kIHByb3ZpZGUgYSBzb2x1dGlvbi5cblxuIyMgUHJvYmxlbSBBbmFseXNpc1xuXG5BZnRlciBleGFtaW5pbmcgdGhlIGNvZGUsIEkgY2FuIGlkZW50aWZ5IHRoZSByb290IGNhdXNlIG9mIHRoZSBlcnJvcjpcblxuMS4gVGhlIGVycm9yIGlzIGEgZm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb246IGBDYW5ub3QgYWRkIG9yIHVwZGF0ZSBhIGNoaWxkIHJvdzogYSBmb3JlaWduIGtleSBjb25zdHJhaW50IGZhaWxzIChJbnRlcm5ldERCLlNVQlNDUklCRVIsIENPTlNUUkFJTlQgU1VCU0NSSUJFUl9pYmZrXzEgRk9SRUlHTiBLRVkgKHVzZXJfaWQpIFJFRkVSRU5DRVMgVVNFUiAodXNlcl9pZCkpYFxuXG4yLiBUaGlzIGhhcHBlbnMgaW4gdGhlIGBTdWJzY3JpYmVyREFPLmluc2VydCgpYCBtZXRob2Qgd2hlbiB0cnlpbmcgdG8gaW5zZXJ0IGEgcmVjb3JkIGludG8gdGhlIFNVQlNDUklCRVIgdGFibGUuXG5cbjMuIExvb2tpbmcgYXQgdGhlIGNvZGUgaW4gYFN1YnNjcmliZXJEQU8uamF2YWAsIEkgY2FuIHNlZSB0aGF0IGl0J3MgdHJ5aW5nIHRvIGluc2VydCByZWNvcmRzIGludG8gYm90aCB0aGUgVVNFUiBhbmQgU1VCU0NSSUJFUiB0YWJsZXMsIGJ1dCB0aGVyZSdzIGEgY3JpdGljYWwgaXNzdWU6XG5cbjQuIEluIHRoZSBgU2lnblVwLmphdmFgIGZpbGUsIHdoZW4gY3JlYXRpbmcgYSBuZXcgU3Vic2NyaWJlciBvYmplY3QsIHRoZSBgdXNlcl9pZGAgaXMgbm90IGJlaW5nIHNldCBiZWZvcmUgY2FsbGluZyBgU3Vic2NyaWJlckRBTy5pbnNlcnQoKWAuXG5cbiMjIERldGFpbGVkIFBsYW5cblxuSGVyZSdzIG15IHBsYW4gdG8gZml4IHRoZSBpc3N1ZTpcblxuMS4gTW9kaWZ5IHRoZSBgU3Vic2NyaWJlckRBTy5pbnNlcnQoKWAgbWV0aG9kIHRvOlxuICAgLSBHZW5lcmF0ZSBhIHVuaXF1ZSB1c2VyX2lkIGluc3RlYWQgb2YgZXhwZWN0aW5nIGl0IHRvIGJlIHNldFxuICAgLSBVc2UgdGhlIGdlbmVyYXRlZCB1c2VyX2lkIGZvciBib3RoIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzXG4gICAtIFByb3Blcmx5IGhhbmRsZSB0aGUgdHJhbnNhY3Rpb25cblxuIyMgSW1wbGVtZW50YXRpb25cblxuTGV0J3MgbWFrZSB0aGUgbmVjZXNzYXJ5IGNoYW5nZXM6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAxXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIFx1MDAxYls/OTAwMWhcdTAwMWJbPzEwMDRoXHUwMDFiWz8yNWxcdTAwMWJbMkpcdTAwMWJbbVx1MDAxYltIXG5cblxuXG5cblxuXG5cdTAwMWJbSFx1MDAxYl0wO0M6XFxXaW5kb3dzXFxTeXN0ZW0zMlxcV2luZG93c1Bvd2VyU2hlbGxcXHYxLjBcXHBvd2Vyc2hlbGwuZXhlXHUwMDA3XHUwMDFiWz8yNWhcdTAwMWJbMzg7NTs5bW15c3FsIDogVGhlIHRlcm0gJ215c3FsJyBpcyBub3QgcmVjb2duaXplZCBhcyB0aGUgbmFtZSBvZiBhIGNtZGxldCwgZnVuY3Rpb24sIHNjcmlwdCBmaWxlLCBvciBvcGVyYWJsZSBwcm9ncmFtLiBDaGVjayB0aGUgc3BlbGxpbmcgb2YgdGhlIG5hbWUsIG9yIGlmIGEgcGF0aCB3YXMgaW5jbHVkZWQsIHZlcmlmeSBcbnRoYXQgdGhlIHBhdGggaXMgY29ycmVjdCBhbmQgdHJ5IGFnYWluLlxuQXQgbGluZToxIGNoYXI6MVxuKyBteXNxbCAtaCAxMjUuMjEyLjIzMS4xODQgLVAgNjk2OSAtdSBtaW50b3JpMDkgLXAnTWludG9yeTA5QDk2JyAtZSBcIkRFIC4uLlxuKyB+fn5+flxuICAgICsgQ2F0ZWdvcnlJbmZvICAgICAgICAgIDogT2JqZWN0Tm90Rm91bmQ6IChteXNxbDpTdHJpbmcpIFtdLCBDb21tYW5kTm90Rm91bmRFeGNlcHRpb25cbiAgICArIEZ1bGx5UXVhbGlmaWVkRXJyb3JJZCA6IENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvblxuIFx1MDAxYlttXG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxWVFDNnZKM0dva1Mya0VtdTlMR1VBciJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozMjo0NS43MjNaIiwicmVzcG9uc2VfdGV4dCI6Ikkgc2VlIHRoZSBpc3N1ZSBub3cuIExldCBtZSBhbmFseXplIHRoZSBwcm9ibGVtIGFuZCBwcm92aWRlIGEgc29sdXRpb24uXG5cbiMjIFByb2JsZW0gQW5hbHlzaXNcblxuQWZ0ZXIgZXhhbWluaW5nIHRoZSBjb2RlLCBJIGNhbiBpZGVudGlmeSB0aGUgcm9vdCBjYXVzZSBvZiB0aGUgZXJyb3I6XG5cbjEuIFRoZSBlcnJvciBpcyBhIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uOiBgQ2Fubm90IGFkZCBvciB1cGRhdGUgYSBjaGlsZCByb3c6IGEgZm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlscyAoSW50ZXJuZXREQi5TVUJTQ1JJQkVSLCBDT05TVFJBSU5UIFNVQlNDUklCRVJfaWJma18xIEZPUkVJR04gS0VZICh1c2VyX2lkKSBSRUZFUkVOQ0VTIFVTRVIgKHVzZXJfaWQpKWBcblxuMi4gVGhpcyBoYXBwZW5zIGluIHRoZSBgU3Vic2NyaWJlckRBTy5pbnNlcnQoKWAgbWV0aG9kIHdoZW4gdHJ5aW5nIHRvIGluc2VydCBhIHJlY29yZCBpbnRvIHRoZSBTVUJTQ1JJQkVSIHRhYmxlLlxuXG4zLiBMb29raW5nIGF0IHRoZSBjb2RlIGluIGBTdWJzY3JpYmVyREFPLmphdmFgLCBJIGNhbiBzZWUgdGhhdCBpdCdzIHRyeWluZyB0byBpbnNlcnQgcmVjb3JkcyBpbnRvIGJvdGggdGhlIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzLCBidXQgdGhlcmUncyBhIGNyaXRpY2FsIGlzc3VlOlxuXG40LiBJbiB0aGUgYFNpZ25VcC5qYXZhYCBmaWxlLCB3aGVuIGNyZWF0aW5nIGEgbmV3IFN1YnNjcmliZXIgb2JqZWN0LCB0aGUgYHVzZXJfaWRgIGlzIG5vdCBiZWluZyBzZXQgYmVmb3JlIGNhbGxpbmcgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgLlxuXG4jIyBEZXRhaWxlZCBQbGFuXG5cbkhlcmUncyBteSBwbGFuIHRvIGZpeCB0aGUgaXNzdWU6XG5cbjEuIE1vZGlmeSB0aGUgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgIG1ldGhvZCB0bzpcbiAgIC0gR2VuZXJhdGUgYSB1bmlxdWUgdXNlcl9pZCBpbnN0ZWFkIG9mIGV4cGVjdGluZyBpdCB0byBiZSBzZXRcbiAgIC0gVXNlIHRoZSBnZW5lcmF0ZWQgdXNlcl9pZCBmb3IgYm90aCBVU0VSIGFuZCBTVUJTQ1JJQkVSIHRhYmxlc1xuICAgLSBQcm9wZXJseSBoYW5kbGUgdGhlIHRyYW5zYWN0aW9uXG5cbiMjIEltcGxlbWVudGF0aW9uXG5cbkxldCdzIG1ha2UgdGhlIG5lY2Vzc2FyeSBjaGFuZ2VzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjNmNDQwM2YxLTkzNDYtNDY4OC1iOTIxLWM5ODRlYWI1ZTExZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFUY2FYQmFDeTM3YWJQaERHNkJtcVZFIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMjcwLCAyOTBdfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmE6XG4gICAgIDFcdC8qXG4gICAgIDJcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICAgICA0XHQgKi9cbiAgICAgNVx0cGFja2FnZSBEQU87XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDExXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDEyXHRcbiAgICAxM1x0LyoqXG4gICAgMTRcdCAqXG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTZcdCAqL1xuICAgIDE3XHRwdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcbiAgICAxOFx0XG4gICAgMTlcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KFN1YnNjcmliZXIgb2JqKSB7XG4gICAgMjBcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAyMVx0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1VzZXIgPSBudWxsO1xuICAgIDIyXHQgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzU3Vic2NyaWJlciA9IG51bGw7XG4gICAgMjNcdCAgICAgICAgXG4gICAgMjRcdCAgICAgICAgdHJ5IHtcbiAgICAyNVx0ICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgMjZcdCAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XG4gICAgMjdcdCAgICAgICAgICAgIFxuICAgIDI4XHQgICAgICAgICAgICBTdHJpbmcgc3FsVXNlciA9IFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICAyOVx0ICAgICAgICAgICAgcHNVc2VyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFVzZXIpO1xuICAgIDMwXHQgICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIG9iai5nZXRVc2VyX2lkKCkpO1xuICAgIDMxXHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcbiAgICAzMlx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgMzNcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgMzRcdCAgICAgICAgICAgIHBzVXNlci5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XG4gICAgMzVcdCAgICAgICAgICAgIHBzVXNlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgMzZcdCAgICAgICAgICAgIFxuICAgIDM3XHQgICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFwiSU5TRVJUIElOVE8gU1VCU0NSSUJFUiAoc3Vic2NyaWJlcl9pZCwgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICAzOFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xuICAgIDM5XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDEsIG9iai5nZXRTdWJzY3JpYmVyX2lkKCkpO1xuICAgIDQwXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA0MVx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICA0Mlx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgNDNcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgb2JqLmdldFVzZXJfaWQoKSk7XG4gICAgNDRcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgNDVcdCAgICAgICAgICAgIFxuICAgIDQ2XHQgICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xuICAgIDQ3XHQgICAgICAgIH1cbiAgICA0OFx0ICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA0OVx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA1MFx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgICA1MVx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgICA1Mlx0ICAgICAgICAgICAgICAgIHJvbGxiYWNrRXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNTNcdCAgICAgICAgICAgIH1cbiAgICA1NFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA1NVx0ICAgICAgICB9IGZpbmFsbHkge1xuICAgIDU2XHQgICAgICAgICAgICB0cnkge1xuICAgIDU3XHQgICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcbiAgICA1OFx0ICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XG4gICAgNTlcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgNjBcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgIDYxXHQgICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICB9XG4gICAgNjRcdCAgICB9XG4gICAgNjVcdFxuICAgIDY2XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDY3XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDY4XHQgICAgfVxuICAgIDY5XHRcbiAgICA3MFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBkZWxldGUoaW50IGlkKSB7XG4gICAgNzFcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzJcdCAgICB9XG4gICAgNzNcdFxuICAgIDc0XHQgICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgNzVcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNzZcdCAgICB9XG4gICAgNzdcdFxuICAgIDc4XHQgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICA3OVx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA4MFx0ICAgIH1cbiAgICA4MVx0ICAgIFxuICAgIDgyXHR9XG4gICAgODNcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogODNcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDE1cWtCeGtmb2JqZTZtZ3N5VWl4WTdYIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjMyOjU0LjAzNVoiLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVhYjNiODVkLWEzMDUtNDNkNC1hYTM3LTI0NTJmMTMxOGM4MSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFKa1plVHV2MlJQR1BYNVpGV1pEeXptIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XCIsIFwibmV3X3N0clwiOiBcImltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMX0sIHtcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xcbiAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcXFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcXFwiO1xcbiAgICAgICAgICAgIHBzVXNlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxVc2VyKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIG9iai5nZXRVc2VyX2lkKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcXG4gICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXFxcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBvYmouZ2V0U3Vic2NyaWJlcl9pZCgpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgb2JqLmdldFVzZXJfaWQoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBjb25uLmNvbW1pdCgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XFxuICAgICAgICAgICAgICAgIHJvbGxiYWNrRXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHVzZXJfaWRcXG4gICAgICAgICAgICBpbnQgdXNlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXFxcIlVTRVJcXFwiLCBcXFwidXNlcl9pZFxcXCIpO1xcbiAgICAgICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgc3Vic2NyaWJlcl9pZFxcbiAgICAgICAgICAgIGludCBzdWJzY3JpYmVySWQgPSBnZW5lcmF0ZU5leHRJZChjb25uLCBcXFwiU1VCU0NSSUJFUlxcXCIsIFxcXCJzdWJzY3JpYmVyX2lkXFxcIik7XFxuICAgICAgICAgICAgb2JqLnNldFN1YnNjcmliZXJfaWQoc3Vic2NyaWJlcklkKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0XFxuICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcXFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcXFwiO1xcbiAgICAgICAgICAgIHBzVXNlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxVc2VyKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIHVzZXJJZCk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xcbiAgICAgICAgICAgIHBzVXNlci5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVGhlbiBpbnNlcnQgaW50byBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggdGhlIHNhbWUgdXNlcl9pZFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXFxcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCB1c2VySWQpOyAvLyBVc2UgdGhlIHNhbWUgdXNlcl9pZFxcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgY29ubi5jb21taXQoKTtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTAxMDNuZyBrXFx1MDBmZCB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiTFxcdTFlZDdpOiBcXFwiICsgZS5nZXRNZXNzYWdlKCksIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKHBzVXNlciAhPSBudWxsKSBwc1VzZXIuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA2M31dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJJ2xsIG1vZGlmeSB0aGUgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgIG1ldGhvZCB0byBmaXggdGhlIGlzc3VlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YTpcbiAgIDI3MFx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI3MVx0ICAgICAgICBTdWJzY3JpYmVyIHN1YiA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAyNzJcdCAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3M1x0ICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3NFx0ICAgICAgICBzdWIuc2V0UGFzc3dvcmQodHh0UGFzc3dvcmQuZ2V0VGV4dCgpKTtcbiAgIDI3NVx0ICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgMjc2XHQgICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcbiAgIDI3N1x0ICAgICAgICBzdWIuc2V0UGhvbmUodHh0UGhvbmUuZ2V0VGV4dCgpKTtcbiAgIDI3OFx0ICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgMjc5XHQgICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XG4gICAyODBcdCAgICAgICAgY2xlYXIoKTtcbiAgIDI4MVx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFxuICAgMjgyXHRcbiAgIDI4M1x0ICAgIHByaXZhdGUgdm9pZCB0eHROYW1lS2V5UmVsZWFzZWQoamF2YS5hd3QuZXZlbnQuS2V5RXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4gICAyODRcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyODVcdCAgICAgICAgdmFsaWRhdGVGaWVsZHMoKTtcbiAgIDI4Nlx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuICAgMjg3XHRcbiAgIDI4OFx0ICAgIHByaXZhdGUgdm9pZCB0eHRVc2VyTmFtZUtleVJlbGVhc2VkKGphdmEuYXd0LmV2ZW50LktleUV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X3R4dFVzZXJOYW1lS2V5UmVsZWFzZWRcbiAgIDI4OVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI5MFx0ICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuVG90YWwgbGluZXMgaW4gZmlsZTogMzY1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVGNhWEJhQ3kzN2FiUGhERzZCbXFWRSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozMjo1Ny4xMzlaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIG1vZGlmeSB0aGUgYFN1YnNjcmliZXJEQU8uaW5zZXJ0KClgIG1ldGhvZCB0byBmaXggdGhlIGlzc3VlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiNWFiOWI0OGEtZjM5My00ZjFjLWJlZmEtOTFmZDg4MTdhNWEzIiwidXVpZCI6Ijg1ZjAyYzBhLWU1YTEtNDhhYy05OWViLWI4YTM2NzU1NDEwMCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0Njk1NTg4NDg5MSwidG9UaW1lc3RhbXAiOjE3NDY5NTYwNTc5NDUsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVmNjI5MTlmLTRiYzAtNDQ4ZS05ZjdmLTBhYzNkZjg1NmU5YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFXWnY1Ykx3Q1ZkZTJ3V01GaWpiSGF6IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcXG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcXFwiTm90IHN1cHBvcnRlZCB5ZXQuXFxcIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcXG4gICAgfVxcbiAgICBcXG59XCIsIFwibmV3X3N0clwiOiBcIiAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFxcXCJOb3Qgc3VwcG9ydGVkIHlldC5cXFwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxcbiAgICB9XFxuICAgIFxcbiAgICAvKipcXG4gICAgICogR2VuZXJhdGUgdGhlIG5leHQgYXZhaWxhYmxlIElEIGZvciBhIHRhYmxlXFxuICAgICAqIEBwYXJhbSBjb25uIERhdGFiYXNlIGNvbm5lY3Rpb25cXG4gICAgICogQHBhcmFtIHRhYmxlTmFtZSBOYW1lIG9mIHRoZSB0YWJsZVxcbiAgICAgKiBAcGFyYW0gaWRDb2x1bW5OYW1lIE5hbWUgb2YgdGhlIElEIGNvbHVtblxcbiAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXFxuICAgICAqIEB0aHJvd3MgRXhjZXB0aW9uIElmIGFuIGVycm9yIG9jY3Vyc1xcbiAgICAgKi9cXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW50IGdlbmVyYXRlTmV4dElkKENvbm5lY3Rpb24gY29ubiwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XFxuICAgICAgICBpbnQgbmV4dElkID0gMTsgLy8gRGVmYXVsdCBzdGFydGluZyBJRFxcbiAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcXG4gICAgICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIE1BWChcXFwiICsgaWRDb2x1bW5OYW1lICsgXFxcIikgQVMgbWF4X2lkIEZST00gXFxcIiArIHRhYmxlTmFtZTtcXG4gICAgICAgICAgICBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgIGludCBtYXhJZCA9IHJzLmdldEludChcXFwibWF4X2lkXFxcIik7XFxuICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xcbiAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIG5leHRJZDtcXG4gICAgfVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDc4LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDgyfV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEkgbmVlZCB0byBhZGQgdGhlIGBnZW5lcmF0ZU5leHRJZGAgbWV0aG9kIHRvIHRoZSBgU3Vic2NyaWJlckRBT2AgY2xhc3M6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG4gICAgMTFcdGltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG4gICAgMTJcdGltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XG4gICAgMTNcdGltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG4gICAgMTRcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAxNVx0XG4gICAgMTZcdC8qKlxuICAgIDE3XHQgKlxuICAgIDE4XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDE4XHQgKiBAYXV0aG9yIE5nb2MgVGhhb1xuICAgIDE5XHQgKi9cbiAgICAyMFx0cHVibGljIGNsYXNzIFN1YnNjcmliZXJEQU97XG4gICAgMjFcdFxuICAgIDIyXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xuICAgIDIzXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgMjRcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAyNVx0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xuICAgIDI2XHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgICAgIHRyeSB7XG4gICAgMjlcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDMwXHQgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuICAgIDMxXHRcbiAgICAzMlx0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgdXNlcl9pZFxuICAgIDMzXHQgICAgICAgICAgICBpbnQgdXNlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAzNFx0ICAgICAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIHN1YnNjcmliZXJfaWRcbiAgICAzN1x0ICAgICAgICAgICAgaW50IHN1YnNjcmliZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFwiU1VCU0NSSUJFUlwiLCBcInN1YnNjcmliZXJfaWRcIik7XG4gICAgMzhcdCAgICAgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG4gICAgMzlcdFxuICAgIDQwXHQgICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0XG4gICAgNDFcdCAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDQyXHQgICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XG4gICAgNDNcdCAgICAgICAgICAgIHBzVXNlci5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICA0NFx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgNDVcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMywgb2JqLmdldFBhc3N3b3JkKCkpO1xuICAgIDQ2XHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDQ3XHQgICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDQ4XHQgICAgICAgICAgICBwc1VzZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDQ5XHRcbiAgICA1MFx0ICAgICAgICAgICAgLy8gVGhlbiBpbnNlcnQgaW50byBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggdGhlIHNhbWUgdXNlcl9pZFxuICAgIDUxXHQgICAgICAgICAgICBTdHJpbmcgc3FsU3Vic2NyaWJlciA9IFwiSU5TRVJUIElOVE8gU1VCU0NSSUJFUiAoc3Vic2NyaWJlcl9pZCwgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA1Mlx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xuICAgIDUzXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XG4gICAgNTRcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgIDU1XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgIDU2XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA1N1x0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCB1c2VySWQpOyAvLyBVc2UgdGhlIHNhbWUgdXNlcl9pZFxuICAgIDU4XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICA2MVx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIiwgXCJUaMO0bmcgYsOhb1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICA2Mlx0ICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNjRcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNjVcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XG4gICAgNjZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgNjdcdCAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDY4XHQgICAgICAgICAgICB9XG4gICAgNjlcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZS5nZXRNZXNzYWdlKCksIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNzBcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzFcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICA3Mlx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA3M1x0ICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgIDc0XHQgICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcbiAgICA3NVx0ICAgICAgICAgICAgICAgIGlmIChwc1VzZXIgIT0gbnVsbCkgcHNVc2VyLmNsb3NlKCk7XG4gICAgNzZcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgNzdcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgIDc4XHQgICAgICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzlcdCAgICAgICAgICAgIH1cbiAgICA4MFx0ICAgICAgICB9XG4gICAgODFcdCAgICB9XG4gICAgODJcdFxuICAgIDgzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDg0XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxSmtaZVR1djJSUEdQWDVaRldaRHl6bSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNDoyMi43MThaIiwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIG5lZWQgdG8gYWRkIHRoZSBgZ2VuZXJhdGVOZXh0SWRgIG1ldGhvZCB0byB0aGUgYFN1YnNjcmliZXJEQU9gIGNsYXNzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNlZGQyOWI0LWNjZmMtNGFhNi05MDgzLTJmNDEwYjdhYWUyZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFUSDl2M3dTbTlENnZIOThkZzQ4N2dWIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHZvaWQgdmFsaWRhdGVGaWVsZHMoKXtcXG4gICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xcbiAgICAgICAgXFxuICAgICAgICBpZihuYW1lLmVxdWFscyhcXFwiXFxcIikgJiYgdXNlck5hbWUuZXF1YWxzKFxcXCJcXFwiKSAmJiBwYXNzd29yZC5lcXVhbHMoXFxcIlxcXCIpICYmIGFkZHJlc3MuZXF1YWxzKFxcXCJcXFwiKSAmJiBwaG9uZS5lcXVhbHMoXFxcIlxcXCIpKXtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiVnVpIGxcXHUwMGYybmcga2hcXHUwMGY0bmcgYlxcdTFlY2YgdHJcXHUxZWQxbmchXFxcIiwgXFxcIlRoXFx1MDBmNG5nIGJcXHUwMGUxb1xcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgfVxcbiAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSA9PSAxMCAmJiBwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiVnVpIGxcXHUwMGYybmcgbmhcXHUxZWFkcCBcXHUwMTExXFx1MDBmYW5nIFxcdTAxMTFcXHUxZWNibmggZFxcdTFlYTFuZyBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGVsc2Uge1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVGaWVsZHMoKXtcXG4gICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xcbiAgICAgICAgXFxuICAgICAgICBpZihuYW1lLmlzRW1wdHkoKSB8fCB1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpIHx8IGFkZHJlc3MuaXNFbXB0eSgpIHx8IHBob25lLmlzRW1wdHkoKSl7XFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIlZ1aSBsXFx1MDBmMm5nIGtoXFx1MDBmNG5nIGJcXHUxZWNmIHRyXFx1MWVkMW5nIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgICAgICBlbHNlIGlmKHBob25lLmxlbmd0aCgpICE9IDEwIHx8ICFwaG9uZS5tYXRjaGVzKHBob25lUGF0dGVybikpIHtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiVnVpIGxcXHUwMGYybmcgbmhcXHUxZWFkcCBcXHUwMTExXFx1MDBmYW5nIFxcdTAxMTFcXHUxZWNibmggZFxcdTFlYTFuZyBzXFx1MWVkMSBcXHUwMTExaVxcdTFlYzduIHRob1xcdTFlYTFpIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMzEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDV9LCB7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcXG4gICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcXG4gICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XFxuICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcXG4gICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xcbiAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcXG4gICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcXG4gICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xcbiAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcXG4gICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XFxuICAgICAgICBjbGVhcigpO1xcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcIiwgXCJuZXdfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXFxuICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcXG4gICAgICAgIGlmICh2YWxpZGF0ZUZpZWxkcygpKSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xcbiAgICAgICAgICAgICAgICBzdWIuc2V0RnVsbE5hbWUodHh0TmFtZS5nZXRUZXh0KCkpO1xcbiAgICAgICAgICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XFxuICAgICAgICAgICAgICAgIHN1Yi5zZXRSb2xlKERFRkFVTFRfUk9MRSk7XFxuICAgICAgICAgICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XFxuICAgICAgICAgICAgICAgIHN1Yi5zZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZS5ub3coKSk7XFxuICAgICAgICAgICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XFxuICAgICAgICAgICAgICAgIGNsZWFyKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFxcXCJMXFx1MWVkN2k6IFxcXCIgKyBleC5nZXRNZXNzYWdlKCksIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blNpZ251cEFjdGlvblBlcmZvcm1lZFwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjcwLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDI4Mn1dfSIsIm1jcF9zZXJ2ZXJfbmFtZSI6IiIsIm1jcF90b29sX25hbWUiOiIifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBhbHNvIHVwZGF0ZSB0aGUgU2lnblVwIGNsYXNzIHRvIGhhbmRsZSB2YWxpZGF0aW9uIGJldHRlciBhbmQgcHJvdmlkZSBtb3JlIHVzZXIgZmVlZGJhY2s6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA5MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgIDkyXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDkzXHQgICAgfVxuICAgIDk0XHRcbiAgICA5NVx0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgOTZcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgOTdcdCAgICB9XG4gICAgOThcdFxuICAgIDk5XHQgICAgLyoqXG4gICAxMDBcdCAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcbiAgIDEwMVx0ICAgICAqIEBwYXJhbSBjb25uIERhdGFiYXNlIGNvbm5lY3Rpb25cbiAgIDEwMlx0ICAgICAqIEBwYXJhbSB0YWJsZU5hbWUgTmFtZSBvZiB0aGUgdGFibGVcbiAgIDEwM1x0ICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXG4gICAxMDRcdCAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXG4gICAxMDVcdCAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbiBJZiBhbiBlcnJvciBvY2N1cnNcbiAgIDEwNlx0ICAgICAqL1xuICAgMTA3XHQgICAgcHJpdmF0ZSBzdGF0aWMgaW50IGdlbmVyYXRlTmV4dElkKENvbm5lY3Rpb24gY29ubiwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAxMDhcdCAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcbiAgIDEwOVx0ICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IG51bGw7XG4gICAxMTBcdCAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgIDExMVx0XG4gICAxMTJcdCAgICAgICAgdHJ5IHtcbiAgIDExM1x0ICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAxMTRcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgIDExNVx0ICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAxMTZcdFxuICAgMTE3XHQgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAxMThcdCAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAxMTlcdCAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XG4gICAxMjBcdCAgICAgICAgICAgIH1cbiAgIDEyMVx0ICAgICAgICB9IGZpbmFsbHkge1xuICAgMTIyXHQgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgIDEyM1x0ICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xuICAgMTI0XHQgICAgICAgIH1cbiAgIDEyNVx0XG4gICAxMjZcdCAgICAgICAgcmV0dXJuIG5leHRJZDtcbiAgIDEyN1x0ICAgIH1cbiAgIDEyOFx0fVxuICAgMTI5XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVdadjViTHdDVmRlMndXTUZpamJIYXoifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0iLCJmb2xkZXJSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjIsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIn19fV0sInRpbWVzdGFtcCI6IjIwMjUtMDUtMTFUMDk6MzQ6MzMuMDc5WiIsInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgYWxzbyB1cGRhdGUgdGhlIFNpZ25VcCBjbGFzcyB0byBoYW5kbGUgdmFsaWRhdGlvbiBiZXR0ZXIgYW5kIHByb3ZpZGUgbW9yZSB1c2VyIGZlZWRiYWNrOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNkM2FjN2Q5LTZmNTItNGVlNS05YmUwLTQxYWM5NTQ5YWFkZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE0cGJ4WHZZb1ZVQ0VZSG5kanZpVE1EIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgIHJldHVybiB0cnVlO1xcbiAgICB9XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNDksIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNTF9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJUaGVyZSBzZWVtcyB0byBiZSBhbiBleHRyYSBjbG9zaW5nIGJyYWNlIGluIHRoZSBTaWduVXAuamF2YSBmaWxlLiBMZXQncyBmaXggdGhhdDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDMxXHQgICAgICAgIHR4dEFkZHJlc3Muc2V0VGV4dChcIlwiKTtcbiAgICAzMlx0ICAgICAgICB0eHRQaG9uZS5zZXRUZXh0KFwiXCIpO1xuICAgIDMzXHQgICAgfVxuICAgIDM0XHRcbiAgICAzNVx0ICAgIHB1YmxpYyBib29sZWFuIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgMzZcdCAgICAgICAgU3RyaW5nIG5hbWUgPSB0eHROYW1lLmdldFRleHQoKTtcbiAgICAzN1x0ICAgICAgICBTdHJpbmcgdXNlck5hbWUgPSB0eHRVc2VyTmFtZS5nZXRUZXh0KCk7XG4gICAgMzhcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgIDM5XHQgICAgICAgIFN0cmluZyBhZGRyZXNzID0gdHh0QWRkcmVzcy5nZXRUZXh0KCk7XG4gICAgNDBcdCAgICAgICAgU3RyaW5nIHBob25lID0gdHh0UGhvbmUuZ2V0VGV4dCgpO1xuICAgIDQxXHRcbiAgICA0Mlx0ICAgICAgICBpZihuYW1lLmlzRW1wdHkoKSB8fCB1c2VyTmFtZS5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpIHx8IGFkZHJlc3MuaXNFbXB0eSgpIHx8IHBob25lLmlzRW1wdHkoKSl7XG4gICAgNDNcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIGtow7RuZyBi4buPIHRy4buRbmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDRcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0NVx0ICAgICAgICB9XG4gICAgNDZcdCAgICAgICAgZWxzZSBpZihwaG9uZS5sZW5ndGgoKSAhPSAxMCB8fCAhcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgNDdcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiVnVpIGzDsm5nIG5o4bqtcCDEkcO6bmcgxJHhu4tuaCBk4bqhbmcgc+G7kSDEkWnhu4duIHRob+G6oWkhXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNDhcdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICA0OVx0ICAgICAgICB9XG4gICAgNTBcdCAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgNTFcdCAgICB9XG4gICAgNTJcdCAgICB9XG4gICAgNTNcdFxuICAgIDU0XHQgICAgLyoqXG4gICAgNTVcdCAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yIHRvIGluaXRpYWxpemUgdGhlIGZvcm0uXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAyNjZcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNjdcdFxuICAgMjY4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuUmV0dXJuQWN0aW9uUGVyZm9ybWVkXG4gICAyNjlcdFxuICAgMjcwXHQgICAgcHJpdmF0ZSB2b2lkIGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZChqYXZhLmF3dC5ldmVudC5BY3Rpb25FdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI3MVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI3Mlx0ICAgICAgICBpZiAodmFsaWRhdGVGaWVsZHMoKSkge1xuICAgMjczXHQgICAgICAgICAgICB0cnkge1xuICAgMjc0XHQgICAgICAgICAgICAgICAgU3Vic2NyaWJlciBzdWIgPSBuZXcgU3Vic2NyaWJlcigpO1xuICAgMjc1XHQgICAgICAgICAgICAgICAgc3ViLnNldEZ1bGxOYW1lKHR4dE5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3Nlx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgMjc3XHQgICAgICAgICAgICAgICAgc3ViLnNldFBhc3N3b3JkKHR4dFBhc3N3b3JkLmdldFRleHQoKSk7XG4gICAyNzhcdCAgICAgICAgICAgICAgICBzdWIuc2V0Um9sZShERUZBVUxUX1JPTEUpO1xuICAgMjc5XHQgICAgICAgICAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgMjgwXHQgICAgICAgICAgICAgICAgc3ViLnNldFBob25lKHR4dFBob25lLmdldFRleHQoKSk7XG4gICAyODFcdCAgICAgICAgICAgICAgICBzdWIuc2V0Q3JlYXRlX2F0KExvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAgMjgyXHQgICAgICAgICAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgIDI4M1x0ICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAyODRcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgMjg1XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXCJM4buXaTogXCIgKyBleC5nZXRNZXNzYWdlKCksIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAyODZcdCAgICAgICAgICAgIH1cbiAgIDI4N1x0ICAgICAgICB9XG4gICAyODhcdCAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcbiAgIDI4OVx0XG4gICAyOTBcdCAgICBwcml2YXRlIHZvaWQgdHh0TmFtZUtleVJlbGVhc2VkKGphdmEuYXd0LmV2ZW50LktleUV2ZW50IGV2dCkgey8vR0VOLUZJUlNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuICAgMjkxXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjkyXHQgICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFUSDl2M3dTbTlENnZIOThkZzQ4N2dWIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjM0OjQ5LjUzM1oiLCJyZXNwb25zZV90ZXh0IjoiVGhlcmUgc2VlbXMgdG8gYmUgYW4gZXh0cmEgY2xvc2luZyBicmFjZSBpbiB0aGUgU2lnblVwLmphdmEgZmlsZS4gTGV0J3MgZml4IHRoYXQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjU2ZThkOWMtZTQxMy00NThjLWJjNmEtOWY2ZmQ1ZWU2NDE2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbkkndmUgZml4ZWQgdGhlIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgZXJyb3IgYnkgbWFraW5nIHRoZSBmb2xsb3dpbmcgY2hhbmdlczpcblxuMS4gKipJbiBTdWJzY3JpYmVyREFPLmphdmEqKjpcbiAgIC0gQWRkZWQgYSBgZ2VuZXJhdGVOZXh0SWRgIG1ldGhvZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIHVuaXF1ZSBJRHMgZm9yIGJvdGggVVNFUiBhbmQgU1VCU0NSSUJFUiB0YWJsZXNcbiAgIC0gTW9kaWZpZWQgdGhlIGBpbnNlcnRgIG1ldGhvZCB0bzpcbiAgICAgLSBHZW5lcmF0ZSBhbmQgc2V0IHVzZXJfaWQgYW5kIHN1YnNjcmliZXJfaWQgYXV0b21hdGljYWxseVxuICAgICAtIEluc2VydCBpbnRvIFVTRVIgdGFibGUgZmlyc3QsIHRoZW4gU1VCU0NSSUJFUiB0YWJsZSB3aXRoIHRoZSBzYW1lIHVzZXJfaWRcbiAgICAgLSBBZGRlZCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmcgYW5kIHVzZXIgZmVlZGJhY2tcbiAgICAgLSBQcm9wZXJseSBtYW5hZ2UgZGF0YWJhc2UgcmVzb3VyY2VzXG5cbjIuICoqSW4gU2lnblVwLmphdmEqKjpcbiAgIC0gSW1wcm92ZWQgdGhlIGB2YWxpZGF0ZUZpZWxkc2AgbWV0aG9kIHRvOlxuICAgICAtIFJldHVybiBhIGJvb2xlYW4gdmFsdWUgdG8gaW5kaWNhdGUgdmFsaWRhdGlvbiBzdWNjZXNzL2ZhaWx1cmVcbiAgICAgLSBGaXggdGhlIGxvZ2ljIGZvciBlbXB0eSBmaWVsZCBjaGVja2luZyAodXNpbmcgT1IgaW5zdGVhZCBvZiBBTkQpXG4gICAgIC0gRml4IHRoZSBwaG9uZSB2YWxpZGF0aW9uIGxvZ2ljXG4gICAtIEVuaGFuY2VkIHRoZSBgYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkYCBtZXRob2QgdG86XG4gICAgIC0gT25seSBwcm9jZWVkIHdpdGggc2lnbnVwIGlmIHZhbGlkYXRpb24gcGFzc2VzXG4gICAgIC0gQWRkIHRyeS1jYXRjaCBmb3IgYmV0dGVyIGVycm9yIGhhbmRsaW5nXG5cbiMjIEV4cGxhbmF0aW9uIG9mIHRoZSBGaXhcblxuVGhlIHJvb3QgY2F1c2Ugb2YgdGhlIGVycm9yIHdhcyB0aGF0IHdoZW4gY3JlYXRpbmcgYSBuZXcgU3Vic2NyaWJlciwgdGhlIHVzZXJfaWQgd2FzIG5vdCBiZWluZyBzZXQgYmVmb3JlIGluc2VydGluZyBpbnRvIHRoZSBkYXRhYmFzZS4gVGhlIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgcmVxdWlyZXMgdGhhdCB0aGUgdXNlcl9pZCBpbiB0aGUgU1VCU0NSSUJFUiB0YWJsZSBtdXN0IGV4aXN0IGluIHRoZSBVU0VSIHRhYmxlLlxuXG5UaGUgc29sdXRpb24gYXV0b21hdGljYWxseSBnZW5lcmF0ZXMgSURzIGZvciBib3RoIHRhYmxlcyBhbmQgZW5zdXJlcyB0aGF0IHRoZSBVU0VSIHJlY29yZCBpcyBpbnNlcnRlZCBmaXJzdCwgZm9sbG93ZWQgYnkgdGhlIFNVQlNDUklCRVIgcmVjb3JkIHdpdGggdGhlIHNhbWUgdXNlcl9pZC4gVGhpcyBtYWludGFpbnMgdGhlIGZvcmVpZ24ga2V5IHJlbGF0aW9uc2hpcCBhbmQgcHJldmVudHMgdGhlIGNvbnN0cmFpbnQgdmlvbGF0aW9uLlxuXG5BZGRpdGlvbmFsbHksIEkndmUgaW1wcm92ZWQgdGhlIHZhbGlkYXRpb24gYW5kIGVycm9yIGhhbmRsaW5nIHRvIHByb3ZpZGUgYmV0dGVyIGZlZWRiYWNrIHRvIHRoZSB1c2VyIGFuZCBwcmV2ZW50IGludmFsaWQgZGF0YSBmcm9tIGJlaW5nIHN1Ym1pdHRlZC5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDQ2XHQgICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDQ3XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ4XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUxXHQgICAgfVxuICAgIDUyXHRcbiAgICA1M1x0ICAgIC8qKlxuICAgIDU0XHQgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuICAgIDU1XHQgICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNHBieFh2WW9WVUNFWUhuZGp2aVRNRCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNDo1NC44MTZaIiwicmVzcG9uc2VfdGV4dCI6IiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG5JJ3ZlIGZpeGVkIHRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IGVycm9yIGJ5IG1ha2luZyB0aGUgZm9sbG93aW5nIGNoYW5nZXM6XG5cbjEuICoqSW4gU3Vic2NyaWJlckRBTy5qYXZhKio6XG4gICAtIEFkZGVkIGEgYGdlbmVyYXRlTmV4dElkYCBtZXRob2QgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBib3RoIFVTRVIgYW5kIFNVQlNDUklCRVIgdGFibGVzXG4gICAtIE1vZGlmaWVkIHRoZSBgaW5zZXJ0YCBtZXRob2QgdG86XG4gICAgIC0gR2VuZXJhdGUgYW5kIHNldCB1c2VyX2lkIGFuZCBzdWJzY3JpYmVyX2lkIGF1dG9tYXRpY2FsbHlcbiAgICAgLSBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0LCB0aGVuIFNVQlNDUklCRVIgdGFibGUgd2l0aCB0aGUgc2FtZSB1c2VyX2lkXG4gICAgIC0gQWRkZWQgYmV0dGVyIGVycm9yIGhhbmRsaW5nIGFuZCB1c2VyIGZlZWRiYWNrXG4gICAgIC0gUHJvcGVybHkgbWFuYWdlIGRhdGFiYXNlIHJlc291cmNlc1xuXG4yLiAqKkluIFNpZ25VcC5qYXZhKio6XG4gICAtIEltcHJvdmVkIHRoZSBgdmFsaWRhdGVGaWVsZHNgIG1ldGhvZCB0bzpcbiAgICAgLSBSZXR1cm4gYSBib29sZWFuIHZhbHVlIHRvIGluZGljYXRlIHZhbGlkYXRpb24gc3VjY2Vzcy9mYWlsdXJlXG4gICAgIC0gRml4IHRoZSBsb2dpYyBmb3IgZW1wdHkgZmllbGQgY2hlY2tpbmcgKHVzaW5nIE9SIGluc3RlYWQgb2YgQU5EKVxuICAgICAtIEZpeCB0aGUgcGhvbmUgdmFsaWRhdGlvbiBsb2dpY1xuICAgLSBFbmhhbmNlZCB0aGUgYGJ0blNpZ251cEFjdGlvblBlcmZvcm1lZGAgbWV0aG9kIHRvOlxuICAgICAtIE9ubHkgcHJvY2VlZCB3aXRoIHNpZ251cCBpZiB2YWxpZGF0aW9uIHBhc3Nlc1xuICAgICAtIEFkZCB0cnktY2F0Y2ggZm9yIGJldHRlciBlcnJvciBoYW5kbGluZ1xuXG4jIyBFeHBsYW5hdGlvbiBvZiB0aGUgRml4XG5cblRoZSByb290IGNhdXNlIG9mIHRoZSBlcnJvciB3YXMgdGhhdCB3aGVuIGNyZWF0aW5nIGEgbmV3IFN1YnNjcmliZXIsIHRoZSB1c2VyX2lkIHdhcyBub3QgYmVpbmcgc2V0IGJlZm9yZSBpbnNlcnRpbmcgaW50byB0aGUgZGF0YWJhc2UuIFRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IHJlcXVpcmVzIHRoYXQgdGhlIHVzZXJfaWQgaW4gdGhlIFNVQlNDUklCRVIgdGFibGUgbXVzdCBleGlzdCBpbiB0aGUgVVNFUiB0YWJsZS5cblxuVGhlIHNvbHV0aW9uIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIElEcyBmb3IgYm90aCB0YWJsZXMgYW5kIGVuc3VyZXMgdGhhdCB0aGUgVVNFUiByZWNvcmQgaXMgaW5zZXJ0ZWQgZmlyc3QsIGZvbGxvd2VkIGJ5IHRoZSBTVUJTQ1JJQkVSIHJlY29yZCB3aXRoIHRoZSBzYW1lIHVzZXJfaWQuIFRoaXMgbWFpbnRhaW5zIHRoZSBmb3JlaWduIGtleSByZWxhdGlvbnNoaXAgYW5kIHByZXZlbnRzIHRoZSBjb25zdHJhaW50IHZpb2xhdGlvbi5cblxuQWRkaXRpb25hbGx5LCBJJ3ZlIGltcHJvdmVkIHRoZSB2YWxpZGF0aW9uIGFuZCBlcnJvciBoYW5kbGluZyB0byBwcm92aWRlIGJldHRlciBmZWVkYmFjayB0byB0aGUgdXNlciBhbmQgcHJldmVudCBpbnZhbGlkIGRhdGEgZnJvbSBiZWluZyBzdWJtaXR0ZWQuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiIxYzk1MzAzNy0xYmM2LTRmNTQtYjViMS03NzM2MTVkOGJiYTIiLCJ1dWlkIjoiN2ZhZDA4NDEtNDcwOC00NjU0LWI3M2EtNjA4NTA0OGI1MmUxIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ2OTU2MDU3OTQ1LCJ0b1RpbWVzdGFtcCI6MTc0Njk1NjEwNTgyNSwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InJlcXVlc3RfaWQiOiIyODJmM2JlNC00MDk4LTRiOTItODJlYi05Mzg2NTJkMWM5NDUiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjQ0MTU1ZmQ3LWJjZjAtNGY1NC1iMzZhLTIzZjM1ZTg5NjRmNiIsInJlcXVlc3RfbWVzc2FnZSI6InVzZSBEYk9wZXJhdGlvbnMgY2xhc3MiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidXNlIERiT3BlcmF0aW9ucyBjbGFzcyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUh1bWtxUTQ5azluR3NueE1KTDF2V1UiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSBEQU87XFxuXFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcXG5pbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgREFPO1xcblxcbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xcbmltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1fSwge1wib2xkX3N0clwiOiBcInB1YmxpYyBjbGFzcyBEYk9wZXJhdGlvbnMge1xcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIFN0YXRlbWVudCBzdCA9IG51bGw7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xcbiAgICAgICAgICAgIHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcXG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZighbXNnLmVxdWFscyhcXFwiXFxcIikpIHtcXG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcXFwiTWVzc2FnZVxcXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcXFwiTWVzc2FnZVxcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxufVwiLCBcIm5ld19zdHJcIjogXCJwdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcXG4gICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XFxuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XFxuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXFxcIlxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIG1zZywgXFxcIk1lc3NhZ2VcXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXFxcIk1lc3NhZ2VcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEdlbmVyYXRlIHRoZSBuZXh0IGF2YWlsYWJsZSBJRCBmb3IgYSB0YWJsZVxcbiAgICAgKiBAcGFyYW0gdGFibGVOYW1lIE5hbWUgb2YgdGhlIHRhYmxlXFxuICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXFxuICAgICAqIEByZXR1cm4gTmV4dCBhdmFpbGFibGUgSURcXG4gICAgICovXFxuICAgIHB1YmxpYyBzdGF0aWMgaW50IGdldE5leHRJZChTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB7XFxuICAgICAgICBpbnQgbmV4dElkID0gMTsgLy8gRGVmYXVsdCBzdGFydGluZyBJRFxcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIFN0YXRlbWVudCBzdG10ID0gbnVsbDtcXG4gICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XFxuICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XFxuICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCBNQVgoXFxcIiArIGlkQ29sdW1uTmFtZSArIFxcXCIpIEFTIG1heF9pZCBGUk9NIFxcXCIgKyB0YWJsZU5hbWU7XFxuICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXFxcIm1heF9pZFxcXCIpO1xcbiAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBlLCBcXFwiRXJyb3JcXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XFxuICAgICAgICAgICAgICAgIGlmIChzdG10ICE9IG51bGwpIHN0bXQuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbmV4dElkO1xcbiAgICB9XFxuICAgIFxcbiAgICAvKipcXG4gICAgICogRXhlY3V0ZSBhIHRyYW5zYWN0aW9uIHdpdGggbXVsdGlwbGUgU1FMIG9wZXJhdGlvbnNcXG4gICAgICogQHBhcmFtIG9wZXJhdGlvbnMgQXJyYXkgb2YgU1FMIG9wZXJhdGlvbnMgdG8gZXhlY3V0ZVxcbiAgICAgKiBAcGFyYW0gc3VjY2Vzc01zZyBNZXNzYWdlIHRvIGRpc3BsYXkgb24gc3VjY2Vzc1xcbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdHJhbnNhY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZVxcbiAgICAgKi9cXG4gICAgcHVibGljIHN0YXRpYyBib29sZWFuIGV4ZWN1dGVUcmFuc2FjdGlvbihTcWxPcGVyYXRpb25bXSBvcGVyYXRpb25zLCBTdHJpbmcgc3VjY2Vzc01zZykge1xcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIGJvb2xlYW4gc3VjY2VzcyA9IGZhbHNlO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xcbiAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBhbGwgb3BlcmF0aW9uc1xcbiAgICAgICAgICAgIGZvciAoU3FsT3BlcmF0aW9uIG9wZXJhdGlvbiA6IG9wZXJhdGlvbnMpIHtcXG4gICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHMgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQob3BlcmF0aW9uLmdldFNxbCgpKTtcXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLnNldFBhcmFtZXRlcnMocHMpO1xcbiAgICAgICAgICAgICAgICBwcy5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgICAgIHBzLmNsb3NlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENvbW1pdCB0cmFuc2FjdGlvblxcbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XFxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2UgaWYgcHJvdmlkZWRcXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc01zZyAhPSBudWxsICYmICFzdWNjZXNzTXNnLmlzRW1wdHkoKSkge1xcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBzdWNjZXNzTXNnLCBcXFwiU3VjY2Vzc1xcXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgLy8gUm9sbGJhY2sgdHJhbnNhY3Rpb24gb24gZXJyb3JcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcXG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgXFxcIkVycm9yOiBcXFwiICsgZS5nZXRNZXNzYWdlKCksIFxcXCJFcnJvclxcXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9IGZpbmFsbHkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdCh0cnVlKTtcXG4gICAgICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gc3VjY2VzcztcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEludGVyZmFjZSBmb3IgU1FMIG9wZXJhdGlvbnMgd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnRzXFxuICAgICAqL1xcbiAgICBwdWJsaWMgaW50ZXJmYWNlIFNxbE9wZXJhdGlvbiB7XFxuICAgICAgICBTdHJpbmcgZ2V0U3FsKCk7XFxuICAgICAgICB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb247XFxuICAgIH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA3LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDI5fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBtb2RpZnkgdGhlIHNvbHV0aW9uIHRvIHVzZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zLiBUaGlzIHdpbGwgbWFrZSB0aGUgY29kZSBtb3JlIGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgYXBwbGljYXRpb24uXG5cbkxldCdzIGV4YW1pbmUgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBmaXJzdCB0byB1bmRlcnN0YW5kIGhvdyBpdCdzIHVzZWQ6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwic3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YVwiIG1vZGU9XCJFWENFUlBUXCI+XG5gYGBqYXZhXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cbkkgc2VlIHRoYXQgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBoYXMgYSBtZXRob2QgZm9yIGV4ZWN1dGluZyBTUUwgc3RhdGVtZW50cywgYnV0IGl0IGRvZXNuJ3Qgc3VwcG9ydCBwcmVwYXJlZCBzdGF0ZW1lbnRzIHdoaWNoIGFyZSBuZWVkZWQgZm9yIG91ciB1c2UgY2FzZS4gTGV0J3MgZW5oYW5jZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIHRvIHN1cHBvcnQgb3VyIG5lZWRzIGFuZCB0aGVuIHVwZGF0ZSB0aGUgU3Vic2NyaWJlckRBTyB0byB1c2UgaXQuXG5cbiMjIFBsYW46XG4xLiBBZGQgYSBuZXcgbWV0aG9kIHRvIERiT3BlcmF0aW9ucyBmb3IgaGFuZGxpbmcgdHJhbnNhY3Rpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xuMi4gVXBkYXRlIFN1YnNjcmliZXJEQU8gdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3NcblxuTGV0J3MgaW1wbGVtZW50IHRoZXNlIGNoYW5nZXM6In0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IkknbGwgaGVscCB5b3UgbW9kaWZ5IHRoZSBzb2x1dGlvbiB0byB1c2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gVGhpcyB3aWxsIG1ha2UgdGhlIGNvZGUgbW9yZSBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uLlxuXG5MZXQncyBleGFtaW5lIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZmlyc3QgdG8gdW5kZXJzdGFuZCBob3cgaXQncyB1c2VkOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmEgbW9kZT1FWENFUlBUXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5gYGBgXG5cbkkgc2VlIHRoYXQgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBoYXMgYSBtZXRob2QgZm9yIGV4ZWN1dGluZyBTUUwgc3RhdGVtZW50cywgYnV0IGl0IGRvZXNuJ3Qgc3VwcG9ydCBwcmVwYXJlZCBzdGF0ZW1lbnRzIHdoaWNoIGFyZSBuZWVkZWQgZm9yIG91ciB1c2UgY2FzZS4gTGV0J3MgZW5oYW5jZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIHRvIHN1cHBvcnQgb3VyIG5lZWRzIGFuZCB0aGVuIHVwZGF0ZSB0aGUgU3Vic2NyaWJlckRBTyB0byB1c2UgaXQuXG5cbiMjIFBsYW46XG4xLiBBZGQgYSBuZXcgbWV0aG9kIHRvIERiT3BlcmF0aW9ucyBmb3IgaGFuZGxpbmcgdHJhbnNhY3Rpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xuMi4gVXBkYXRlIFN1YnNjcmliZXJEQU8gdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3NcblxuTGV0J3MgaW1wbGVtZW50IHRoZXNlIGNoYW5nZXM6XG4ifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoidXNlIERiT3BlcmF0aW9ucyBjbGFzcyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNTo1Ni44MTNaIiwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgbW9kaWZ5IHRoZSBzb2x1dGlvbiB0byB1c2UgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gVGhpcyB3aWxsIG1ha2UgdGhlIGNvZGUgbW9yZSBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uLlxuXG5MZXQncyBleGFtaW5lIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZmlyc3QgdG8gdW5kZXJzdGFuZCBob3cgaXQncyB1c2VkOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmEgbW9kZT1FWENFUlBUXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG5wdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBzdC5leGVjdXRlVXBkYXRlKHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBtc2csIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBleCwgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3QgIT0gbnVsbCkgc3QuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5gYGBgXG5cbkkgc2VlIHRoYXQgdGhlIERiT3BlcmF0aW9ucyBjbGFzcyBoYXMgYSBtZXRob2QgZm9yIGV4ZWN1dGluZyBTUUwgc3RhdGVtZW50cywgYnV0IGl0IGRvZXNuJ3Qgc3VwcG9ydCBwcmVwYXJlZCBzdGF0ZW1lbnRzIHdoaWNoIGFyZSBuZWVkZWQgZm9yIG91ciB1c2UgY2FzZS4gTGV0J3MgZW5oYW5jZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIHRvIHN1cHBvcnQgb3VyIG5lZWRzIGFuZCB0aGVuIHVwZGF0ZSB0aGUgU3Vic2NyaWJlckRBTyB0byB1c2UgaXQuXG5cbiMjIFBsYW46XG4xLiBBZGQgYSBuZXcgbWV0aG9kIHRvIERiT3BlcmF0aW9ucyBmb3IgaGFuZGxpbmcgdHJhbnNhY3Rpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xuMi4gVXBkYXRlIFN1YnNjcmliZXJEQU8gdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3NcblxuTGV0J3MgaW1wbGVtZW50IHRoZXNlIGNoYW5nZXM6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiY2FiNzFlZjgtZmUyZC00ODE2LTkzODItMDdiNzdmMDI5ZDljIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVlGZVZ3SjFNWVpCTTFCeEhZRE1hU1UiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcImltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1wiLCBcIm5ld19zdHJcIjogXCJpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuaW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxNH0sIHtcIm9sZF9zdHJcIjogXCIgICAgcHVibGljIHN0YXRpYyB2b2lkIGluc2VydChTdWJzY3JpYmVyIG9iaikge1xcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcXG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwc1N1YnNjcmliZXIgPSBudWxsO1xcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcXG4gICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHVzZXJfaWRcXG4gICAgICAgICAgICBpbnQgdXNlcklkID0gZ2VuZXJhdGVOZXh0SWQoY29ubiwgXFxcIlVTRVJcXFwiLCBcXFwidXNlcl9pZFxcXCIpO1xcbiAgICAgICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgc3Vic2NyaWJlcl9pZFxcbiAgICAgICAgICAgIGludCBzdWJzY3JpYmVySWQgPSBnZW5lcmF0ZU5leHRJZChjb25uLCBcXFwiU1VCU0NSSUJFUlxcXCIsIFxcXCJzdWJzY3JpYmVyX2lkXFxcIik7XFxuICAgICAgICAgICAgb2JqLnNldFN1YnNjcmliZXJfaWQoc3Vic2NyaWJlcklkKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlIGZpcnN0XFxuICAgICAgICAgICAgU3RyaW5nIHNxbFVzZXIgPSBcXFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcXFwiO1xcbiAgICAgICAgICAgIHBzVXNlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxVc2VyKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIHVzZXJJZCk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XFxuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcXG4gICAgICAgICAgICBwc1VzZXIuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xcbiAgICAgICAgICAgIHBzVXNlci5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVGhlbiBpbnNlcnQgaW50byBTVUJTQ1JJQkVSIHRhYmxlIHdpdGggdGhlIHNhbWUgdXNlcl9pZFxcbiAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXFxcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XFxuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCB1c2VySWQpOyAvLyBVc2UgdGhlIHNhbWUgdXNlcl9pZFxcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgY29ubi5jb21taXQoKTtcXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiXFx1MDExMFxcdTAxMDNuZyBrXFx1MDBmZCB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nIVxcXCIsIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xcbiAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcXFwiTFxcdTFlZDdpOiBcXFwiICsgZS5nZXRNZXNzYWdlKCksIFxcXCJUaFxcdTAwZjRuZyBiXFx1MDBlMW9cXFwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfSBmaW5hbGx5IHtcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKHBzU3Vic2NyaWJlciAhPSBudWxsKSBwc1N1YnNjcmliZXIuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKHBzVXNlciAhPSBudWxsKSBwc1VzZXIuY2xvc2UoKTtcXG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFN1YnNjcmliZXIgb2JqKSB7XFxuICAgICAgICAvLyBHZW5lcmF0ZSB1c2VyX2lkIGFuZCBzdWJzY3JpYmVyX2lkXFxuICAgICAgICBmaW5hbCBpbnQgdXNlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcXFwiVVNFUlxcXCIsIFxcXCJ1c2VyX2lkXFxcIik7XFxuICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcXFwiU1VCU0NSSUJFUlxcXCIsIFxcXCJzdWJzY3JpYmVyX2lkXFxcIik7XFxuICAgICAgICBcXG4gICAgICAgIC8vIFNldCB0aGUgZ2VuZXJhdGVkIElEc1xcbiAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcXG4gICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIENyZWF0ZSBTUUwgb3BlcmF0aW9ucyBmb3IgdGhlIHRyYW5zYWN0aW9uXFxuICAgICAgICBTcWxPcGVyYXRpb25bXSBvcGVyYXRpb25zID0gbmV3IFNxbE9wZXJhdGlvbltdIHtcXG4gICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlXFxuICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXFxuICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIEBPdmVycmlkZVxcbiAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRVc2VybmFtZSgpKTtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2Yob2JqLmdldENyZWF0ZV9hdCgpKSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIFNVQlNDUklCRVIgdGFibGVcXG4gICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xcbiAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcXG4gICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgQE92ZXJyaWRlXFxuICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XFxuICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcXG4gICAgICAgICAgICAgICAgICAgIHBzLnNldEludCg1LCB1c2VySWQpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb25cXG4gICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXFxcIlxcdTAxMTBcXHUwMTAzbmcga1xcdTAwZmQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiKTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogODB9LCB7XCJvbGRfc3RyXCI6IFwiICAgIC8qKlxcbiAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcXG4gICAgICogQHBhcmFtIGNvbm4gRGF0YWJhc2UgY29ubmVjdGlvblxcbiAgICAgKiBAcGFyYW0gdGFibGVOYW1lIE5hbWUgb2YgdGhlIHRhYmxlXFxuICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXFxuICAgICAqIEByZXR1cm4gTmV4dCBhdmFpbGFibGUgSURcXG4gICAgICogQHRocm93cyBFeGNlcHRpb24gSWYgYW4gZXJyb3Igb2NjdXJzXFxuICAgICAqL1xcbiAgICBwcml2YXRlIHN0YXRpYyBpbnQgZ2VuZXJhdGVOZXh0SWQoQ29ubmVjdGlvbiBjb25uLCBTdHJpbmcgdGFibGVOYW1lLCBTdHJpbmcgaWRDb2x1bW5OYW1lKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgIGludCBuZXh0SWQgPSAxOyAvLyBEZWZhdWx0IHN0YXJ0aW5nIElEXFxuICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IG51bGw7XFxuICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1QgTUFYKFxcXCIgKyBpZENvbHVtbk5hbWUgKyBcXFwiKSBBUyBtYXhfaWQgRlJPTSBcXFwiICsgdGFibGVOYW1lO1xcbiAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFxcXCJtYXhfaWRcXFwiKTtcXG4gICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gZmluYWxseSB7XFxuICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XFxuICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbmV4dElkO1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIlwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogOTksIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTI3fV19IiwibWNwX3NlcnZlcl9uYW1lIjoiIiwibWNwX3Rvb2xfbmFtZSI6IiJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93LCBsZXQncyB1cGRhdGUgdGhlIFN1YnNjcmliZXJEQU8gY2xhc3MgdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3M6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vRGJPcGVyYXRpb25zLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAxXHRwYWNrYWdlIERBTztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuICAgICA0XHRpbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG4gICAgIDVcdGltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG4gICAgIDZcdGltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XG4gICAgIDdcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAgOFx0XG4gICAgIDlcdHB1YmxpYyBjbGFzcyBEYk9wZXJhdGlvbnMge1xuICAgIDEwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAxMVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA1XHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgICA2XHRpbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuICAgICA3XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgIDhcdFxuICAgICA5XHRwdWJsaWMgY2xhc3MgRGJPcGVyYXRpb25zIHtcbiAgICAxMFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXREYXRhT3JEZWxldGUoU3RyaW5nIHF1ZXJ5LCBTdHJpbmcgbXNnKSB7XG4gICAgMTFcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAxMlx0ICAgICAgICBTdGF0ZW1lbnQgc3QgPSBudWxsO1xuICAgIDEzXHQgICAgICAgIHRyeSB7XG4gICAgMTRcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDE1XHQgICAgICAgICAgICBzdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgMTZcdCAgICAgICAgICAgIHN0LmV4ZWN1dGVVcGRhdGUocXVlcnkpO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICAgICAgaWYoIW1zZy5lcXVhbHMoXCJcIikpIHtcbiAgICAxOVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIG1zZywgXCJNZXNzYWdlXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgIDIwXHQgICAgICAgICAgICB9XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgMjJcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGV4LCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgMjNcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAyNFx0ICAgICAgICAgICAgdHJ5IHtcbiAgICAyNVx0ICAgICAgICAgICAgICAgIGlmIChzdCAhPSBudWxsKSBzdC5jbG9zZSgpO1xuICAgIDI2XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDI3XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI4XHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyOVx0ICAgICAgICAgICAgfVxuICAgIDMwXHQgICAgICAgIH1cbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICAvKipcbiAgICAzNFx0ICAgICAqIEdlbmVyYXRlIHRoZSBuZXh0IGF2YWlsYWJsZSBJRCBmb3IgYSB0YWJsZVxuICAgIDM1XHQgICAgICogQHBhcmFtIHRhYmxlTmFtZSBOYW1lIG9mIHRoZSB0YWJsZVxuICAgIDM2XHQgICAgICogQHBhcmFtIGlkQ29sdW1uTmFtZSBOYW1lIG9mIHRoZSBJRCBjb2x1bW5cbiAgICAzN1x0ICAgICAqIEByZXR1cm4gTmV4dCBhdmFpbGFibGUgSURcbiAgICAzOFx0ICAgICAqL1xuICAgIDM5XHQgICAgcHVibGljIHN0YXRpYyBpbnQgZ2V0TmV4dElkKFN0cmluZyB0YWJsZU5hbWUsIFN0cmluZyBpZENvbHVtbk5hbWUpIHtcbiAgICA0MFx0ICAgICAgICBpbnQgbmV4dElkID0gMTsgLy8gRGVmYXVsdCBzdGFydGluZyBJRFxuICAgIDQxXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgNDJcdCAgICAgICAgU3RhdGVtZW50IHN0bXQgPSBudWxsO1xuICAgIDQzXHQgICAgICAgIFJlc3VsdFNldCBycyA9IG51bGw7XG4gICAgNDRcdFxuICAgIDQ1XHQgICAgICAgIHRyeSB7XG4gICAgNDZcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDQ3XHQgICAgICAgICAgICBzdG10ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICA0OFx0ICAgICAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgTUFYKFwiICsgaWRDb2x1bW5OYW1lICsgXCIpIEFTIG1heF9pZCBGUk9NIFwiICsgdGFibGVOYW1lO1xuICAgIDQ5XHQgICAgICAgICAgICBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICA1MFx0XG4gICAgNTFcdCAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICA1Mlx0ICAgICAgICAgICAgICAgIGludCBtYXhJZCA9IHJzLmdldEludChcIm1heF9pZFwiKTtcbiAgICA1M1x0ICAgICAgICAgICAgICAgIG5leHRJZCA9IG1heElkICsgMTtcbiAgICA1NFx0ICAgICAgICAgICAgfVxuICAgIDU1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNTZcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIGUsIFwiRXJyb3JcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAgNTdcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgICA1OFx0ICAgICAgICAgICAgdHJ5IHtcbiAgICA1OVx0ICAgICAgICAgICAgICAgIGlmIChycyAhPSBudWxsKSBycy5jbG9zZSgpO1xuICAgIDYwXHQgICAgICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xuICAgIDYxXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDYyXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDYzXHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2NFx0ICAgICAgICAgICAgfVxuICAgIDY1XHQgICAgICAgIH1cbiAgICA2Nlx0XG4gICAgNjdcdCAgICAgICAgcmV0dXJuIG5leHRJZDtcbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICAvKipcbiAgICA3MVx0ICAgICAqIEV4ZWN1dGUgYSB0cmFuc2FjdGlvbiB3aXRoIG11bHRpcGxlIFNRTCBvcGVyYXRpb25zXG4gICAgNzJcdCAgICAgKiBAcGFyYW0gb3BlcmF0aW9ucyBBcnJheSBvZiBTUUwgb3BlcmF0aW9ucyB0byBleGVjdXRlXG4gICAgNzNcdCAgICAgKiBAcGFyYW0gc3VjY2Vzc01zZyBNZXNzYWdlIHRvIGRpc3BsYXkgb24gc3VjY2Vzc1xuICAgIDc0XHQgICAgICogQHJldHVybiB0cnVlIGlmIHRyYW5zYWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBvdGhlcndpc2VcbiAgICA3NVx0ICAgICAqL1xuICAgIDc2XHQgICAgcHVibGljIHN0YXRpYyBib29sZWFuIGV4ZWN1dGVUcmFuc2FjdGlvbihTcWxPcGVyYXRpb25bXSBvcGVyYXRpb25zLCBTdHJpbmcgc3VjY2Vzc01zZykge1xuICAgIDc3XHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG4gICAgNzhcdCAgICAgICAgYm9vbGVhbiBzdWNjZXNzID0gZmFsc2U7XG4gICAgNzlcdFxuICAgIDgwXHQgICAgICAgIHRyeSB7XG4gICAgODFcdCAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgIDgyXHQgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQoZmFsc2UpO1xuICAgIDgzXHRcbiAgICA4NFx0ICAgICAgICAgICAgLy8gRXhlY3V0ZSBhbGwgb3BlcmF0aW9uc1xuICAgIDg1XHQgICAgICAgICAgICBmb3IgKFNxbE9wZXJhdGlvbiBvcGVyYXRpb24gOiBvcGVyYXRpb25zKSB7XG4gICAgODZcdCAgICAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBwcyA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChvcGVyYXRpb24uZ2V0U3FsKCkpO1xuICAgIDg3XHQgICAgICAgICAgICAgICAgb3BlcmF0aW9uLnNldFBhcmFtZXRlcnMocHMpO1xuICAgIDg4XHQgICAgICAgICAgICAgICAgcHMuZXhlY3V0ZVVwZGF0ZSgpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgcHMuY2xvc2UoKTtcbiAgICA5MFx0ICAgICAgICAgICAgfVxuICAgIDkxXHRcbiAgICA5Mlx0ICAgICAgICAgICAgLy8gQ29tbWl0IHRyYW5zYWN0aW9uXG4gICAgOTNcdCAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgOTRcdCAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgIDk1XHRcbiAgICA5Nlx0ICAgICAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2UgaWYgcHJvdmlkZWRcbiAgICA5N1x0ICAgICAgICAgICAgaWYgKHN1Y2Nlc3NNc2cgIT0gbnVsbCAmJiAhc3VjY2Vzc01zZy5pc0VtcHR5KCkpIHtcbiAgICA5OFx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIHN1Y2Nlc3NNc2csIFwiU3VjY2Vzc1wiLCBKT3B0aW9uUGFuZS5JTkZPUk1BVElPTl9NRVNTQUdFKTtcbiAgICA5OVx0ICAgICAgICAgICAgfVxuICAgMTAwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxMDFcdCAgICAgICAgICAgIC8vIFJvbGxiYWNrIHRyYW5zYWN0aW9uIG9uIGVycm9yXG4gICAxMDJcdCAgICAgICAgICAgIHRyeSB7XG4gICAxMDNcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLnJvbGxiYWNrKCk7XG4gICAxMDRcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAxMDVcdCAgICAgICAgICAgICAgICByb2xsYmFja0V4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTA2XHQgICAgICAgICAgICB9XG4gICAxMDdcdFxuICAgMTA4XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkVycm9yOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBcIkVycm9yXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMTA5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTEwXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAxMTFcdCAgICAgICAgICAgIHRyeSB7XG4gICAxMTJcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSB7XG4gICAxMTNcdCAgICAgICAgICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KHRydWUpO1xuICAgMTE0XHQgICAgICAgICAgICAgICAgICAgIGNvbm4uY2xvc2UoKTtcbiAgIDExNVx0ICAgICAgICAgICAgICAgIH1cbiAgIDExNlx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDExN1x0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMThcdCAgICAgICAgICAgIH1cbiAgIDExOVx0ICAgICAgICB9XG4gICAxMjBcdFxuICAgMTIxXHQgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgMTIyXHQgICAgfVxuICAgMTIzXHRcbiAgIDEyNFx0ICAgIC8qKlxuICAgMTI1XHQgICAgICogSW50ZXJmYWNlIGZvciBTUUwgb3BlcmF0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcbiAgIDEyNlx0ICAgICAqL1xuICAgMTI3XHQgICAgcHVibGljIGludGVyZmFjZSBTcWxPcGVyYXRpb24ge1xuICAgMTI4XHQgICAgICAgIFN0cmluZyBnZXRTcWwoKTtcbiAgIDEyOVx0ICAgICAgICB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb247XG4gICAxMzBcdCAgICB9XG4gICAxMzFcdH1cbiAgIDEzMlx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFIdW1rcVE0OWs5bkdzbnhNSkwxdldVIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjM2OjI2LjY2NVoiLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQncyB1cGRhdGUgdGhlIFN1YnNjcmliZXJEQU8gY2xhc3MgdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3M6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDE4YWE1OTAtZGEzNC00Y2ZlLWEwMjktNTYyMGE0NGU5OGQxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMTc2d3lYelNoOFZOTHBtMkpoUEExUkMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb25cXG4gICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXFxcIlxcdTAxMTBcXHUwMTAzbmcga1xcdTAwZmQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiKTtcXG4gICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb25cXG4gICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXFxcIlxcdTAxMTBcXHUwMTAzbmcga1xcdTAwZmQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZyFcXFwiKTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNjUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNjh9XX0iLCJtY3Bfc2VydmVyX25hbWUiOiIiLCJtY3BfdG9vbF9uYW1lIjoiIn19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJUaGVyZSdzIGFuIGV4dHJhIGNsb3NpbmcgYnJhY2UgaW4gdGhlIFN1YnNjcmliZXJEQU8uamF2YSBmaWxlLiBMZXQncyBmaXggdGhhdDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICAzXHQgKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAgICAgNFx0ICovXG4gICAgIDVcdHBhY2thZ2UgREFPO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IE1vZGVsLlN1YnNjcmliZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDExXHRpbXBvcnQgREFPLkRiT3BlcmF0aW9ucy5TcWxPcGVyYXRpb247XG4gICAgMTJcdFxuICAgIDEzXHQvKipcbiAgICAxNFx0ICpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNlx0ICovXG4gICAgMTdcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoZmluYWwgU3Vic2NyaWJlciBvYmopIHtcbiAgICAyMFx0ICAgICAgICAvLyBHZW5lcmF0ZSB1c2VyX2lkIGFuZCBzdWJzY3JpYmVyX2lkXG4gICAgMjFcdCAgICAgICAgZmluYWwgaW50IHVzZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJVU0VSXCIsIFwidXNlcl9pZFwiKTtcbiAgICAyMlx0ICAgICAgICBmaW5hbCBpbnQgc3Vic2NyaWJlcklkID0gRGJPcGVyYXRpb25zLmdldE5leHRJZChcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuICAgIDIzXHRcbiAgICAyNFx0ICAgICAgICAvLyBTZXQgdGhlIGdlbmVyYXRlZCBJRHNcbiAgICAyNVx0ICAgICAgICBvYmouc2V0VXNlcl9pZCh1c2VySWQpO1xuICAgIDI2XHQgICAgICAgIG9iai5zZXRTdWJzY3JpYmVyX2lkKHN1YnNjcmliZXJJZCk7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgICAgIC8vIENyZWF0ZSBTUUwgb3BlcmF0aW9ucyBmb3IgdGhlIHRyYW5zYWN0aW9uXG4gICAgMjlcdCAgICAgICAgU3FsT3BlcmF0aW9uW10gb3BlcmF0aW9ucyA9IG5ldyBTcWxPcGVyYXRpb25bXSB7XG4gICAgMzBcdCAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIFVTRVIgdGFibGVcbiAgICAzMVx0ICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICAzMlx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDMzXHQgICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgMzRcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICAzNVx0ICAgICAgICAgICAgICAgIH1cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAzOFx0ICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIDM5XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCB1c2VySWQpO1xuICAgIDQwXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0VXNlcm5hbWUoKSk7XG4gICAgNDFcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICA0Mlx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoNCwgb2JqLmdldFJvbGUoKSk7XG4gICAgNDNcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YWx1ZU9mKG9iai5nZXRDcmVhdGVfYXQoKSkpO1xuICAgIDQ0XHQgICAgICAgICAgICAgICAgfVxuICAgIDQ1XHQgICAgICAgICAgICB9LFxuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZVxuICAgIDQ4XHQgICAgICAgICAgICBuZXcgU3FsT3BlcmF0aW9uKCkge1xuICAgIDQ5XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgNTBcdCAgICAgICAgICAgICAgICBwdWJsaWMgU3RyaW5nIGdldFNxbCgpIHtcbiAgICA1MVx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDUyXHQgICAgICAgICAgICAgICAgfVxuICAgIDUzXHRcbiAgICA1NFx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDU1XHQgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgNTZcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDEsIHN1YnNjcmliZXJJZCk7XG4gICAgNTdcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA1OFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMywgb2JqLmdldEFkZHJlc3MoKSk7XG4gICAgNTlcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoNSwgdXNlcklkKTtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIH1cbiAgICA2Mlx0ICAgICAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIH07XG4gICAgNjRcdFxuICAgIDY1XHQgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHRyYW5zYWN0aW9uXG4gICAgNjZcdCAgICAgICAgRGJPcGVyYXRpb25zLmV4ZWN1dGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCBcIsSQxINuZyBrw70gdGjDoG5oIGPDtG5nIVwiKTtcbiAgICA2N1x0ICAgIH1cbiAgICA2OFx0ICAgIH1cbiAgICA2OVx0XG4gICAgNzBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgNzFcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzJdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgODJcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDgzXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDg0XHQgICAgfVxuICAgIDg1XHRcbiAgICA4Nlx0XG4gICAgODdcdH1cbiAgICA4OFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFZRmVWd0oxTVlaQk0xQnhIWURNYVNVIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRTovSG9jVGFwLzAyX0pBVkEvMDNfUHJvamVjdC9JbnRlcm5ldCBNYW5nZW1lbnQgU3lzdGVtIiwiZm9sZGVyUm9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoyLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSJ9fX1dLCJ0aW1lc3RhbXAiOiIyMDI1LTA1LTExVDA5OjM2OjUzLjYxN1oiLCJyZXNwb25zZV90ZXh0IjoiVGhlcmUncyBhbiBleHRyYSBjbG9zaW5nIGJyYWNlIGluIHRoZSBTdWJzY3JpYmVyREFPLmphdmEgZmlsZS4gTGV0J3MgZml4IHRoYXQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODY4Mjg3ZGUtZjBmYS00YjVhLWE0NzEtZDkwN2JhMTQ0NTEwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbkkndmUgdXBkYXRlZCB0aGUgc29sdXRpb24gdG8gdXNlIHRoZSBEYk9wZXJhdGlvbnMgY2xhc3MgZm9yIGRhdGFiYXNlIG9wZXJhdGlvbnMuIEhlcmUncyBhIHN1bW1hcnkgb2YgdGhlIGNoYW5nZXM6XG5cbjEuICoqRW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzKio6XG4gICAtIEFkZGVkIGEgYGdldE5leHRJZGAgbWV0aG9kIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgZm9yIGRhdGFiYXNlIHRhYmxlc1xuICAgLSBBZGRlZCBhbiBgZXhlY3V0ZVRyYW5zYWN0aW9uYCBtZXRob2QgdG8gaGFuZGxlIHRyYW5zYWN0aW9ucyB3aXRoIG11bHRpcGxlIFNRTCBvcGVyYXRpb25zXG4gICAtIENyZWF0ZWQgYSBgU3FsT3BlcmF0aW9uYCBpbnRlcmZhY2UgdG8gZGVmaW5lIFNRTCBvcGVyYXRpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xuXG4yLiAqKlVwZGF0ZWQgU3Vic2NyaWJlckRBTyBjbGFzcyoqOlxuICAgLSBTaW1wbGlmaWVkIHRoZSBgaW5zZXJ0YCBtZXRob2QgdG8gdXNlIHRoZSBlbmhhbmNlZCBEYk9wZXJhdGlvbnMgY2xhc3NcbiAgIC0gUmVtb3ZlZCB0aGUgcmVkdW5kYW50IGBnZW5lcmF0ZU5leHRJZGAgbWV0aG9kIHNpbmNlIGl0J3Mgbm93IHBhcnQgb2YgRGJPcGVyYXRpb25zXG4gICAtIFVzZWQgdGhlIHRyYW5zYWN0aW9uIHN1cHBvcnQgZnJvbSBEYk9wZXJhdGlvbnMgdG8gZW5zdXJlIGRhdGEgaW50ZWdyaXR5XG5cbjMuICoqS2VwdCB0aGUgU2lnblVwIGNsYXNzIGltcHJvdmVtZW50cyoqOlxuICAgLSBCZXR0ZXIgdmFsaWRhdGlvbiBsb2dpY1xuICAgLSBJbXByb3ZlZCBlcnJvciBoYW5kbGluZ1xuXG4jIyBCZW5lZml0cyBvZiB0aGUgTmV3IEltcGxlbWVudGF0aW9uXG5cbjEuICoqQ29kZSBSZXVzYWJpbGl0eSoqOiBUaGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzIGNhbiBiZSB1c2VkIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uIGZvciBzaW1pbGFyIGRhdGFiYXNlIG9wZXJhdGlvbnMuXG5cbjIuICoqQ2xlYW5lciBDb2RlKio6IFRoZSBTdWJzY3JpYmVyREFPIGNsYXNzIGlzIG5vdyBtb3JlIGZvY3VzZWQgb24gaXRzIHNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgcmF0aGVyIHRoYW4gZGF0YWJhc2UgY29ubmVjdGlvbiBtYW5hZ2VtZW50LlxuXG4zLiAqKkJldHRlciBUcmFuc2FjdGlvbiBNYW5hZ2VtZW50Kio6IFRoZSB0cmFuc2FjdGlvbiBoYW5kbGluZyBpcyBjZW50cmFsaXplZCBpbiB0aGUgRGJPcGVyYXRpb25zIGNsYXNzLCBtYWtpbmcgaXQgbW9yZSBjb25zaXN0ZW50IGFuZCByZWxpYWJsZS5cblxuNC4gKipJbXByb3ZlZCBFcnJvciBIYW5kbGluZyoqOiBFcnJvciBtZXNzYWdlcyBhcmUgbW9yZSB1c2VyLWZyaWVuZGx5IGFuZCBwcm92aWRlIGJldHRlciBmZWVkYmFjay5cblxuVGhlc2UgY2hhbmdlcyBzaG91bGQgZml4IHRoZSBmb3JlaWduIGtleSBjb25zdHJhaW50IGVycm9yIHdoaWxlIG1ha2luZyB0aGUgY29kZSBtb3JlIG1haW50YWluYWJsZSBhbmQgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoidW5zZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgNjFcdCAgICAgICAgICAgICAgICB9XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICB9O1xuICAgIDY0XHRcbiAgICA2NVx0ICAgICAgICAvLyBFeGVjdXRlIHRoZSB0cmFuc2FjdGlvblxuICAgIDY2XHQgICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIik7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDcwXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDcxXHQgICAgfVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxNzZ3eVh6U2g4Vk5McG0ySmhQQTFSQyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkU6L0hvY1RhcC8wMl9KQVZBLzAzX1Byb2plY3QvSW50ZXJuZXQgTWFuZ2VtZW50IFN5c3RlbSIsImZvbGRlclJvb3QiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiJFOi9Ib2NUYXAvMDJfSkFWQS8wM19Qcm9qZWN0L0ludGVybmV0IE1hbmdlbWVudCBTeXN0ZW0ifX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0xMVQwOTozNzowMC43NDhaIiwicmVzcG9uc2VfdGV4dCI6IiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG5JJ3ZlIHVwZGF0ZWQgdGhlIHNvbHV0aW9uIHRvIHVzZSB0aGUgRGJPcGVyYXRpb25zIGNsYXNzIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHRoZSBjaGFuZ2VzOlxuXG4xLiAqKkVuaGFuY2VkIERiT3BlcmF0aW9ucyBjbGFzcyoqOlxuICAgLSBBZGRlZCBhIGBnZXROZXh0SWRgIG1ldGhvZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzIGZvciBkYXRhYmFzZSB0YWJsZXNcbiAgIC0gQWRkZWQgYW4gYGV4ZWN1dGVUcmFuc2FjdGlvbmAgbWV0aG9kIHRvIGhhbmRsZSB0cmFuc2FjdGlvbnMgd2l0aCBtdWx0aXBsZSBTUUwgb3BlcmF0aW9uc1xuICAgLSBDcmVhdGVkIGEgYFNxbE9wZXJhdGlvbmAgaW50ZXJmYWNlIHRvIGRlZmluZSBTUUwgb3BlcmF0aW9ucyB3aXRoIHByZXBhcmVkIHN0YXRlbWVudHNcblxuMi4gKipVcGRhdGVkIFN1YnNjcmliZXJEQU8gY2xhc3MqKjpcbiAgIC0gU2ltcGxpZmllZCB0aGUgYGluc2VydGAgbWV0aG9kIHRvIHVzZSB0aGUgZW5oYW5jZWQgRGJPcGVyYXRpb25zIGNsYXNzXG4gICAtIFJlbW92ZWQgdGhlIHJlZHVuZGFudCBgZ2VuZXJhdGVOZXh0SWRgIG1ldGhvZCBzaW5jZSBpdCdzIG5vdyBwYXJ0IG9mIERiT3BlcmF0aW9uc1xuICAgLSBVc2VkIHRoZSB0cmFuc2FjdGlvbiBzdXBwb3J0IGZyb20gRGJPcGVyYXRpb25zIHRvIGVuc3VyZSBkYXRhIGludGVncml0eVxuXG4zLiAqKktlcHQgdGhlIFNpZ25VcCBjbGFzcyBpbXByb3ZlbWVudHMqKjpcbiAgIC0gQmV0dGVyIHZhbGlkYXRpb24gbG9naWNcbiAgIC0gSW1wcm92ZWQgZXJyb3IgaGFuZGxpbmdcblxuIyMgQmVuZWZpdHMgb2YgdGhlIE5ldyBJbXBsZW1lbnRhdGlvblxuXG4xLiAqKkNvZGUgUmV1c2FiaWxpdHkqKjogVGhlIGVuaGFuY2VkIERiT3BlcmF0aW9ucyBjbGFzcyBjYW4gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbiBmb3Igc2ltaWxhciBkYXRhYmFzZSBvcGVyYXRpb25zLlxuXG4yLiAqKkNsZWFuZXIgQ29kZSoqOiBUaGUgU3Vic2NyaWJlckRBTyBjbGFzcyBpcyBub3cgbW9yZSBmb2N1c2VkIG9uIGl0cyBzcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHJhdGhlciB0aGFuIGRhdGFiYXNlIGNvbm5lY3Rpb24gbWFuYWdlbWVudC5cblxuMy4gKipCZXR0ZXIgVHJhbnNhY3Rpb24gTWFuYWdlbWVudCoqOiBUaGUgdHJhbnNhY3Rpb24gaGFuZGxpbmcgaXMgY2VudHJhbGl6ZWQgaW4gdGhlIERiT3BlcmF0aW9ucyBjbGFzcywgbWFraW5nIGl0IG1vcmUgY29uc2lzdGVudCBhbmQgcmVsaWFibGUuXG5cbjQuICoqSW1wcm92ZWQgRXJyb3IgSGFuZGxpbmcqKjogRXJyb3IgbWVzc2FnZXMgYXJlIG1vcmUgdXNlci1mcmllbmRseSBhbmQgcHJvdmlkZSBiZXR0ZXIgZmVlZGJhY2suXG5cblRoZXNlIGNoYW5nZXMgc2hvdWxkIGZpeCB0aGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCBlcnJvciB3aGlsZSBtYWtpbmcgdGhlIGNvZGUgbW9yZSBtYWludGFpbmFibGUgYW5kIGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgYXBwbGljYXRpb24uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI3MzA4YjY0YS0yMTEzLTQ3MzktYTNlNC0zOTM0MDVkOWFiZDIiLCJ1dWlkIjoiMDNiMTRjMjQtNmFkNy00OWQ5LWJkZDAtMDNmMjE0ZmZiNmYxIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ2OTU2MTA1ODI1LCJ0b1RpbWVzdGFtcCI6MTc0Njk1NjIyODkyMH1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTZlYmI2NzEzLTRjMjYtNDE4YS04MjAzLTUxZWE4ZDM2MDc5OSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtM2ZjNDAxNmEtNzlkNS00YTFkLWIwNmEtNTZlYzc4NmFlMDlkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNTIyMzJjOS00MGIxLTRjYmItYTZlNy02OWViYjczZmFkOWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWI3M2Y4MzVjLTY3OWYtNDgzMy1iM2IyLWNlZDM4NWFlMGNiZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjE3ODJhY2MtN2QxZi00NGE5LTkwNGEtOTZlNTVmMGZhYjc1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS01OTZjNWNiMS1kYzYxLTRmZWYtYTU3Mi1mM2FkODJjMDRiOWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWEwZmViM2Y4LTc4ZjUtNGJmOS1hNWFiLWRkNjM4Mjk2NzM3YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjQzNDFiNzQtN2UwZi00ZmFlLThlNDktMWMxNTc4NzBmYzYxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNTM4ZjdhNC02MmM1LTQ5OWUtYjRlMi0yNTYyOGZhNzg0YzciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTNiN2NlOWUxLTk5ZmItNGUwMS1iZjgyLWU3NDg2MGYzMWU5YiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTI2MDRmYjktMWQ5OS00ZTg4LWI2MzMtNjg1NTZlMDM2OGZhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02MDAxYmI1ZS1lZjlkLTRiYTgtOWM5Mi00NWQ0YmQwY2E5ZDkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTU2ZTg2NDE3LWI3MjUtNGU5MS1iYjQ5LWYzZDg0MjUwMWQ3OCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzFlOGY3N2EtNzQxMC00NWVkLTk4NjEtZDgwZjcxOGIwZjBjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiYTFmNmEwZjMtZjk1Yy00MGYwLWExMzktYjRmMGZiYWQxZGQ4O3Rvb2x1XzAxQ3d5TEtRR3R6WnB1NVlOZW5Kbm9VSyI6eyJyZXF1ZXN0SWQiOiJhMWY2YTBmMy1mOTVjLTQwZjAtYTEzOS1iNGYwZmJhZDFkZDgiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMUN3eUxLUUd0elpwdTVZTmVuSm5vVUsiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBEQU87XG5cbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNVc2VyID0gbnVsbDtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgcHNVc2VyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFVzZXIpO1xuICAgICAgICAgICAgcHNVc2VyLnNldEludCgxLCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAgICAgICAgIHBzVXNlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBvYmouZ2V0U3Vic2NyaWJlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoNCwgb2JqLmdldFBob25lKCkpO1xuICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICAgICAgICAgIHBzU3Vic2NyaWJlci5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiByb2xsYmFja0V4KSB7XG4gICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBzVXNlciAhPSBudWxsKSBwc1VzZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmVyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9Vc2VyREFPLmphdmFcbi8qXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0xpY2Vuc2VzL2xpY2Vuc2UtZGVmYXVsdC50eHQgdG8gY2hhbmdlIHRoaXMgbGljZW5zZVxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gKi9cbnBhY2thZ2UgREFPO1xuXG5pbXBvcnQgTW9kZWwuVXNlcjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXJEQU97XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KFVzZXIgb2JqKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoVXNlciBvYmopIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBVc2VyIGdldEJ5SWQoaW50IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxVc2VyPiBnZXRBbGwoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIH1cbiAgICBcbn1cbi4uLlxuUGF0aDogc3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YVxucGFja2FnZSBEQU87XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbmltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcblxucHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICAgICAgU3RhdGVtZW50IHN0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbm4gPSBDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubigpO1xuICAgICAgICAgICAgc3QgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCFtc2cuZXF1YWxzKFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvaW50ZXJuZXQvbWFuZ2VtZW50L3N5c3RlbS9TaWduVXAuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0dVSUZvcm1zL0pGcmFtZS5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIGludGVybmV0Lm1hbmdlbWVudC5zeXN0ZW07XG5cbmltcG9ydCBEQU8uU3Vic2NyaWJlckRBTztcbmltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuaW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgU2lnblVwIGV4dGVuZHMgamF2YXguc3dpbmcuSkZyYW1lIHtcblxuICAgIHB1YmxpYyBTdHJpbmcgcGhvbmVQYXR0ZXJuID0gXCJeWzAtOV0qJFwiO1xuICAgIHByaXZhdGUgU3RyaW5nIERFRkFVTFRfUk9MRSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IGZvcm0gU2lnbkluXG4gICAgICovXG4gICAgcHVibGljIFNpZ25VcCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudHMoKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHZvaWQgY2xlYXIoKXtcbiAgICAgICAgdHh0TmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRVc2VyTmFtZS5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRUZXh0KFwiXCIpO1xuICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgICAgIHR4dFBob25lLnNldFRleHQoXCJcIik7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyB2b2lkIHZhbGlkYXRlRmllbGRzKCl7XG4gICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XG4gICAgICAgIFN0cmluZyB1c2VyTmFtZSA9IHR4dFVzZXJOYW1lLmdldFRleHQoKTtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xuICAgICAgICBTdHJpbmcgcGhvbmUgPSB0eHRQaG9uZS5nZXRUZXh0KCk7XG4gICAgICAgIFxuICAgICAgICBpZihuYW1lLmVxdWFscyhcIlwiKSAmJiB1c2VyTmFtZS5lcXVhbHMoXCJcIikgJiYgcGFzc3dvcmQuZXF1YWxzKFwiXCIpICYmIGFkZHJlc3MuZXF1YWxzKFwiXCIpICYmIHBob25lLmVxdWFscyhcIlwiKSl7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgPT0gMTAgJiYgcGhvbmUubWF0Y2hlcyhwaG9uZVBhdHRlcm4pKSB7XG4gICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgICAgICBqRnJhbWUxID0gbmV3IGphdmF4LnN3aW5nLkpGcmFtZSgpO1xuICAgICAgICBqTGFiZWwxID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwyID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWwzID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw0ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw1ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw2ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICB0eHROYW1lID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0VXNlck5hbWUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRBZGRyZXNzID0gbmV3IGphdmF4LnN3aW5nLkpUZXh0RmllbGQoKTtcbiAgICAgICAgdHh0UGhvbmUgPSBuZXcgamF2YXguc3dpbmcuSlRleHRGaWVsZCgpO1xuICAgICAgICB0eHRQYXNzd29yZCA9IG5ldyBqYXZheC5zd2luZy5KUGFzc3dvcmRGaWVsZCgpO1xuICAgICAgICBidG5SZXR1cm4gPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBidG5TaWdudXAgPSBuZXcgamF2YXguc3dpbmcuSkJ1dHRvbigpO1xuICAgICAgICBqTGFiZWw3ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqTGFiZWw4ID0gbmV3IGphdmF4LnN3aW5nLkpMYWJlbCgpO1xuICAgICAgICBqU2VwYXJhdG9yMSA9IG5ldyBqYXZheC5zd2luZy5KU2VwYXJhdG9yKCk7XG4gICAgICAgIGpTZXBhcmF0b3IyID0gbmV3IGphdmF4LnN3aW5nLkpTZXBhcmF0b3IoKTtcbi4uLlxuICAgICAgICBcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5SZXR1cm5BY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICBTdWJzY3JpYmVyIHN1YiA9IG5ldyBTdWJzY3JpYmVyKCk7XG4gICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0UGFzc3dvcmQodHh0UGFzc3dvcmQuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgICAgICBzdWIuc2V0UGhvbmUodHh0UGhvbmUuZ2V0VGV4dCgpKTtcbiAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgICAgICAgY2xlYXIoKTtcbiAgICB9Ly9HRU4tTEFTVDpldmVudF9idG5TaWdudXBBY3Rpb25QZXJmb3JtZWRcblxuICAgIHByaXZhdGUgdm9pZCB0eHROYW1lS2V5UmVsZWFzZWQoamF2YS5hd3QuZXZlbnQuS2V5RXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4gICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuICAgIH0vL0dFTi1MQVNUOmV2ZW50X3R4dE5hbWVLZXlSZWxlYXNlZFxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvU3Vic2NyaWJlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyIGV4dGVuZHMgVXNlciB7XG4gICAgcHJpdmF0ZSBpbnQgc3Vic2NyaWJlcl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBmdWxsTmFtZTtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgU3RyaW5nIHBob25lO1xuICAgIFxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBTdWJzY3JpYmVyKGludCBzdWJzY3JpYmVyX2lkLCBTdHJpbmcgZnVsbE5hbWUsIFN0cmluZyBhZGRyZXNzLCBTdHJpbmcgcGhvbmUpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyX2lkID0gc3Vic2NyaWJlcl9pZDtcbiAgICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIFN1YnNjcmliZXIoaW50IHN1YnNjcmliZXJfaWQsIFN0cmluZyBmdWxsTmFtZSwgU3RyaW5nIGFkZHJlc3MsIFN0cmluZyBwaG9uZSwgaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgc3VwZXIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVfYXQpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJfaWQgPSBzdWJzY3JpYmVyX2lkO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMucGhvbmUgPSBwaG9uZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGludCBnZXRTdWJzY3JpYmVyX2lkKCkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRTdWJzY3JpYmVyX2lkKGludCBzdWJzY3JpYmVyX2lkKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcl9pZCA9IHN1YnNjcmliZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRGdWxsTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEZ1bGxOYW1lKFN0cmluZyBmdWxsTmFtZSkge1xuICAgICAgICB0aGlzLmZ1bGxOYW1lID0gZnVsbE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZGRyZXNzKFN0cmluZyBhZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQaG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBob25lKFN0cmluZyBwaG9uZSkge1xuICAgICAgICB0aGlzLnBob25lID0gcGhvbmU7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvREFPL0Nvbm5lY3Rpb25Qcm92aWRlci5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIERBTztcblxuaW1wb3J0IGphdmEuc3FsLio7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBDb25uZWN0aW9uUHJvdmlkZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBVUkwgPSBcImpkYmM6bXlzcWw6Ly8xMjUuMjEyLjIzMS4xODQ6Njk2OS9JbnRlcm5ldERCXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFVTRVIgPSBcIm1pbnRvcmkwOVwiO1xuICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVNTV09SRCA9IFwiTWludG9yeTA5QDk2XCI7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBDb25uZWN0aW9uIGdldENvbm4oKXtcbiAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xhc3MuZm9yTmFtZShcImNvbS5teXNxbC5jai5qZGJjLkRyaXZlclwiKTtcbiAgICAgICAgICAgIGNvbm4gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJMLCBVU0VSLCBQQVNTV09SRCk7XG4gICAgICAgIH0gY2F0Y2ggKENsYXNzTm90Rm91bmRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTXlTUUwgSkRCQyBEcml2ZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJDb25uZWN0aW9uIGZhaWxlZC5cIik7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL01vZGVsL1VzZXIuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuLyoqXG4gKlxuICogQGF1dGhvciBOZ29jIFRoYW9cbiAqL1xucHVibGljIGNsYXNzIFVzZXIge1xuICAgIHByaXZhdGUgaW50IHVzZXJfaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdXNlcm5hbWU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcm9sZTtcbiAgICBwcml2YXRlIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0O1xuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IHVzZXJfaWQsIFN0cmluZyB1c2VybmFtZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgcm9sZSwgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgICAgIHRoaXMuY3JlYXRlX2F0ID0gY3JlYXRlX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0VXNlcl9pZCgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VXNlcl9pZChpbnQgdXNlcl9pZCkge1xuICAgICAgICB0aGlzLnVzZXJfaWQgPSB1c2VyX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VXNlcm5hbWUoKSB7XG4gICAgICAgIHJldHVybiB1c2VybmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VybmFtZShTdHJpbmcgdXNlcm5hbWUpIHtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Um9sZSgpIHtcbiAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Um9sZShTdHJpbmcgcm9sZSkge1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldENyZWF0ZV9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvUGxhbi5qYXZhXG4vKlxuICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICovXG5wYWNrYWdlIE1vZGVsO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgUGxhbiB7XG4gICAgcHJpdmF0ZSBpbnQgcGxhbl9pZDtcbiAgICBwcml2YXRlIFN0cmluZyBuYW1lO1xuICAgIHByaXZhdGUgbG9uZyBwcmljZTtcbiAgICBwcml2YXRlIGludCBtYXhfc3BlZWRfZG9tZXN0aWM7XG4gICAgcHJpdmF0ZSBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgcHJpdmF0ZSBpbnQgbWluX3NwZWVkX2RvbWVzdGljO1xuICAgIHByaXZhdGUgaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsO1xuXG4gICAgcHVibGljIFBsYW4oKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFBsYW4oaW50IHBsYW5faWQsIFN0cmluZyBuYW1lLCBsb25nIHByaWNlLCBpbnQgbWF4X3NwZWVkX2RvbWVzdGljLCBpbnQgbWF4X3NwZWVkX2ludGVybmF0aW9uYWwsIGludCBtaW5fc3BlZWRfZG9tZXN0aWMsIGludCBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbCkge1xuICAgICAgICB0aGlzLnBsYW5faWQgPSBwbGFuX2lkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByaWNlID0gcHJpY2U7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2RvbWVzdGljID0gbWF4X3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1heF9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2RvbWVzdGljID0gbWluX3NwZWVkX2RvbWVzdGljO1xuICAgICAgICB0aGlzLm1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsID0gbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRQbGFuX2lkKCkge1xuICAgICAgICByZXR1cm4gcGxhbl9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQbGFuX2lkKGludCBwbGFuX2lkKSB7XG4gICAgICAgIHRoaXMucGxhbl9pZCA9IHBsYW5faWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXROYW1lKFN0cmluZyBuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGxvbmcgZ2V0UHJpY2UoKSB7XG4gICAgICAgIHJldHVybiBwcmljZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQcmljZShsb25nIHByaWNlKSB7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1heF9zcGVlZF9kb21lc3RpYygpIHtcbiAgICAgICAgcmV0dXJuIG1heF9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfc3BlZWRfZG9tZXN0aWMoaW50IG1heF9zcGVlZF9kb21lc3RpYykge1xuICAgICAgICB0aGlzLm1heF9zcGVlZF9kb21lc3RpYyA9IG1heF9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1heF9zcGVlZF9pbnRlcm5hdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gbWF4X3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWF4X3NwZWVkX2ludGVybmF0aW9uYWwoaW50IG1heF9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMubWF4X3NwZWVkX2ludGVybmF0aW9uYWwgPSBtYXhfc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1pbl9zcGVlZF9kb21lc3RpYygpIHtcbiAgICAgICAgcmV0dXJuIG1pbl9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNaW5fc3BlZWRfZG9tZXN0aWMoaW50IG1pbl9zcGVlZF9kb21lc3RpYykge1xuICAgICAgICB0aGlzLm1pbl9zcGVlZF9kb21lc3RpYyA9IG1pbl9zcGVlZF9kb21lc3RpYztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldE1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gbWluX3NwZWVkX2ludGVybmF0aW9uYWw7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWluX3NwZWVkX2ludGVybmF0aW9uYWwoaW50IG1pbl9zcGVlZF9pbnRlcm5hdGlvbmFsKSB7XG4gICAgICAgIHRoaXMubWluX3NwZWVkX2ludGVybmF0aW9uYWwgPSBtaW5fc3BlZWRfaW50ZXJuYXRpb25hbDtcbiAgICB9XG4gICBcbiAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvQ29udHJhY3QuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lO1xuXG4vKipcbiAqXG4gKiBAYXV0aG9yIE5nb2MgVGhhb1xuICovXG5wdWJsaWMgY2xhc3MgQ29udHJhY3Qge1xuICAgIHByaXZhdGUgaW50IGNvbnRyYWN0X2lkO1xuICAgIHByaXZhdGUgaW50IHN1Yl9pZDtcbiAgICBwcml2YXRlIGludCBwYWNrYWdlX2lkO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBkYXRlX3NpZ247XG4gICAgcHJpdmF0ZSBMb2NhbERhdGVUaW1lIGRhdGVfZXhwaXJhdGlvbjtcbiAgICBwcml2YXRlIFN0cmluZyBhZGRyZXNzO1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQ7XG5cbiAgICBwdWJsaWMgQ29udHJhY3QoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIENvbnRyYWN0KGludCBjb250cmFjdF9pZCwgaW50IHN1Yl9pZCwgaW50IHBhY2thZ2VfaWQsIExvY2FsRGF0ZVRpbWUgZGF0ZV9zaWduLCBMb2NhbERhdGVUaW1lIGRhdGVfZXhwaXJhdGlvbiwgU3RyaW5nIGFkZHJlc3MsIExvY2FsRGF0ZVRpbWUgY3JlYXRlX2F0KSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICAgICAgdGhpcy5zdWJfaWQgPSBzdWJfaWQ7XG4gICAgICAgIHRoaXMucGFja2FnZV9pZCA9IHBhY2thZ2VfaWQ7XG4gICAgICAgIHRoaXMuZGF0ZV9zaWduID0gZGF0ZV9zaWduO1xuICAgICAgICB0aGlzLmRhdGVfZXhwaXJhdGlvbiA9IGRhdGVfZXhwaXJhdGlvbjtcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRDb250cmFjdF9pZCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRyYWN0X2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldENvbnRyYWN0X2lkKGludCBjb250cmFjdF9pZCkge1xuICAgICAgICB0aGlzLmNvbnRyYWN0X2lkID0gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRTdWJfaWQoKSB7XG4gICAgICAgIHJldHVybiBzdWJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3ViX2lkKGludCBzdWJfaWQpIHtcbiAgICAgICAgdGhpcy5zdWJfaWQgPSBzdWJfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRQYWNrYWdlX2lkKCkge1xuICAgICAgICByZXR1cm4gcGFja2FnZV9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYWNrYWdlX2lkKGludCBwYWNrYWdlX2lkKSB7XG4gICAgICAgIHRoaXMucGFja2FnZV9pZCA9IHBhY2thZ2VfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIExvY2FsRGF0ZVRpbWUgZ2V0RGF0ZV9zaWduKCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9zaWduO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERhdGVfc2lnbihMb2NhbERhdGVUaW1lIGRhdGVfc2lnbikge1xuICAgICAgICB0aGlzLmRhdGVfc2lnbiA9IGRhdGVfc2lnbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlVGltZSBnZXREYXRlX2V4cGlyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBkYXRlX2V4cGlyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9leHBpcmF0aW9uKExvY2FsRGF0ZVRpbWUgZGF0ZV9leHBpcmF0aW9uKSB7XG4gICAgICAgIHRoaXMuZGF0ZV9leHBpcmF0aW9uID0gZGF0ZV9leHBpcmF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRkcmVzcyhTdHJpbmcgYWRkcmVzcykge1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldENyZWF0ZV9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZSBjcmVhdGVfYXQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVfYXQgPSBjcmVhdGVfYXQ7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvTW9kZWwvQmlsbEhpc3RvcnkuamF2YVxuLypcbiAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvTGljZW5zZXMvbGljZW5zZS1kZWZhdWx0LnR4dCB0byBjaGFuZ2UgdGhpcyBsaWNlbnNlXG4gKiBDbGljayBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ2xhc3MuamF2YSB0byBlZGl0IHRoaXMgdGVtcGxhdGVcbiAqL1xucGFja2FnZSBNb2RlbDtcblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7XG5cbi8qKlxuICpcbiAqIEBhdXRob3IgTmdvYyBUaGFvXG4gKi9cbnB1YmxpYyBjbGFzcyBCaWxsSGlzdG9yeSB7XG4gICAgcHJpdmF0ZSBpbnQgYmlsbF9pZDtcbiAgICBwcml2YXRlIGludCBjb250cmFjdF9pZDtcbiAgICBwcml2YXRlIExvY2FsRGF0ZSBiaWxsaW5nX3BlcmlvZDtcbiAgICBwcml2YXRlIGxvbmcgYW1vdW50O1xuICAgIHByaXZhdGUgTG9jYWxEYXRlVGltZSBwYXltZW50X2RhdGU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzOyAgIFxuXG4gICAgcHVibGljIEJpbGxIaXN0b3J5KCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBCaWxsSGlzdG9yeShpbnQgYmlsbF9pZCwgaW50IGNvbnRyYWN0X2lkLCBMb2NhbERhdGUgYmlsbGluZ19wZXJpb2QsIGxvbmcgYW1vdW50LCBMb2NhbERhdGVUaW1lIHBheW1lbnRfZGF0ZSwgU3RyaW5nIHN0YXR1cykge1xuICAgICAgICB0aGlzLmJpbGxfaWQgPSBiaWxsX2lkO1xuICAgICAgICB0aGlzLmNvbnRyYWN0X2lkID0gY29udHJhY3RfaWQ7XG4gICAgICAgIHRoaXMuYmlsbGluZ19wZXJpb2QgPSBiaWxsaW5nX3BlcmlvZDtcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gICAgICAgIHRoaXMucGF5bWVudF9kYXRlID0gcGF5bWVudF9kYXRlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldEJpbGxfaWQoKSB7XG4gICAgICAgIHJldHVybiBiaWxsX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEJpbGxfaWQoaW50IGJpbGxfaWQpIHtcbiAgICAgICAgdGhpcy5iaWxsX2lkID0gYmlsbF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldENvbnRyYWN0X2lkKCkge1xuICAgICAgICByZXR1cm4gY29udHJhY3RfaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q29udHJhY3RfaWQoaW50IGNvbnRyYWN0X2lkKSB7XG4gICAgICAgIHRoaXMuY29udHJhY3RfaWQgPSBjb250cmFjdF9pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9jYWxEYXRlIGdldEJpbGxpbmdfcGVyaW9kKCkge1xuICAgICAgICByZXR1cm4gYmlsbGluZ19wZXJpb2Q7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QmlsbGluZ19wZXJpb2QoTG9jYWxEYXRlIGJpbGxpbmdfcGVyaW9kKSB7XG4gICAgICAgIHRoaXMuYmlsbGluZ19wZXJpb2QgPSBiaWxsaW5nX3BlcmlvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9uZyBnZXRBbW91bnQoKSB7XG4gICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QW1vdW50KGxvbmcgYW1vdW50KSB7XG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2NhbERhdGVUaW1lIGdldFBheW1lbnRfZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHBheW1lbnRfZGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXltZW50X2RhdGUoTG9jYWxEYXRlVGltZSBwYXltZW50X2RhdGUpIHtcbiAgICAgICAgdGhpcy5wYXltZW50X2RhdGUgPSBwYXltZW50X2RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKFN0cmluZyBzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuICAgIFxuICAgIFxufVxuLi4uXG5QYXRoOiBuYnByb2plY3QvY29uZmlncy9TaWduVXAucHJvcGVydGllc1xubWFpbi5jbGFzcz1pbnRlcm5ldC5tYW5nZW1lbnQuc3lzdGVtLlNpZ25VcFxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIzZTVkYzM3YS0xODlmLTRmYTYtYTQ5Yi02Nzk2N2EzYzU4MTY7dG9vbHVfMDFZUUM2dkozR29rUzJrRW11OUxHVUFyIjp7InJlcXVlc3RJZCI6IjNlNWRjMzdhLTE4OWYtNGZhNi1hNDliLTY3OTY3YTNjNTgxNiIsInRvb2xVc2VJZCI6InRvb2x1XzAxWVFDNnZKM0dva1Mya0VtdTlMR1VBciIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDFcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgXHUwMDFiWz85MDAxaFx1MDAxYls/MTAwNGhcdTAwMWJbPzI1bFx1MDAxYlsySlx1MDAxYlttXHUwMDFiW0hcblxuXG5cblxuXG5cblx1MDAxYltIXHUwMDFiXTA7QzpcXFdpbmRvd3NcXFN5c3RlbTMyXFxXaW5kb3dzUG93ZXJTaGVsbFxcdjEuMFxccG93ZXJzaGVsbC5leGVcdTAwMDdcdTAwMWJbPzI1aFx1MDAxYlszODs1OzltbXlzcWwgOiBUaGUgdGVybSAnbXlzcWwnIGlzIG5vdCByZWNvZ25pemVkIGFzIHRoZSBuYW1lIG9mIGEgY21kbGV0LCBmdW5jdGlvbiwgc2NyaXB0IGZpbGUsIG9yIG9wZXJhYmxlIHByb2dyYW0uIENoZWNrIHRoZSBzcGVsbGluZyBvZiB0aGUgbmFtZSwgb3IgaWYgYSBwYXRoIHdhcyBpbmNsdWRlZCwgdmVyaWZ5IFxudGhhdCB0aGUgcGF0aCBpcyBjb3JyZWN0IGFuZCB0cnkgYWdhaW4uXG5BdCBsaW5lOjEgY2hhcjoxXG4rIG15c3FsIC1oIDEyNS4yMTIuMjMxLjE4NCAtUCA2OTY5IC11IG1pbnRvcmkwOSAtcCdNaW50b3J5MDlAOTYnIC1lIFwiREUgLi4uXG4rIH5+fn5+XG4gICAgKyBDYXRlZ29yeUluZm8gICAgICAgICAgOiBPYmplY3ROb3RGb3VuZDogKG15c3FsOlN0cmluZykgW10sIENvbW1hbmROb3RGb3VuZEV4Y2VwdGlvblxuICAgICsgRnVsbHlRdWFsaWZpZWRFcnJvcklkIDogQ29tbWFuZE5vdEZvdW5kRXhjZXB0aW9uXG4gXHUwMDFiW21cblxuICAgICAgICA8L3N0ZG91dD5cbiAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgXG4gICAgICAgIDwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVmMzdhMTdjLTE4MzgtNDkwMS1hODJmLWZlMjJkMmExMDQ5Zjt0b29sdV8wMTVxa0J4a2ZvYmplNm1nc3lVaXhZN1giOnsicmVxdWVzdElkIjoiZWYzN2ExN2MtMTgzOC00OTAxLWE4MmYtZmUyMmQyYTEwNDlmIiwidG9vbFVzZUlkIjoidG9vbHVfMDE1cWtCeGtmb2JqZTZtZ3N5VWl4WTdYIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YTpcbiAgICAgMVx0LypcbiAgICAgMlx0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9MaWNlbnNlcy9saWNlbnNlLWRlZmF1bHQudHh0IHRvIGNoYW5nZSB0aGlzIGxpY2Vuc2VcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG4gICAgMTFcdGltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG4gICAgMTJcdFxuICAgIDEzXHQvKipcbiAgICAxNFx0ICpcbiAgICAxNVx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxNlx0ICovXG4gICAgMTdcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDE4XHRcbiAgICAxOVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcbiAgICAyMFx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDIxXHQgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XG4gICAgMjJcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAyM1x0ICAgICAgICBcbiAgICAyNFx0ICAgICAgICB0cnkge1xuICAgIDI1XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAyNlx0ICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICAyN1x0ICAgICAgICAgICAgXG4gICAgMjhcdCAgICAgICAgICAgIFN0cmluZyBzcWxVc2VyID0gXCJJTlNFUlQgSU5UTyBVU0VSKHVzZXJfaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDI5XHQgICAgICAgICAgICBwc1VzZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsVXNlcik7XG4gICAgMzBcdCAgICAgICAgICAgIHBzVXNlci5zZXRJbnQoMSwgb2JqLmdldFVzZXJfaWQoKSk7XG4gICAgMzFcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgIDMyXHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICAzM1x0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICAzNFx0ICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICAzNVx0ICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAzNlx0ICAgICAgICAgICAgXG4gICAgMzdcdCAgICAgICAgICAgIFN0cmluZyBzcWxTdWJzY3JpYmVyID0gXCJJTlNFUlQgSU5UTyBTVUJTQ1JJQkVSIChzdWJzY3JpYmVyX2lkLCBuYW1lLCBhZGRyZXNzLCBwaG9uZSwgdXNlcl9pZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KVwiO1xuICAgIDM4XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIgPSBjb25uLnByZXBhcmVTdGF0ZW1lbnQoc3FsU3Vic2NyaWJlcik7XG4gICAgMzlcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoMSwgb2JqLmdldFN1YnNjcmliZXJfaWQoKSk7XG4gICAgNDBcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRTdHJpbmcoMiwgb2JqLmdldEZ1bGxOYW1lKCkpO1xuICAgIDQxXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgIDQyXHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDQsIG9iai5nZXRQaG9uZSgpKTtcbiAgICA0M1x0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCg1LCBvYmouZ2V0VXNlcl9pZCgpKTtcbiAgICA0NFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA0NVx0ICAgICAgICAgICAgXG4gICAgNDZcdCAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgNDdcdCAgICAgICAgfVxuICAgIDQ4XHQgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDQ5XHQgICAgICAgICAgICB0cnkge1xuICAgIDUwXHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgIDUxXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xuICAgIDUyXHQgICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA1M1x0ICAgICAgICAgICAgfVxuICAgIDU0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDU1XHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgNTZcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNTdcdCAgICAgICAgICAgICAgICBpZiAocHNTdWJzY3JpYmVyICE9IG51bGwpIHBzU3Vic2NyaWJlci5jbG9zZSgpO1xuICAgIDU4XHQgICAgICAgICAgICAgICAgaWYgKHBzVXNlciAhPSBudWxsKSBwc1VzZXIuY2xvc2UoKTtcbiAgICA1OVx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4uY2xvc2UoKTtcbiAgICA2MFx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7XG4gICAgNjFcdCAgICAgICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2Mlx0ICAgICAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIH1cbiAgICA2NFx0ICAgIH1cbiAgICA2NVx0XG4gICAgNjZcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgdXBkYXRlKFN1YnNjcmliZXIgb2JqKSB7XG4gICAgNjdcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgNjhcdCAgICB9XG4gICAgNjlcdFxuICAgIDcwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIGRlbGV0ZShpbnQgaWQpIHtcbiAgICA3MVx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3Mlx0ICAgIH1cbiAgICA3M1x0XG4gICAgNzRcdCAgICBwdWJsaWMgc3RhdGljIFN1YnNjcmliZXIgZ2V0QnlJZChpbnQgaWQpIHtcbiAgICA3NVx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3Nlx0ICAgIH1cbiAgICA3N1x0XG4gICAgNzhcdCAgICBwdWJsaWMgc3RhdGljIExpc3Q8U3Vic2NyaWJlcj4gZ2V0QWxsKCkge1xuICAgIDc5XHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDgwXHQgICAgfVxuICAgIDgxXHQgICAgXG4gICAgODJcdH1cbiAgICA4M1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA4M1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiM2Y0NDAzZjEtOTM0Ni00Njg4LWI5MjEtYzk4NGVhYjVlMTFkO3Rvb2x1XzAxVGNhWEJhQ3kzN2FiUGhERzZCbXFWRSI6eyJyZXF1ZXN0SWQiOiIzZjQ0MDNmMS05MzQ2LTQ2ODgtYjkyMS1jOTg0ZWFiNWUxMWQiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVRjYVhCYUN5MzdhYlBoREc2Qm1xVkUiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhOlxuICAgMjcwXHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjcxXHQgICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgIDI3Mlx0ICAgICAgICBzdWIuc2V0RnVsbE5hbWUodHh0TmFtZS5nZXRUZXh0KCkpO1xuICAgMjczXHQgICAgICAgIHN1Yi5zZXRVc2VybmFtZSh0eHRVc2VyTmFtZS5nZXRUZXh0KCkpO1xuICAgMjc0XHQgICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgMjc1XHQgICAgICAgIHN1Yi5zZXRSb2xlKERFRkFVTFRfUk9MRSk7XG4gICAyNzZcdCAgICAgICAgc3ViLnNldEFkZHJlc3ModHh0QWRkcmVzcy5nZXRUZXh0KCkpO1xuICAgMjc3XHQgICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgMjc4XHQgICAgICAgIHN1Yi5zZXRDcmVhdGVfYXQoTG9jYWxEYXRlVGltZS5ub3coKSk7XG4gICAyNzlcdCAgICAgICAgU3Vic2NyaWJlckRBTy5pbnNlcnQoc3ViKTtcbiAgIDI4MFx0ICAgICAgICBjbGVhcigpO1xuICAgMjgxXHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyODJcdFxuICAgMjgzXHQgICAgcHJpdmF0ZSB2b2lkIHR4dE5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgIDI4NFx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI4NVx0ICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuICAgMjg2XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfdHh0TmFtZUtleVJlbGVhc2VkXG4gICAyODdcdFxuICAgMjg4XHQgICAgcHJpdmF0ZSB2b2lkIHR4dFVzZXJOYW1lS2V5UmVsZWFzZWQoamF2YS5hd3QuZXZlbnQuS2V5RXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfdHh0VXNlck5hbWVLZXlSZWxlYXNlZFxuICAgMjg5XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjkwXHQgICAgICAgIHZhbGlkYXRlRmllbGRzKCk7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVhYjNiODVkLWEzMDUtNDNkNC1hYTM3LTI0NTJmMTMxOGM4MTt0b29sdV8wMUprWmVUdXYyUlBHUFg1WkZXWkR5em0iOnsicmVxdWVzdElkIjoiZWFiM2I4NWQtYTMwNS00M2Q0LWFhMzctMjQ1MmYxMzE4YzgxIiwidG9vbFVzZUlkIjoidG9vbHVfMDFKa1plVHV2MlJQR1BYNVpGV1pEeXptIiwicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvREFPL1N1YnNjcmliZXJEQU8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDNcdCAqIENsaWNrIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9DbGFzcy5qYXZhIHRvIGVkaXQgdGhpcyB0ZW1wbGF0ZVxuICAgICA0XHQgKi9cbiAgICAgNVx0cGFja2FnZSBEQU87XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgTW9kZWwuU3Vic2NyaWJlcjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDExXHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgIDEyXHRpbXBvcnQgamF2YS5zcWwuU3RhdGVtZW50O1xuICAgIDEzXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDE0XHRpbXBvcnQgamF2YXguc3dpbmcuSk9wdGlvblBhbmU7XG4gICAgMTVcdFxuICAgIDE2XHQvKipcbiAgICAxN1x0ICpcbiAgICAxOFx0ICogQGF1dGhvciBOZ29jIFRoYW9cblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOFx0ICogQGF1dGhvciBOZ29jIFRoYW9cbiAgICAxOVx0ICovXG4gICAgMjBcdHB1YmxpYyBjbGFzcyBTdWJzY3JpYmVyREFPe1xuICAgIDIxXHRcbiAgICAyMlx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBpbnNlcnQoU3Vic2NyaWJlciBvYmopIHtcbiAgICAyM1x0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDI0XHQgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzVXNlciA9IG51bGw7XG4gICAgMjVcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHNTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAyNlx0ICAgICAgICBSZXN1bHRTZXQgcnMgPSBudWxsO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICB0cnkge1xuICAgIDI5XHQgICAgICAgICAgICBjb25uID0gQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm4oKTtcbiAgICAzMFx0ICAgICAgICAgICAgY29ubi5zZXRBdXRvQ29tbWl0KGZhbHNlKTtcbiAgICAzMVx0XG4gICAgMzJcdCAgICAgICAgICAgIC8vIEdlbmVyYXRlIHVzZXJfaWRcbiAgICAzM1x0ICAgICAgICAgICAgaW50IHVzZXJJZCA9IGdlbmVyYXRlTmV4dElkKGNvbm4sIFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgMzRcdCAgICAgICAgICAgIG9iai5zZXRVc2VyX2lkKHVzZXJJZCk7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgICAgICAvLyBHZW5lcmF0ZSBzdWJzY3JpYmVyX2lkXG4gICAgMzdcdCAgICAgICAgICAgIGludCBzdWJzY3JpYmVySWQgPSBnZW5lcmF0ZU5leHRJZChjb25uLCBcIlNVQlNDUklCRVJcIiwgXCJzdWJzY3JpYmVyX2lkXCIpO1xuICAgIDM4XHQgICAgICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuICAgIDM5XHRcbiAgICA0MFx0ICAgICAgICAgICAgLy8gSW5zZXJ0IGludG8gVVNFUiB0YWJsZSBmaXJzdFxuICAgIDQxXHQgICAgICAgICAgICBTdHJpbmcgc3FsVXNlciA9IFwiSU5TRVJUIElOVE8gVVNFUih1c2VyX2lkLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsIGNyZWF0ZWRfYXQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA0Mlx0ICAgICAgICAgICAgcHNVc2VyID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KHNxbFVzZXIpO1xuICAgIDQzXHQgICAgICAgICAgICBwc1VzZXIuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgNDRcdCAgICAgICAgICAgIHBzVXNlci5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgIDQ1XHQgICAgICAgICAgICBwc1VzZXIuc2V0U3RyaW5nKDMsIG9iai5nZXRQYXNzd29yZCgpKTtcbiAgICA0Nlx0ICAgICAgICAgICAgcHNVc2VyLnNldFN0cmluZyg0LCBvYmouZ2V0Um9sZSgpKTtcbiAgICA0N1x0ICAgICAgICAgICAgcHNVc2VyLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICA0OFx0ICAgICAgICAgICAgcHNVc2VyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA0OVx0XG4gICAgNTBcdCAgICAgICAgICAgIC8vIFRoZW4gaW5zZXJ0IGludG8gU1VCU0NSSUJFUiB0YWJsZSB3aXRoIHRoZSBzYW1lIHVzZXJfaWRcbiAgICA1MVx0ICAgICAgICAgICAgU3RyaW5nIHNxbFN1YnNjcmliZXIgPSBcIklOU0VSVCBJTlRPIFNVQlNDUklCRVIgKHN1YnNjcmliZXJfaWQsIG5hbWUsIGFkZHJlc3MsIHBob25lLCB1c2VyX2lkKSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgNTJcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlciA9IGNvbm4ucHJlcGFyZVN0YXRlbWVudChzcWxTdWJzY3JpYmVyKTtcbiAgICA1M1x0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgIDU0XHQgICAgICAgICAgICBwc1N1YnNjcmliZXIuc2V0U3RyaW5nKDIsIG9iai5nZXRGdWxsTmFtZSgpKTtcbiAgICA1NVx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZygzLCBvYmouZ2V0QWRkcmVzcygpKTtcbiAgICA1Nlx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgNTdcdCAgICAgICAgICAgIHBzU3Vic2NyaWJlci5zZXRJbnQoNSwgdXNlcklkKTsgLy8gVXNlIHRoZSBzYW1lIHVzZXJfaWRcbiAgICA1OFx0ICAgICAgICAgICAgcHNTdWJzY3JpYmVyLmV4ZWN1dGVVcGRhdGUoKTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgICAgIGNvbm4uY29tbWl0KCk7XG4gICAgNjFcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIsIFwiVGjDtG5nIGLDoW9cIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgNjJcdCAgICAgICAgfVxuICAgIDYzXHQgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDY0XHQgICAgICAgICAgICB0cnkge1xuICAgIDY1XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5yb2xsYmFjaygpO1xuICAgIDY2XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gcm9sbGJhY2tFeCkge1xuICAgIDY3XHQgICAgICAgICAgICAgICAgcm9sbGJhY2tFeC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2OFx0ICAgICAgICAgICAgfVxuICAgIDY5XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIkzhu5dpOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDcwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDcxXHQgICAgICAgIH0gZmluYWxseSB7XG4gICAgNzJcdCAgICAgICAgICAgIHRyeSB7XG4gICAgNzNcdCAgICAgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgICA3NFx0ICAgICAgICAgICAgICAgIGlmIChwc1N1YnNjcmliZXIgIT0gbnVsbCkgcHNTdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgNzVcdCAgICAgICAgICAgICAgICBpZiAocHNVc2VyICE9IG51bGwpIHBzVXNlci5jbG9zZSgpO1xuICAgIDc2XHQgICAgICAgICAgICAgICAgaWYgKGNvbm4gIT0gbnVsbCkgY29ubi5jbG9zZSgpO1xuICAgIDc3XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICA3OFx0ICAgICAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDc5XHQgICAgICAgICAgICB9XG4gICAgODBcdCAgICAgICAgfVxuICAgIDgxXHQgICAgfVxuICAgIDgyXHRcbiAgICA4M1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA4NFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZWY2MjkxOWYtNGJjMC00NDhlLTlmN2YtMGFjM2RmODU2ZTljO3Rvb2x1XzAxV1p2NWJMd0NWZGUyd1dNRmlqYkhheiI6eyJyZXF1ZXN0SWQiOiJlZjYyOTE5Zi00YmMwLTQ0OGUtOWY3Zi0wYWMzZGY4NTZlOWMiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVdadjViTHdDVmRlMndXTUZpamJIYXoiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA5MVx0ICAgIHB1YmxpYyBzdGF0aWMgU3Vic2NyaWJlciBnZXRCeUlkKGludCBpZCkge1xuICAgIDkyXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuICAgIDkzXHQgICAgfVxuICAgIDk0XHRcbiAgICA5NVx0ICAgIHB1YmxpYyBzdGF0aWMgTGlzdDxTdWJzY3JpYmVyPiBnZXRBbGwoKSB7XG4gICAgOTZcdCAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiTm90IHN1cHBvcnRlZCB5ZXQuXCIpOyAvLyBHZW5lcmF0ZWQgZnJvbSBuYmZzOi8vbmJob3N0L1N5c3RlbUZpbGVTeXN0ZW0vVGVtcGxhdGVzL0NsYXNzZXMvQ29kZS9HZW5lcmF0ZWRNZXRob2RCb2R5XG4gICAgOTdcdCAgICB9XG4gICAgOThcdFxuICAgIDk5XHQgICAgLyoqXG4gICAxMDBcdCAgICAgKiBHZW5lcmF0ZSB0aGUgbmV4dCBhdmFpbGFibGUgSUQgZm9yIGEgdGFibGVcbiAgIDEwMVx0ICAgICAqIEBwYXJhbSBjb25uIERhdGFiYXNlIGNvbm5lY3Rpb25cbiAgIDEwMlx0ICAgICAqIEBwYXJhbSB0YWJsZU5hbWUgTmFtZSBvZiB0aGUgdGFibGVcbiAgIDEwM1x0ICAgICAqIEBwYXJhbSBpZENvbHVtbk5hbWUgTmFtZSBvZiB0aGUgSUQgY29sdW1uXG4gICAxMDRcdCAgICAgKiBAcmV0dXJuIE5leHQgYXZhaWxhYmxlIElEXG4gICAxMDVcdCAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbiBJZiBhbiBlcnJvciBvY2N1cnNcbiAgIDEwNlx0ICAgICAqL1xuICAgMTA3XHQgICAgcHJpdmF0ZSBzdGF0aWMgaW50IGdlbmVyYXRlTmV4dElkKENvbm5lY3Rpb24gY29ubiwgU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAxMDhcdCAgICAgICAgaW50IG5leHRJZCA9IDE7IC8vIERlZmF1bHQgc3RhcnRpbmcgSURcbiAgIDEwOVx0ICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IG51bGw7XG4gICAxMTBcdCAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgIDExMVx0XG4gICAxMTJcdCAgICAgICAgdHJ5IHtcbiAgIDExM1x0ICAgICAgICAgICAgc3RtdCA9IGNvbm4uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAxMTRcdCAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIE1BWChcIiArIGlkQ29sdW1uTmFtZSArIFwiKSBBUyBtYXhfaWQgRlJPTSBcIiArIHRhYmxlTmFtZTtcbiAgIDExNVx0ICAgICAgICAgICAgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeShxdWVyeSk7XG4gICAxMTZcdFxuICAgMTE3XHQgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAxMThcdCAgICAgICAgICAgICAgICBpbnQgbWF4SWQgPSBycy5nZXRJbnQoXCJtYXhfaWRcIik7XG4gICAxMTlcdCAgICAgICAgICAgICAgICBuZXh0SWQgPSBtYXhJZCArIDE7XG4gICAxMjBcdCAgICAgICAgICAgIH1cbiAgIDEyMVx0ICAgICAgICB9IGZpbmFsbHkge1xuICAgMTIyXHQgICAgICAgICAgICBpZiAocnMgIT0gbnVsbCkgcnMuY2xvc2UoKTtcbiAgIDEyM1x0ICAgICAgICAgICAgaWYgKHN0bXQgIT0gbnVsbCkgc3RtdC5jbG9zZSgpO1xuICAgMTI0XHQgICAgICAgIH1cbiAgIDEyNVx0XG4gICAxMjZcdCAgICAgICAgcmV0dXJuIG5leHRJZDtcbiAgIDEyN1x0ICAgIH1cbiAgIDEyOFx0fVxuICAgMTI5XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiY2VkZDI5YjQtY2NmYy00YWE2LTkwODMtMmY0MTBiN2FhZTJmO3Rvb2x1XzAxVEg5djN3U205RDZ2SDk4ZGc0ODdnViI6eyJyZXF1ZXN0SWQiOiJjZWRkMjliNC1jY2ZjLTRhYTYtOTA4My0yZjQxMGI3YWFlMmYiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVRIOXYzd1NtOUQ2dkg5OGRnNDg3Z1YiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9pbnRlcm5ldC9tYW5nZW1lbnQvc3lzdGVtL1NpZ25VcC5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAzMVx0ICAgICAgICB0eHRBZGRyZXNzLnNldFRleHQoXCJcIik7XG4gICAgMzJcdCAgICAgICAgdHh0UGhvbmUuc2V0VGV4dChcIlwiKTtcbiAgICAzM1x0ICAgIH1cbiAgICAzNFx0XG4gICAgMzVcdCAgICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUZpZWxkcygpe1xuICAgIDM2XHQgICAgICAgIFN0cmluZyBuYW1lID0gdHh0TmFtZS5nZXRUZXh0KCk7XG4gICAgMzdcdCAgICAgICAgU3RyaW5nIHVzZXJOYW1lID0gdHh0VXNlck5hbWUuZ2V0VGV4dCgpO1xuICAgIDM4XHQgICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKTtcbiAgICAzOVx0ICAgICAgICBTdHJpbmcgYWRkcmVzcyA9IHR4dEFkZHJlc3MuZ2V0VGV4dCgpO1xuICAgIDQwXHQgICAgICAgIFN0cmluZyBwaG9uZSA9IHR4dFBob25lLmdldFRleHQoKTtcbiAgICA0MVx0XG4gICAgNDJcdCAgICAgICAgaWYobmFtZS5pc0VtcHR5KCkgfHwgdXNlck5hbWUuaXNFbXB0eSgpIHx8IHBhc3N3b3JkLmlzRW1wdHkoKSB8fCBhZGRyZXNzLmlzRW1wdHkoKSB8fCBwaG9uZS5pc0VtcHR5KCkpe1xuICAgIDQzXHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBraMO0bmcgYuG7jyB0cuG7kW5nIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ0XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDVcdCAgICAgICAgfVxuICAgIDQ2XHQgICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDQ3XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ4XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUxXHQgICAgfVxuICAgIDUyXHQgICAgfVxuICAgIDUzXHRcbiAgICA1NFx0ICAgIC8qKlxuICAgIDU1XHQgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsxXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjY2XHQgICAgICAgIC8vIFRPRE8gYWRkIHlvdXIgaGFuZGxpbmcgY29kZSBoZXJlOlxuICAgMjY3XHRcbiAgIDI2OFx0ICAgIH0vL0dFTi1MQVNUOmV2ZW50X2J0blJldHVybkFjdGlvblBlcmZvcm1lZFxuICAgMjY5XHRcbiAgIDI3MFx0ICAgIHByaXZhdGUgdm9pZCBidG5TaWdudXBBY3Rpb25QZXJmb3JtZWQoamF2YS5hd3QuZXZlbnQuQWN0aW9uRXZlbnQgZXZ0KSB7Ly9HRU4tRklSU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyNzFcdCAgICAgICAgLy8gVE9ETyBhZGQgeW91ciBoYW5kbGluZyBjb2RlIGhlcmU6XG4gICAyNzJcdCAgICAgICAgaWYgKHZhbGlkYXRlRmllbGRzKCkpIHtcbiAgIDI3M1x0ICAgICAgICAgICAgdHJ5IHtcbiAgIDI3NFx0ICAgICAgICAgICAgICAgIFN1YnNjcmliZXIgc3ViID0gbmV3IFN1YnNjcmliZXIoKTtcbiAgIDI3NVx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRGdWxsTmFtZSh0eHROYW1lLmdldFRleHQoKSk7XG4gICAyNzZcdCAgICAgICAgICAgICAgICBzdWIuc2V0VXNlcm5hbWUodHh0VXNlck5hbWUuZ2V0VGV4dCgpKTtcbiAgIDI3N1x0ICAgICAgICAgICAgICAgIHN1Yi5zZXRQYXNzd29yZCh0eHRQYXNzd29yZC5nZXRUZXh0KCkpO1xuICAgMjc4XHQgICAgICAgICAgICAgICAgc3ViLnNldFJvbGUoREVGQVVMVF9ST0xFKTtcbiAgIDI3OVx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRBZGRyZXNzKHR4dEFkZHJlc3MuZ2V0VGV4dCgpKTtcbiAgIDI4MFx0ICAgICAgICAgICAgICAgIHN1Yi5zZXRQaG9uZSh0eHRQaG9uZS5nZXRUZXh0KCkpO1xuICAgMjgxXHQgICAgICAgICAgICAgICAgc3ViLnNldENyZWF0ZV9hdChMb2NhbERhdGVUaW1lLm5vdygpKTtcbiAgIDI4Mlx0ICAgICAgICAgICAgICAgIFN1YnNjcmliZXJEQU8uaW5zZXJ0KHN1Yik7XG4gICAyODNcdCAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgMjg0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgIDI4NVx0ICAgICAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiTOG7l2k6IFwiICsgZXguZ2V0TWVzc2FnZSgpLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgMjg2XHQgICAgICAgICAgICB9XG4gICAyODdcdCAgICAgICAgfVxuICAgMjg4XHQgICAgfS8vR0VOLUxBU1Q6ZXZlbnRfYnRuU2lnbnVwQWN0aW9uUGVyZm9ybWVkXG4gICAyODlcdFxuICAgMjkwXHQgICAgcHJpdmF0ZSB2b2lkIHR4dE5hbWVLZXlSZWxlYXNlZChqYXZhLmF3dC5ldmVudC5LZXlFdmVudCBldnQpIHsvL0dFTi1GSVJTVDpldmVudF90eHROYW1lS2V5UmVsZWFzZWRcbiAgIDI5MVx0ICAgICAgICAvLyBUT0RPIGFkZCB5b3VyIGhhbmRsaW5nIGNvZGUgaGVyZTpcbiAgIDI5Mlx0ICAgICAgICB2YWxpZGF0ZUZpZWxkcygpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJjZDNhYzdkOS02ZjUyLTRlZTUtOWJlMC00MWFjOTU0OWFhZGU7dG9vbHVfMDE0cGJ4WHZZb1ZVQ0VZSG5kanZpVE1EIjp7InJlcXVlc3RJZCI6ImNkM2FjN2Q5LTZmNTItNGVlNS05YmUwLTQxYWM5NTQ5YWFkZSIsInRvb2xVc2VJZCI6InRvb2x1XzAxNHBieFh2WW9WVUNFWUhuZGp2aVRNRCIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL2ludGVybmV0L21hbmdlbWVudC9zeXN0ZW0vU2lnblVwLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDQ2XHQgICAgICAgIGVsc2UgaWYocGhvbmUubGVuZ3RoKCkgIT0gMTAgfHwgIXBob25lLm1hdGNoZXMocGhvbmVQYXR0ZXJuKSkge1xuICAgIDQ3XHQgICAgICAgICAgICBKT3B0aW9uUGFuZS5zaG93TWVzc2FnZURpYWxvZyhudWxsLCBcIlZ1aSBsw7JuZyBuaOG6rXAgxJHDum5nIMSR4buLbmggZOG6oW5nIHPhu5EgxJFp4buHbiB0aG/huqFpIVwiLCBcIlRow7RuZyBiw6FvXCIsIEpPcHRpb25QYW5lLkVSUk9SX01FU1NBR0UpO1xuICAgIDQ4XHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgNDlcdCAgICAgICAgfVxuICAgIDUwXHQgICAgICAgIHJldHVybiB0cnVlO1xuICAgIDUxXHQgICAgfVxuICAgIDUyXHRcbiAgICA1M1x0ICAgIC8qKlxuICAgIDU0XHQgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3RvciB0byBpbml0aWFsaXplIHRoZSBmb3JtLlxuICAgIDU1XHQgICAgICogV0FSTklORzogRG8gTk9UIG1vZGlmeSB0aGlzIGNvZGUuIFRoZSBjb250ZW50IG9mIHRoaXMgbWV0aG9kIGlzIGFsd2F5c1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0NDE1NWZkNy1iY2YwLTRmNTQtYjM2YS0yM2YzNWU4OTY0ZjY7dG9vbHVfMDFIdW1rcVE0OWs5bkdzbnhNSkwxdldVIjp7InJlcXVlc3RJZCI6IjQ0MTU1ZmQ3LWJjZjAtNGY1NC1iMzZhLTIzZjM1ZTg5NjRmNiIsInRvb2xVc2VJZCI6InRvb2x1XzAxSHVta3FRNDlrOW5Hc254TUpMMXZXVSIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9EYk9wZXJhdGlvbnMuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgREFPO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG4gICAgIDRcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAgNVx0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAgNlx0aW1wb3J0IGphdmEuc3FsLlN0YXRlbWVudDtcbiAgICAgN1x0aW1wb3J0IGphdmF4LnN3aW5nLkpPcHRpb25QYW5lO1xuICAgICA4XHRcbiAgICAgOVx0cHVibGljIGNsYXNzIERiT3BlcmF0aW9ucyB7XG4gICAgMTBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgc2V0RGF0YU9yRGVsZXRlKFN0cmluZyBxdWVyeSwgU3RyaW5nIG1zZykge1xuICAgIDExXHQgICAgICAgIENvbm5lY3Rpb24gY29ubiA9IG51bGw7XG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdGltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG4gICAgIDZcdGltcG9ydCBqYXZhLnNxbC5TdGF0ZW1lbnQ7XG4gICAgIDdcdGltcG9ydCBqYXZheC5zd2luZy5KT3B0aW9uUGFuZTtcbiAgICAgOFx0XG4gICAgIDlcdHB1YmxpYyBjbGFzcyBEYk9wZXJhdGlvbnMge1xuICAgIDEwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHNldERhdGFPckRlbGV0ZShTdHJpbmcgcXVlcnksIFN0cmluZyBtc2cpIHtcbiAgICAxMVx0ICAgICAgICBDb25uZWN0aW9uIGNvbm4gPSBudWxsO1xuICAgIDEyXHQgICAgICAgIFN0YXRlbWVudCBzdCA9IG51bGw7XG4gICAgMTNcdCAgICAgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgMTVcdCAgICAgICAgICAgIHN0ID0gY29ubi5jcmVhdGVTdGF0ZW1lbnQoKTtcbiAgICAxNlx0ICAgICAgICAgICAgc3QuZXhlY3V0ZVVwZGF0ZShxdWVyeSk7XG4gICAgMTdcdFxuICAgIDE4XHQgICAgICAgICAgICBpZighbXNnLmVxdWFscyhcIlwiKSkge1xuICAgIDE5XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgbXNnLCBcIk1lc3NhZ2VcIiwgSk9wdGlvblBhbmUuSU5GT1JNQVRJT05fTUVTU0FHRSk7XG4gICAgMjBcdCAgICAgICAgICAgIH1cbiAgICAyMVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAyMlx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZXgsIFwiTWVzc2FnZVwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICAyM1x0ICAgICAgICB9IGZpbmFsbHkge1xuICAgIDI0XHQgICAgICAgICAgICB0cnkge1xuICAgIDI1XHQgICAgICAgICAgICAgICAgaWYgKHN0ICE9IG51bGwpIHN0LmNsb3NlKCk7XG4gICAgMjZcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgMjdcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjhcdCAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI5XHQgICAgICAgICAgICB9XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIC8qKlxuICAgIDM0XHQgICAgICogR2VuZXJhdGUgdGhlIG5leHQgYXZhaWxhYmxlIElEIGZvciBhIHRhYmxlXG4gICAgMzVcdCAgICAgKiBAcGFyYW0gdGFibGVOYW1lIE5hbWUgb2YgdGhlIHRhYmxlXG4gICAgMzZcdCAgICAgKiBAcGFyYW0gaWRDb2x1bW5OYW1lIE5hbWUgb2YgdGhlIElEIGNvbHVtblxuICAgIDM3XHQgICAgICogQHJldHVybiBOZXh0IGF2YWlsYWJsZSBJRFxuICAgIDM4XHQgICAgICovXG4gICAgMzlcdCAgICBwdWJsaWMgc3RhdGljIGludCBnZXROZXh0SWQoU3RyaW5nIHRhYmxlTmFtZSwgU3RyaW5nIGlkQ29sdW1uTmFtZSkge1xuICAgIDQwXHQgICAgICAgIGludCBuZXh0SWQgPSAxOyAvLyBEZWZhdWx0IHN0YXJ0aW5nIElEXG4gICAgNDFcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICA0Mlx0ICAgICAgICBTdGF0ZW1lbnQgc3RtdCA9IG51bGw7XG4gICAgNDNcdCAgICAgICAgUmVzdWx0U2V0IHJzID0gbnVsbDtcbiAgICA0NFx0XG4gICAgNDVcdCAgICAgICAgdHJ5IHtcbiAgICA0Nlx0ICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgNDdcdCAgICAgICAgICAgIHN0bXQgPSBjb25uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgIDQ4XHQgICAgICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIlNFTEVDVCBNQVgoXCIgKyBpZENvbHVtbk5hbWUgKyBcIikgQVMgbWF4X2lkIEZST00gXCIgKyB0YWJsZU5hbWU7XG4gICAgNDlcdCAgICAgICAgICAgIHJzID0gc3RtdC5leGVjdXRlUXVlcnkocXVlcnkpO1xuICAgIDUwXHRcbiAgICA1MVx0ICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgIDUyXHQgICAgICAgICAgICAgICAgaW50IG1heElkID0gcnMuZ2V0SW50KFwibWF4X2lkXCIpO1xuICAgIDUzXHQgICAgICAgICAgICAgICAgbmV4dElkID0gbWF4SWQgKyAxO1xuICAgIDU0XHQgICAgICAgICAgICB9XG4gICAgNTVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICA1Nlx0ICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgZSwgXCJFcnJvclwiLCBKT3B0aW9uUGFuZS5FUlJPUl9NRVNTQUdFKTtcbiAgICA1N1x0ICAgICAgICB9IGZpbmFsbHkge1xuICAgIDU4XHQgICAgICAgICAgICB0cnkge1xuICAgIDU5XHQgICAgICAgICAgICAgICAgaWYgKHJzICE9IG51bGwpIHJzLmNsb3NlKCk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICBpZiAoc3RtdCAhPSBudWxsKSBzdG10LmNsb3NlKCk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICBpZiAoY29ubiAhPSBudWxsKSBjb25uLmNsb3NlKCk7XG4gICAgNjJcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgNjNcdCAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDY0XHQgICAgICAgICAgICB9XG4gICAgNjVcdCAgICAgICAgfVxuICAgIDY2XHRcbiAgICA2N1x0ICAgICAgICByZXR1cm4gbmV4dElkO1xuICAgIDY4XHQgICAgfVxuICAgIDY5XHRcbiAgICA3MFx0ICAgIC8qKlxuICAgIDcxXHQgICAgICogRXhlY3V0ZSBhIHRyYW5zYWN0aW9uIHdpdGggbXVsdGlwbGUgU1FMIG9wZXJhdGlvbnNcbiAgICA3Mlx0ICAgICAqIEBwYXJhbSBvcGVyYXRpb25zIEFycmF5IG9mIFNRTCBvcGVyYXRpb25zIHRvIGV4ZWN1dGVcbiAgICA3M1x0ICAgICAqIEBwYXJhbSBzdWNjZXNzTXNnIE1lc3NhZ2UgdG8gZGlzcGxheSBvbiBzdWNjZXNzXG4gICAgNzRcdCAgICAgKiBAcmV0dXJuIHRydWUgaWYgdHJhbnNhY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZVxuICAgIDc1XHQgICAgICovXG4gICAgNzZcdCAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gZXhlY3V0ZVRyYW5zYWN0aW9uKFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMsIFN0cmluZyBzdWNjZXNzTXNnKSB7XG4gICAgNzdcdCAgICAgICAgQ29ubmVjdGlvbiBjb25uID0gbnVsbDtcbiAgICA3OFx0ICAgICAgICBib29sZWFuIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICA3OVx0XG4gICAgODBcdCAgICAgICAgdHJ5IHtcbiAgICA4MVx0ICAgICAgICAgICAgY29ubiA9IENvbm5lY3Rpb25Qcm92aWRlci5nZXRDb25uKCk7XG4gICAgODJcdCAgICAgICAgICAgIGNvbm4uc2V0QXV0b0NvbW1pdChmYWxzZSk7XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgICAgICAvLyBFeGVjdXRlIGFsbCBvcGVyYXRpb25zXG4gICAgODVcdCAgICAgICAgICAgIGZvciAoU3FsT3BlcmF0aW9uIG9wZXJhdGlvbiA6IG9wZXJhdGlvbnMpIHtcbiAgICA4Nlx0ICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHBzID0gY29ubi5wcmVwYXJlU3RhdGVtZW50KG9wZXJhdGlvbi5nZXRTcWwoKSk7XG4gICAgODdcdCAgICAgICAgICAgICAgICBvcGVyYXRpb24uc2V0UGFyYW1ldGVycyhwcyk7XG4gICAgODhcdCAgICAgICAgICAgICAgICBwcy5leGVjdXRlVXBkYXRlKCk7XG4gICAgODlcdCAgICAgICAgICAgICAgICBwcy5jbG9zZSgpO1xuICAgIDkwXHQgICAgICAgICAgICB9XG4gICAgOTFcdFxuICAgIDkyXHQgICAgICAgICAgICAvLyBDb21taXQgdHJhbnNhY3Rpb25cbiAgICA5M1x0ICAgICAgICAgICAgY29ubi5jb21taXQoKTtcbiAgICA5NFx0ICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgOTVcdFxuICAgIDk2XHQgICAgICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSBpZiBwcm92aWRlZFxuICAgIDk3XHQgICAgICAgICAgICBpZiAoc3VjY2Vzc01zZyAhPSBudWxsICYmICFzdWNjZXNzTXNnLmlzRW1wdHkoKSkge1xuICAgIDk4XHQgICAgICAgICAgICAgICAgSk9wdGlvblBhbmUuc2hvd01lc3NhZ2VEaWFsb2cobnVsbCwgc3VjY2Vzc01zZywgXCJTdWNjZXNzXCIsIEpPcHRpb25QYW5lLklORk9STUFUSU9OX01FU1NBR0UpO1xuICAgIDk5XHQgICAgICAgICAgICB9XG4gICAxMDBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDEwMVx0ICAgICAgICAgICAgLy8gUm9sbGJhY2sgdHJhbnNhY3Rpb24gb24gZXJyb3JcbiAgIDEwMlx0ICAgICAgICAgICAgdHJ5IHtcbiAgIDEwM1x0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIGNvbm4ucm9sbGJhY2soKTtcbiAgIDEwNFx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIHJvbGxiYWNrRXgpIHtcbiAgIDEwNVx0ICAgICAgICAgICAgICAgIHJvbGxiYWNrRXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMDZcdCAgICAgICAgICAgIH1cbiAgIDEwN1x0XG4gICAxMDhcdCAgICAgICAgICAgIEpPcHRpb25QYW5lLnNob3dNZXNzYWdlRGlhbG9nKG51bGwsIFwiRXJyb3I6IFwiICsgZS5nZXRNZXNzYWdlKCksIFwiRXJyb3JcIiwgSk9wdGlvblBhbmUuRVJST1JfTUVTU0FHRSk7XG4gICAxMDlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxMTBcdCAgICAgICAgfSBmaW5hbGx5IHtcbiAgIDExMVx0ICAgICAgICAgICAgdHJ5IHtcbiAgIDExMlx0ICAgICAgICAgICAgICAgIGlmIChjb25uICE9IG51bGwpIHtcbiAgIDExM1x0ICAgICAgICAgICAgICAgICAgICBjb25uLnNldEF1dG9Db21taXQodHJ1ZSk7XG4gICAxMTRcdCAgICAgICAgICAgICAgICAgICAgY29ubi5jbG9zZSgpO1xuICAgMTE1XHQgICAgICAgICAgICAgICAgfVxuICAgMTE2XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTE3XHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDExOFx0ICAgICAgICAgICAgfVxuICAgMTE5XHQgICAgICAgIH1cbiAgIDEyMFx0XG4gICAxMjFcdCAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAxMjJcdCAgICB9XG4gICAxMjNcdFxuICAgMTI0XHQgICAgLyoqXG4gICAxMjVcdCAgICAgKiBJbnRlcmZhY2UgZm9yIFNRTCBvcGVyYXRpb25zIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xuICAgMTI2XHQgICAgICovXG4gICAxMjdcdCAgICBwdWJsaWMgaW50ZXJmYWNlIFNxbE9wZXJhdGlvbiB7XG4gICAxMjhcdCAgICAgICAgU3RyaW5nIGdldFNxbCgpO1xuICAgMTI5XHQgICAgICAgIHZvaWQgc2V0UGFyYW1ldGVycyhQcmVwYXJlZFN0YXRlbWVudCBwcykgdGhyb3dzIEV4Y2VwdGlvbjtcbiAgIDEzMFx0ICAgIH1cbiAgIDEzMVx0fVxuICAgMTMyXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiY2FiNzFlZjgtZmUyZC00ODE2LTkzODItMDdiNzdmMDI5ZDljO3Rvb2x1XzAxWUZlVndKMU1ZWkJNMUJ4SFlETWFTVSI6eyJyZXF1ZXN0SWQiOiJjYWI3MWVmOC1mZTJkLTQ4MTYtOTM4Mi0wN2I3N2YwMjlkOWMiLCJ0b29sVXNlSWQiOiJ0b29sdV8wMVlGZVZ3SjFNWVpCTTFCeEhZRE1hU1UiLCJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9EQU8vU3Vic2NyaWJlckRBTy5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZSBmb3IgZW50cnkgd2l0aCBpbmRleCBbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgM1x0ICogQ2xpY2sgbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NsYXNzLmphdmEgdG8gZWRpdCB0aGlzIHRlbXBsYXRlXG4gICAgIDRcdCAqL1xuICAgICA1XHRwYWNrYWdlIERBTztcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBNb2RlbC5TdWJzY3JpYmVyO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxMFx0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxMVx0aW1wb3J0IERBTy5EYk9wZXJhdGlvbnMuU3FsT3BlcmF0aW9uO1xuICAgIDEyXHRcbiAgICAxM1x0LyoqXG4gICAgMTRcdCAqXG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2UgZm9yIGVudHJ5IHdpdGggaW5kZXggWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTVcdCAqIEBhdXRob3IgTmdvYyBUaGFvXG4gICAgMTZcdCAqL1xuICAgIDE3XHRwdWJsaWMgY2xhc3MgU3Vic2NyaWJlckRBT3tcbiAgICAxOFx0XG4gICAgMTlcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgaW5zZXJ0KGZpbmFsIFN1YnNjcmliZXIgb2JqKSB7XG4gICAgMjBcdCAgICAgICAgLy8gR2VuZXJhdGUgdXNlcl9pZCBhbmQgc3Vic2NyaWJlcl9pZFxuICAgIDIxXHQgICAgICAgIGZpbmFsIGludCB1c2VySWQgPSBEYk9wZXJhdGlvbnMuZ2V0TmV4dElkKFwiVVNFUlwiLCBcInVzZXJfaWRcIik7XG4gICAgMjJcdCAgICAgICAgZmluYWwgaW50IHN1YnNjcmliZXJJZCA9IERiT3BlcmF0aW9ucy5nZXROZXh0SWQoXCJTVUJTQ1JJQkVSXCIsIFwic3Vic2NyaWJlcl9pZFwiKTtcbiAgICAyM1x0XG4gICAgMjRcdCAgICAgICAgLy8gU2V0IHRoZSBnZW5lcmF0ZWQgSURzXG4gICAgMjVcdCAgICAgICAgb2JqLnNldFVzZXJfaWQodXNlcklkKTtcbiAgICAyNlx0ICAgICAgICBvYmouc2V0U3Vic2NyaWJlcl9pZChzdWJzY3JpYmVySWQpO1xuICAgIDI3XHRcbiAgICAyOFx0ICAgICAgICAvLyBDcmVhdGUgU1FMIG9wZXJhdGlvbnMgZm9yIHRoZSB0cmFuc2FjdGlvblxuICAgIDI5XHQgICAgICAgIFNxbE9wZXJhdGlvbltdIG9wZXJhdGlvbnMgPSBuZXcgU3FsT3BlcmF0aW9uW10ge1xuICAgIDMwXHQgICAgICAgICAgICAvLyBJbnNlcnQgaW50byBVU0VSIHRhYmxlXG4gICAgMzFcdCAgICAgICAgICAgIG5ldyBTcWxPcGVyYXRpb24oKSB7XG4gICAgMzJcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAzM1x0ICAgICAgICAgICAgICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3FsKCkge1xuICAgIDM0XHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklOU0VSVCBJTlRPIFVTRVIodXNlcl9pZCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8pXCI7XG4gICAgMzVcdCAgICAgICAgICAgICAgICB9XG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgMzhcdCAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJhbWV0ZXJzKFByZXBhcmVkU3RhdGVtZW50IHBzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAzOVx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICA0MFx0ICAgICAgICAgICAgICAgICAgICBwcy5zZXRTdHJpbmcoMiwgb2JqLmdldFVzZXJuYW1lKCkpO1xuICAgIDQxXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygzLCBvYmouZ2V0UGFzc3dvcmQoKSk7XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDQsIG9iai5nZXRSb2xlKCkpO1xuICAgIDQzXHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmFsdWVPZihvYmouZ2V0Q3JlYXRlX2F0KCkpKTtcbiAgICA0NFx0ICAgICAgICAgICAgICAgIH1cbiAgICA0NVx0ICAgICAgICAgICAgfSxcbiAgICA0Nlx0XG4gICAgNDdcdCAgICAgICAgICAgIC8vIEluc2VydCBpbnRvIFNVQlNDUklCRVIgdGFibGVcbiAgICA0OFx0ICAgICAgICAgICAgbmV3IFNxbE9wZXJhdGlvbigpIHtcbiAgICA0OVx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgIDUwXHQgICAgICAgICAgICAgICAgcHVibGljIFN0cmluZyBnZXRTcWwoKSB7XG4gICAgNTFcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSU5TRVJUIElOVE8gU1VCU0NSSUJFUiAoc3Vic2NyaWJlcl9pZCwgbmFtZSwgYWRkcmVzcywgcGhvbmUsIHVzZXJfaWQpIFZBTFVFUyAoPywgPywgPywgPywgPylcIjtcbiAgICA1Mlx0ICAgICAgICAgICAgICAgIH1cbiAgICA1M1x0XG4gICAgNTRcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICA1NVx0ICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHNldFBhcmFtZXRlcnMoUHJlcGFyZWRTdGF0ZW1lbnQgcHMpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIDU2XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldEludCgxLCBzdWJzY3JpYmVySWQpO1xuICAgIDU3XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZygyLCBvYmouZ2V0RnVsbE5hbWUoKSk7XG4gICAgNThcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0U3RyaW5nKDMsIG9iai5nZXRBZGRyZXNzKCkpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgICAgIHBzLnNldFN0cmluZyg0LCBvYmouZ2V0UGhvbmUoKSk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICAgICAgcHMuc2V0SW50KDUsIHVzZXJJZCk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICB9XG4gICAgNjJcdCAgICAgICAgICAgIH1cbiAgICA2M1x0ICAgICAgICB9O1xuICAgIDY0XHRcbiAgICA2NVx0ICAgICAgICAvLyBFeGVjdXRlIHRoZSB0cmFuc2FjdGlvblxuICAgIDY2XHQgICAgICAgIERiT3BlcmF0aW9ucy5leGVjdXRlVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgXCLEkMSDbmcga8O9IHRow6BuaCBjw7RuZyFcIik7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdCAgICB9XG4gICAgNjlcdFxuICAgIDcwXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIHVwZGF0ZShTdWJzY3JpYmVyIG9iaikge1xuICAgIDcxXHQgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vdCBzdXBwb3J0ZWQgeWV0LlwiKTsgLy8gR2VuZXJhdGVkIGZyb20gbmJmczovL25iaG9zdC9TeXN0ZW1GaWxlU3lzdGVtL1RlbXBsYXRlcy9DbGFzc2VzL0NvZGUvR2VuZXJhdGVkTWV0aG9kQm9keVxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFsyXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDgyXHQgICAgcHVibGljIHN0YXRpYyBMaXN0PFN1YnNjcmliZXI+IGdldEFsbCgpIHtcbiAgICA4M1x0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA4NFx0ICAgIH1cbiAgICA4NVx0XG4gICAgODZcdFxuICAgIDg3XHR9XG4gICAgODhcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJkMThhYTU5MC1kYTM0LTRjZmUtYTAyOS01NjIwYTQ0ZTk4ZDE7dG9vbHVfMDE3Nnd5WHpTaDhWTkxwbTJKaFBBMVJDIjp7InJlcXVlc3RJZCI6ImQxOGFhNTkwLWRhMzQtNGNmZS1hMDI5LTU2MjBhNDRlOThkMSIsInRvb2xVc2VJZCI6InRvb2x1XzAxNzZ3eVh6U2g4Vk5McG0ySmhQQTFSQyIsInBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL0RBTy9TdWJzY3JpYmVyREFPLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlIGZvciBlbnRyeSB3aXRoIGluZGV4IFswXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDYxXHQgICAgICAgICAgICAgICAgfVxuICAgIDYyXHQgICAgICAgICAgICB9XG4gICAgNjNcdCAgICAgICAgfTtcbiAgICA2NFx0XG4gICAgNjVcdCAgICAgICAgLy8gRXhlY3V0ZSB0aGUgdHJhbnNhY3Rpb25cbiAgICA2Nlx0ICAgICAgICBEYk9wZXJhdGlvbnMuZXhlY3V0ZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIFwixJDEg25nIGvDvSB0aMOgbmggY8O0bmchXCIpO1xuICAgIDY3XHQgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCB1cGRhdGUoU3Vic2NyaWJlciBvYmopIHtcbiAgICA3MFx0ICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oXCJOb3Qgc3VwcG9ydGVkIHlldC5cIik7IC8vIEdlbmVyYXRlZCBmcm9tIG5iZnM6Ly9uYmhvc3QvU3lzdGVtRmlsZVN5c3RlbS9UZW1wbGF0ZXMvQ2xhc3Nlcy9Db2RlL0dlbmVyYXRlZE1ldGhvZEJvZHlcbiAgICA3MVx0ICAgIH1cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzQWdlbnRPbmJvYXJkZWQiOnRydWUsImhhc0RpcnR5RWRpdHMiOnRydWUsImJhc2VsaW5lVGltZXN0YW1wIjoxNzQ2OTU2MjI4OTIwfSwicGVyc29uYVR5cGUiOjB9fSwiYWdlbnRFeGVjdXRpb25Nb2RlIjoibWFudWFsIiwiaXNBZ2VudEVkaXRzQ29sbGFwc2VkIjp0cnVlfQ==" />
      </map>
    </option>
  </component>
</project>